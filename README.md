# WaruSmart-Codex-Report 

<div align="center">
  <h3>Universidad Peruana de Ciencias Aplicadas</h3>

<img src="https://upload.wikimedia.org/wikipedia/commons/f/fc/UPC_logo_transparente.png" width="150" height="150">

<h5>Ingeniería de Software - 7mo ciclo</h5>
  <h5>Desarrollo de Soluciones IOT - 1ASI0572</h5>
  <h5>
NRC: 2947</h5>
  <h5>Docente: Angel Augusto Velasquez Nuñez</h5>
  <h5>Startup: Codex</h5>
  <h5>Producto: WaruSmart</h5>
</div>

## Team Members 

<div align="center">

<table>
  <thead>
    <tr>
      <th>Nombre</th>
      <th>Código</th>
    </tr>
  </thead>
  <tbody>
    <tr><td>Anderson Walter Macedo Calsina</td><td>U20201C179</td></tr>
    <tr><td>Cabrera Camizan, Jeferson Smith</td><td>U20211C211</td></tr>
    <tr><td>More Rondon, Christopher Sebastian</td><td>U202212199</td></tr>
    <tr><td>Quispe Condori, Fernando Daniel</td><td>U20221C628</td></tr>
    <tr><td>Velasquez Pizarro, Jair</td><td>U202218114</td></tr>
    <tr><td>Pingus Rodriguez, Carlos Daniel</td><td>U202113280</td></tr>
    <tr><td>Herrera Castillo, Victor Raul</td><td>U20201E188</td></tr>
  </tbody>
</table>

</div>

<div align="center">
  <h5>Ciclo 2025-10</h5>
</div>

### Registro de Informes

| Versión | Fecha    | Autor(es)                                                                                                                                                                                                                     | Descripción de modificación                                                                                                |
| -------- | -------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------- |
| 0.1      | 04/04/25 | Anderson Walter Macedo Calsina                                                                                                                                                                                                | Redacción del Perfil Inicial                                                                                                |
| 0.2      | 06/04/25 | Cabrera Camizan, Jeferson Smith                                                                                                                                                                                               | Proceso Lean UX, Mapeo de Eventos, Recolección de Testimonios, Contextos Delimitados                                        |
| 0.3      | 09/04/25 | More Rondon, Christopher Sebastian                                                                                                                                                                                            | Modelo C4, Encuesta Inicial                                                                                                  |
| 0.4      | 10/04/25 | Quispe Condori, Fernando Daniel                                                                                                                                                                                               | Perfil de Startup, Perfil de Solución, Entrevistas, Mapeo de Impacto, Cartografía de Contexto                              |
| 0.5      | 11/04/25 | Velasquez Pizarro, Jair                                                                                                                                                                                                       | Precisión del Context Mapping, Reconocimiento de Ámbitos Delimitados                                                       |
| 0.6      | 12/04/25 | Pingus Rodriguez, Carlos Daniel                                                                                                                                                                                               | Ajustes en el Impact Mapping, Primeros Casos de Uso                                                                          |
| 0.7      | 14/04/25 | Herrera Castillo, Victor Raul                                                                                                                                                                                                 | Ajuste de Hipótesis UX, Preparación de Cuestionarios                                                                       |
| 0.8      | 17/04/25 | Anderson Walter Macedo Calsina, More Rondon, Christopher Sebastian                                                                                                                                                            | Correcciones al Modelo C4, Creación de Perfiles de Usuario                                                                  |
| 0.9      | 20/04/25 | Quispe Condori, Fernando Daniel, Velasquez Pizarro, Jair                                                                                                                                                                      | Escenario As-Is, Elaboración de Mapas de Empatía                                                                           |
| 1.0      | 22/04/25 | Anderson Walter Macedo Calsina, Cabrera Camizan, Jeferson Smith, More Rondon, Christopher Sebastian, Quispe Condori, Fernando Daniel, Velasquez Pizarro, Jair, Pingus Rodriguez, Carlos Daniel, Herrera Castillo, Victor Raul | Versión final de TB1: Portada, Historial de Cambios, Introducción, Necesidades, Detalles Técnicos, Propuesta de Solución |

### Project Report Collaboration Insights

URL del repositorio para el reporte del proyecto: https://github.com/upc-pre-202510-1asi0572-2947-codex/WaruSmart-Codex-Report/tree/develop

TB1
Para el desarrollo del informe perteneciente a la entrega TB1, se dividió la implementación de secciones de la siguiente forma
para cada integrante del equipo:

| Integrante                         | Tareas Asignadas                                                                      |
| ---------------------------------- | ------------------------------------------------------------------------------------- |
| Anderson Walter Macedo Calcina     | analisis competitivo, estrategias y tacticas, registro de entrevistas                 |
| Cabrera Camizan, Jeferson Smith    | EventStorming, Candidate Context Discovery, Bounded Context Canvases yContext Mapping |
| More Rondon, Christopher Sebastian | Needfinding, diseño de entrevistas, estructura del informe                           |
| Quispe Condori, Fernando Daniel    | Solutio Profile - Bounded context canvases - Diagram Flow MeSSAGES                    |
| Velasquez Pizarro, Jair            | User Stories - Impact Mapping - Product Backlog                                                                                   |
| Pingus Rodriguez, Carlos Daniel    | Definición de Bounded Contexts                                                       |
| Herrera Castillo, Victor Raul      | Diagramas C4                                                                          |

# Contenido

## Tabla de Contenidos

- [WaruSmart-Codex-Report](#warusmart-codex-report)
  - [Team Members](#team-members)
    - [Registro de Informes](#registro-de-informes)
    - [Project Report Collaboration Insights](#project-report-collaboration-insights)
- [Contenido](#contenido)
  - [Tabla de Contenidos](#tabla-de-contenidos)
    - [Capítulo V: Solution UI/UX Design](#capítulo-v-solution-uiux-design)
    - [Capítulo VI: Product Implementation, Validation \& Deployment](#capítulo-vi-product-implementation-validation--deployment)
  - [Student Outcome](#student-outcome)
- [Capítulo I: Introducción.](#capítulo-i-introducción)
  - [1.1 **Startup Profile.**](#11-startup-profile)
    - [1.1.1   Descripción del startup](#111---descripción-del-startup)
    - [1.1.2   Perfiles de integrantes del equipo](#112---perfiles-de-integrantes-del-equipo)
  - [1.2 **Solution Profile.**](#12-solution-profile)
    - [1.2.1   Antecedentes y problemática](#121---antecedentes-y-problemática)
        - [Antecedentes](#antecedentes)
        - [Problemática](#problemática)
        - [Aplicación de las 5 W’s y 2 H’s](#aplicación-de-las-5-ws-y-2-hs)
    - [1.2.2 Lean UX Process](#122-lean-ux-process)
      - [1.2.2.1 Lean UX Problem Statements](#1221-lean-ux-problem-statements)
      - [1.2.2.2 Lean UX Assumptions](#1222-lean-ux-assumptions)
        - [**Business Assumptions:**](#business-assumptions)
        - [**User Assumptions**](#user-assumptions)
        - [**Feature Assumptions**](#feature-assumptions)
      - [1.2.2.3 Lean UX Hypothesis Statements](#1223-lean-ux-hypothesis-statements)
        - [Lean UX Hypothesis Statements](#lean-ux-hypothesis-statements)
      - [1.2.2.4 Lean UX Canvas.](#1224-lean-ux-canvas)
    - [1.3 **Segmentos Objetivos.**](#13-segmentos-objetivos)
      - [Agricultores Individuales](#agricultores-individuales)
      - [Cooperativas Agrarias](#cooperativas-agrarias)
- [Capítulo II: Requirements Elicitation \& Analysis.](#capítulo-ii-requirements-elicitation--analysis)
  - [2.1 **Competidores.**](#21-competidores)
    - [2.1.1   Análisis competitivo.](#211---análisis-competitivo)
    - [2.1.2   Estrategias y tácticas frente a competidores.](#212---estrategias-y-tácticas-frente-a-competidores)
  - [2.2 **Entrevistas**](#22-entrevistas)
    - [2.2.1   Diseño de entrevistas.](#221---diseño-de-entrevistas)
    - [2.2.2   Registro de entrevistas.](#222---registro-de-entrevistas)
    - [2.2.3   Análisis de entrevistas.](#223---análisis-de-entrevistas)
  - [2.3 **Needfinding.**](#23-needfinding)
    - [2.3.1   User Personas.](#231---user-personas)
    - [2.3.2   User Task Matrix.](#232---user-task-matrix)
    - [2.3.3   User Journey Mapping.](#233---user-journey-mapping)
    - [2.3.4   Empathy Mapping.](#234---empathy-mapping)
    - [2.3.5   As-Is Scenario Mapping.](#235---as-is-scenario-mapping)
  - [2.4 **Ubiquitous Language.**](#24-ubiquitous-language)
- [Capítulo III: Requirements Specification.](#capítulo-iii-requirements-specification)
  - [3.1 **To-Be Scenario Mapping.**](#31-to-be-scenario-mapping)
  - [3.2 **User Stories.**](#32-user-stories)
  - [3.3 **Impact Mapping.**](#33-impact-mapping)
  - [3.4 **Product Backlog.**](#34-product-backlog)
- [Capítulo IV: Solution Software Design](#capítulo-iv-solution-software-design)
  - [4.1 StrategicLevel Domain-Driven Design](#41-strategiclevel-domain-driven-design)
    - [4.1.1 EventStorming](#411-eventstorming)
      - [4.1.1.1 Candidate Contex Discovery](#4111-candidate-contex-discovery)
      - [4.1.1.2 Domain Message Flows Modeling](#4112-domain-message-flows-modeling)
      - [4.1.1.3 Bounded Context Canvases](#4113-bounded-context-canvases)
    - [4.1.2 Context Mapping](#412-context-mapping)
  - [Análisis de Alternativas de Diseño](#análisis-de-alternativas-de-diseño)
    - [4.1.3 Software Architecture](#413-software-architecture)
      - [4.1.3.1 Software Architecture System Landscape Diagram](#4131-software-architecture-system-landscape-diagram)
      - [4.1.3.2 Software Architecture Context Level Diagrams](#4132-software-architecture-context-level-diagrams)
      - [4.1.3.2 Software Architecture Container Level Diagrams](#4132-software-architecture-container-level-diagrams)
      - [4.1.3.2 Software Architecture Deployment Diagrams](#4132-software-architecture-deployment-diagrams)
  - [4.2. Tactical-Level Domain-Driven Design](#42-tactical-level-domain-driven-design)
    - [4.2.1. Bounded Context: IAM (Identity and Access Management)](#421-bounded-context-iam-identity-and-access-management)
    - [Diccionario de Clases](#diccionario-de-clases)
      - [Clase: `User`](#clase-user)
        - [Atributos](#atributos)
        - [Métodos](#métodos)
      - [Clase: `Role`](#clase-role)
        - [Atributos](#atributos-1)
        - [Métodos](#métodos-1)
      - [4.2.1.1 Domain Layer](#4211-domain-layer)
    - [Aggregate Root](#aggregate-root)
      - [Aggregate: `User`](#aggregate-user)
        - [Atributos](#atributos-2)
        - [Métodos](#métodos-2)
    - [Entities](#entities)
      - [Entidad: `Role`](#entidad-role)
        - [Atributos](#atributos-3)
        - [Métodos](#métodos-3)
    - [Value Objects](#value-objects)
      - [Value Object: `Permission`](#value-object-permission)
        - [Atributos](#atributos-4)
        - [Métodos](#métodos-4)
    - [Domain Services](#domain-services)
      - [Servicio de Dominio: `UserManagementService`](#servicio-de-dominio-usermanagementservice)
        - [Métodos](#métodos-5)
    - [Repositories](#repositories)
      - [Repositorio: `UserRepository`](#repositorio-userrepository)
        - [Métodos](#métodos-6)
      - [4.2.1.2 Interface Layer](#4212-interface-layer)
    - [Bounded Context: IAM](#bounded-context-iam)
    - [UserController](#usercontroller)
      - [4.2.1.3 Application Layer](#4213-application-layer)
    - [Command Handlers](#command-handlers)
      - [UserCreationCommandHandler](#usercreationcommandhandler)
      - [PasswordUpdateCommandHandler](#passwordupdatecommandhandler)
      - [RoleAssignmentCommandHandler](#roleassignmentcommandhandler)
    - [Event Handlers](#event-handlers)
      - [UserDeactivatedEventHandler](#userdeactivatedeventhandler)
      - [4.2.1.4 Infraestructure Layer](#4214-infraestructure-layer)
    - [Repositorios](#repositorios)
      - [UserRepository](#userrepository)
      - [RoleRepository](#rolerepository)
      - [4.2.1.5 Bounded Context Software Architecture Component Level Diagrams](#4215-bounded-context-software-architecture-component-level-diagrams)
      - [4.2.1.6 Bounded Context Software Architecture Code Level Diagrams](#4216-bounded-context-software-architecture-code-level-diagrams)
        - [4.2.1.6.1 Bounded Context Domain Layer Class Diagrams](#42161-bounded-context-domain-layer-class-diagrams)
        - [4.2.1.6.2 Bounded Context Database Design Diagrams](#42162-bounded-context-database-design-diagrams)
    - [4.2.2 Bounded Context: Subscriptions and Payments](#422-bounded-context-subscriptions-and-payments)
    - [Diccionario de Clases](#diccionario-de-clases-1)
      - [Clase: `Subscription`](#clase-subscription)
        - [Atributos](#atributos-5)
        - [Métodos](#métodos-7)
      - [Clase: `SubscriptionTier`](#clase-subscriptiontier)
        - [Atributos](#atributos-6)
        - [Métodos](#métodos-8)
      - [Clase: `SubscriptionStatus`](#clase-subscriptionstatus)
        - [Atributos](#atributos-7)
        - [Métodos](#métodos-9)
      - [4.2.2.1 Domain Layer](#4221-domain-layer)
    - [Aggregate Root](#aggregate-root-1)
      - [Aggregate: `Subscription`](#aggregate-subscription)
        - [Atributos](#atributos-8)
        - [Métodos](#métodos-10)
    - [Entities](#entities-1)
      - [Entidad: `Account`](#entidad-account)
        - [Atributos](#atributos-9)
        - [Métodos](#métodos-11)
    - [Value Objects](#value-objects-1)
      - [Value Object: `SubscriptionTier`](#value-object-subscriptiontier)
        - [Atributos](#atributos-10)
        - [Métodos](#métodos-12)
      - [Value Object: `SubscriptionStatus`](#value-object-subscriptionstatus)
        - [Atributos](#atributos-11)
        - [Métodos](#métodos-13)
    - [Domain Services](#domain-services-1)
      - [Servicio de Dominio: `AccountManagementService`](#servicio-de-dominio-accountmanagementservice)
        - [Métodos](#métodos-14)
    - [Repositories](#repositories-1)
      - [Repositorio: `SubscriptionRepository`](#repositorio-subscriptionrepository)
        - [Métodos](#métodos-15)
      - [Repositorio: `AccountRepository`](#repositorio-accountrepository)
        - [Métodos](#métodos-16)
      - [4.2.2.2 Interface Layer](#4222-interface-layer)
    - [Bounded Context: Subscriptions and Payments](#bounded-context-subscriptions-and-payments)
    - [SubscriptionController](#subscriptioncontroller)
    - [PaymentController](#paymentcontroller)
      - [4.2.2.3 Application Layer](#4223-application-layer)
    - [Command Handlers](#command-handlers-1)
      - [SubscriptionCreationCommandHandler](#subscriptioncreationcommandhandler)
      - [SubscriptionUpgradeCommandHandler](#subscriptionupgradecommandhandler)
      - [SubscriptionCancellationCommandHandler](#subscriptioncancellationcommandhandler)
      - [PaymentProcessingCommandHandler](#paymentprocessingcommandhandler)
    - [Event Handlers](#event-handlers-1)
      - [SubscriptionCreatedEventHandler](#subscriptioncreatedeventhandler)
      - [PaymentSucceededEventHandler](#paymentsucceededeventhandler)
      - [PaymentFailedEventHandler](#paymentfailedeventhandler)
      - [4.2.2.4 Infraestructure Layer](#4224-infraestructure-layer)
    - [Repositorios](#repositorios-1)
      - [AccountRepository](#accountrepository)
      - [SubscriptionRepository](#subscriptionrepository)
      - [PaymentRepository](#paymentrepository)
      - [4.2.2.5 Bounded Context Softwre Architecture Component Level Diagrams](#4225-bounded-context-softwre-architecture-component-level-diagrams)
      - [4.2.2.6 Bounded Context Softwre Architecture Code Level Diagrams](#4226-bounded-context-softwre-architecture-code-level-diagrams)
        - [4.2.2.6.1 Bounded Context Domain Layer Class Diagrams](#42261-bounded-context-domain-layer-class-diagrams)
        - [4.2.2.6.2 Bounded Context Database Design Diagrams](#42262-bounded-context-database-design-diagrams)
    - [4.2.3 Bounded Context: Crops Management (Notification)](#423-bounded-context-crops-management-notification)
      - [4.2.3.1 Domain Layer](#4231-domain-layer)
    - [Aggregate Root](#aggregate-root-2)
      - [Aggregate: `Crop`](#aggregate-crop)
        - [Atributos](#atributos-12)
        - [Métodos](#métodos-17)
    - [Entities](#entities-2)
      - [Entidad: `Field`](#entidad-field)
        - [Atributos](#atributos-13)
        - [Métodos](#métodos-18)
    - [Value Objects](#value-objects-2)
      - [Value Object: `CropType`](#value-object-croptype)
        - [Atributos](#atributos-14)
        - [Métodos](#métodos-19)
    - [Domain Services](#domain-services-2)
      - [Servicio de Dominio: `CropManagementService`](#servicio-de-dominio-cropmanagementservice)
        - [Métodos](#métodos-20)
    - [Repositories](#repositories-2)
      - [Repositorio: `CropRepository`](#repositorio-croprepository)
        - [Métodos](#métodos-21)
      - [Repositorio: `FieldRepository`](#repositorio-fieldrepository)
        - [Métodos](#métodos-22)
      - [4.2.3.2 Interface Layer](#4232-interface-layer)
    - [Bounded Context: Crops Management](#bounded-context-crops-management)
    - [CropController](#cropcontroller)
      - [4.2.3.3 Application Layer](#4233-application-layer)
    - [Command Handlers](#command-handlers-2)
      - [CropRegistrationCommandHandler](#cropregistrationcommandhandler)
      - [CropStatusUpdateCommandHandler](#cropstatusupdatecommandhandler)
      - [CropFieldReassignmentCommandHandler](#cropfieldreassignmentcommandhandler)
    - [Event Handlers](#event-handlers-2)
      - [CropStatusChangedEventHandler](#cropstatuschangedeventhandler)
      - [4.2.3.4 Infraestructure Layer](#4234-infraestructure-layer)
    - [Repositorios](#repositorios-2)
      - [CropRepository](#croprepository)
      - [FieldRepository](#fieldrepository)
      - [4.2.3.5 Bounded Context Softwre Architecture Component Level Diagrams](#4235-bounded-context-softwre-architecture-component-level-diagrams)
      - [4.2.3.6 Bounded Context Softwre Architecture Code Level Diagrams](#4236-bounded-context-softwre-architecture-code-level-diagrams)
        - [4.2.3.6.1 Bounded Context Domain Layer Class Diagrams](#42361-bounded-context-domain-layer-class-diagrams)
        - [4.2.3.6.2 Bounded Context Database Design Diagrams](#42362-bounded-context-database-design-diagrams)
    - [4.2.4 Bounded Context: Irrigation Management](#424-bounded-context-irrigation-management)
      - [4.2.4.1 Domain Layer](#4241-domain-layer)
    - [Aggregate Root](#aggregate-root-3)
      - [Aggregate: `IrrigationPlan`](#aggregate-irrigationplan)
        - [Atributos](#atributos-15)
        - [Métodos](#métodos-23)
    - [Entities](#entities-3)
      - [Entidad: `IrrigationSchedule`](#entidad-irrigationschedule)
        - [Atributos](#atributos-16)
        - [Métodos](#métodos-24)
      - [Entidad: `IrrigationEvent`](#entidad-irrigationevent)
        - [Atributos](#atributos-17)
        - [Métodos](#métodos-25)
    - [Value Objects](#value-objects-3)
    - [Domain Services](#domain-services-3)
      - [Servicio de Dominio: `IrrigationManagementService`](#servicio-de-dominio-irrigationmanagementservice)
        - [Métodos](#métodos-26)
    - [Repositories](#repositories-3)
      - [Repositorio: `IrrigationPlanRepository`](#repositorio-irrigationplanrepository)
        - [Métodos](#métodos-27)
      - [Repositorio: `IrrigationEventRepository`](#repositorio-irrigationeventrepository)
        - [Métodos](#métodos-28)
      - [4.2.4.2 Interface Layer](#4242-interface-layer)
    - [Bounded Context: Irrigation Management](#bounded-context-irrigation-management)
    - [IrrigationController](#irrigationcontroller)
      - [4.2.4.3 Application Layer](#4243-application-layer)
    - [Command Handlers](#command-handlers-3)
      - [IrrigationPlanCreationCommandHandler](#irrigationplancreationcommandhandler)
      - [IrrigationSchedulingCommandHandler](#irrigationschedulingcommandhandler)
      - [IrrigationEventRecordingCommandHandler](#irrigationeventrecordingcommandhandler)
    - [Event Handlers](#event-handlers-3)
      - [IrrigationScheduleChangedEventHandler](#irrigationschedulechangedeventhandler)
      - [4.2.4.4 Infraestructure Layer](#4244-infraestructure-layer)
    - [Repositorios](#repositorios-3)
      - [IrrigationPlanRepository](#irrigationplanrepository)
      - [IrrigationScheduleRepository](#irrigationschedulerepository)
      - [IrrigationEventRepository](#irrigationeventrepository)
      - [4.2.4.5 Bounded Context Softwre Architecture Component Level Diagrams](#4245-bounded-context-softwre-architecture-component-level-diagrams)
      - [4.2.4.6 Bounded Context Software Architecture Code Level Diagrams](#4246-bounded-context-software-architecture-code-level-diagrams)
        - [4.2.4.6.1 Bounded Context Domain Layer Class Diagrams](#42461-bounded-context-domain-layer-class-diagrams)
        - [4.2.4.6.2 Bounded Context Database Design Diagrams](#42462-bounded-context-database-design-diagrams)
    - [4.2.5 Bounded Context: Crops Reports Management](#425-bounded-context-crops-reports-management)
  - [Diccionario de Clases](#diccionario-de-clases-2)
    - [Clase: `CropReport`](#clase-cropreport)
        - [Atributos](#atributos-18)
        - [Métodos](#métodos-29)
    - [Clase: `HistoricalReport`](#clase-historicalreport)
        - [Atributos](#atributos-19)
        - [Métodos](#métodos-30)
      - [4.2.5.1 Domain Layer](#4251-domain-layer)
    - [Aggregate Root](#aggregate-root-4)
      - [Aggregate: `CropReport`](#aggregate-cropreport)
        - [Atributos](#atributos-20)
        - [Métodos](#métodos-31)
    - [Entities](#entities-4)
      - [Entidad: `HistoricalReport`](#entidad-historicalreport)
        - [Atributos](#atributos-21)
        - [Métodos](#métodos-32)
    - [Value Objects](#value-objects-4)
    - [Domain Services](#domain-services-4)
      - [Servicio de Dominio: `CropReportService`](#servicio-de-dominio-cropreportservice)
        - [Métodos](#métodos-33)
    - [Repositories](#repositories-4)
      - [Repositorio: `CropReportRepository`](#repositorio-cropreportrepository)
        - [Métodos](#métodos-34)
      - [Repositorio: `HistoricalReportRepository`](#repositorio-historicalreportrepository)
        - [Métodos](#métodos-35)
      - [4.2.5.2 Interface Layer](#4252-interface-layer)
    - [Bounded Context: Crops Reports Management](#bounded-context-crops-reports-management)
    - [CropReportController](#cropreportcontroller)
      - [4.2.5.3 Application Layer](#4253-application-layer)
    - [Command Handlers](#command-handlers-4)
      - [CropReportGenerationCommandHandler](#cropreportgenerationcommandhandler)
      - [HistoricalReportGenerationCommandHandler](#historicalreportgenerationcommandhandler)
      - [YieldEstimateUpdateCommandHandler](#yieldestimateupdatecommandhandler)
    - [Event Handlers](#event-handlers-4)
      - [CropStatusUpdatedEventHandler](#cropstatusupdatedeventhandler)
      - [4.2.5.4 Infraestructure Layer](#4254-infraestructure-layer)
    - [Repositorios](#repositorios-4)
      - [CropReportRepository](#cropreportrepository)
      - [HistoricalReportRepository](#historicalreportrepository)
      - [4.2.5.5 Bounded Context Software Architecture Component Level Diagrams](#4255-bounded-context-software-architecture-component-level-diagrams)
      - [4.2.5.6 Bounded Context Softwre Architecture Code Level Diagrams](#4256-bounded-context-softwre-architecture-code-level-diagrams)
      - [4.2.5.6.1 Bounded Context Domain Layer Class Diagrams](#42561-bounded-context-domain-layer-class-diagrams)
      - [4.2.5.6.2 Bounded Context Database Design Diagrams](#42562-bounded-context-database-design-diagrams)
  - [Conclusiones](#conclusiones)
  - [Recomendaciones](#recomendaciones)
  - [Video About-the-Team](#video-about-the-team)
- [Bibliografía](#bibliografía)
- [Anexos](#anexos)
    - [Videos de Exposición](#videos-de-exposición)

### Capítulo V: Solution UI/UX Design

- [5.1 Style Guidelines](#51-style-guidelines)
  - [5.1.1 General Style Guidelines](#511-general-style-guidelines)
  - [5.1.2 Web, Mobile and IoT Guidelines](#512-web-mobile-and-iot-guidelines)
- [5.2 Information Architecture](#52-information-architecture)
  - [5.2.1 Organization Systems](#521-organization-systems)
  - [5.2.2 Labeling Systems](#522-labeling-systems)
  - [5.2.3 SEO &amp; Meta Tags](#523-seo--meta-tags)
  - [5.2.4 Searching Systems](#524-searching-systems)
  - [5.2.5 Navigation Systems](#525-navigation-systems)
- [5.3 Landing Page UI Design](#53-landing-page-ui-design)
  - [5.3.1 Wireframe](#531-wireframe)
  - [5.3.2 Mock-up](#532-mock-up)
- [5.4 Applications UX/UI Design](#54-applications-uxui-design)
  - [5.4.1 Wireframes](#541-wireframes)
  - [5.4.2 Wireflow Diagrams](#542-wireflow-diagrams)
  - [5.4.3 Mock-ups](#543-mock-ups)
  - [5.4.4 User Flow Diagrams](#544-user-flow-diagrams)
- [5.5 Applications Prototyping](#55-applications-prototyping)

### Capítulo VI: Product Implementation, Validation & Deployment

- [6.1 Software Configuration Management](#61-software-configuration-management)

  - [6.1.1 Environment Setup](#611-environment-setup)
  - [6.1.2 Source Code Management](#612-source-code-management)
  - [6.1.3 Style Guide &amp; Conventions](#613-style-guide--conventions)
  - [6.1.4 Deployment Setup](#614-deployment-setup)
- [6.2 Implementation: Sprints](#62-implementation-sprints)

  - [6.2.X Sprint n](#62x-sprint-n)
    - [Sprint Planning](#sprint-planning)
    - [Sprint Backlog](#sprint-backlog)
    - [Development Evidence](#development-evidence)
    - [Testing Suite](#testing-suite)
    - [Execution Evidence](#execution-evidence)
    - [Documentation Evidence](#documentation-evidence)
    - [Deployment Evidence](#deployment-evidence)
    - [Team Collaboration Insights](#team-collaboration-insights)
- [6.3 Validation Interviews](#63-validation-interviews)

  - [6.3.1 Diseño de Entrevistas](#631-diseño-de-entrevistas)
  - [6.3.2 Registro de Entrevistas](#632-registro-de-entrevistas)
  - [6.3.3 Evaluaciones según heurísticas](#633-evaluaciones-según-heurísticas)
- [6.4 Video About-the-Product](#64-video-about-the-product)
- [Conclusiones y recomendaciones](#conclusiones-y-recomendaciones)
- [Video about the team](#video-about-the-team)
- [Bibliografía](#bibliografia)
- [Anexos](#anexos)

## Student Outcome
| **Criterio específico**                                                                  | **Acciones realizadas**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | **Conclusiones**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| ----------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Trabaja en equipo para proporcionar liderazgo en forma conjunta                                 | **Victor Herrera Castillo:**<br>**TB1:** En esta entrega, trabajamos de manera colaborativa como equipo para definir los puntos a desarrollar, y yo cumplí con las actividades asignadas, que incluyeron el análisis de competidores, el registro de entrevistas y la elaboración de estrategias y tácticas a implementar.<br>**Anderson Walter Macedo Calsina:**<br>**TB1:** Para esta entrega, se coordinó como equipo los puntos a trabajar de forma colaborativa y cumplí con las actividades como el análisis de los competidores, el registro de entrevistas y las estrategias y tácticas a seguir.<br> **Carlos Daniel Pingus Rodriguez:**<br>**TB1:** En esta primera entrega coordiné con mi equipo los principales puntos a desarrollar para avanzar de la manera más evidente posible tomando en cuenta las fortalezas y debilidades de mis compañeros.<br> **Fernando Daniel Quispe Condori:**<br>**TB1:** En esta entrega el hecho de reunirnos colaborativamente, asignarnos tareas e ir revisando el avance que teníamos me permitió alcanzar el objetivo específico.<br> **Christopher Sebastian More Rondon:**<br>**TB1:** Para esta entrega coordiné con mi equipo la división de las tareas, encargándome de realizar el Needfinding y el diseño de las preguntas de entrevista, así como de monitorear la estructura del informe.<br> **Jair Velasquez Pizarro:**<br>**TB1:** En esta primera entrega coordiné con mi equipo para las asignaciones de tareas, donde se me encargó el capítulo de Requirements para el diseño de historias de usuarios.<br> **Jeferson Smith Cabrera Camizan:**<br>**TB1:** Para esta primera entrega, coordiné con mi equipo el desarrollo del Event Storming de nuestro sistema de riego inteligente Warusmart. Trabajé en la definición de eventos, generación de Timelines, identificación de Pain Points, Pivotal Points y la estructura de Commands y Policies. Propuse alternativas para la organización de los Bounded Contexts y participé en la elaboración de Context Mapping. Me aseguré de mantener una comunicación continua para integrar todos los aportes y llegar a una visión de sistema coherente. | En esta primera entrega, el trabajo en equipo fue fundamental para alcanzar los objetivos propuestos. Cada integrante coordinó de manera efectiva la división de tareas y contribuyó activamente en sus respectivas responsabilidades, desde el análisis de competidores, el registro de entrevistas y la definición de estrategias, hasta el diseño de preguntas de Needfinding, la elaboración de requisitos, el seguimiento del informe y la organización del Event Storming. La comunicación constante, la asignación colaborativa de actividades y el reconocimiento de las fortalezas y debilidades individuales permitieron que el equipo avance de manera ordenada y cumpla con los entregables planteados. |
| Crea un entorno colaborativo e inclusivo, establece metas, planifica tareas y cumple objetivos. | **Victor Herrera Castillo:**<br>**TB1:** En esta entrega, colaboré con mi equipo en la identificación de las necesidades de los usuarios, lo que nos permitió definir las funcionalidades de nuestra solución.<br> **Anderson Walter Macedo Calsina:**<br>**TB1:** En esta entrega realicé el análisis de otras empresas con sus soluciones tecnológicas, comparándolas y afrontando las fortalezas y aprovechando las debilidades, además de identificar oportunidades y amenazas para la organización.<br> **Carlos Daniel Pingus Rodriguez:**<br>**TB1:** Para entregar el TB1 realicé el análisis de los bounded context junto con mi equipo para delimitar nuestro alcance en cuanto al proyecto.<br> **Fernando Daniel Quispe Condori:**<br>**TB1:** En esta entrega pude planificar y cumplir con las tareas asignadas y de la misma manera trabajar colaborativamente con mi equipo para lograr nuestro objetivo alcanzado.<br> **Christopher Sebastian More Rondon:**<br>**TB1:** En esta entrega ayudé a mi equipo a identificar las necesidades de los usuarios, con lo cual conseguimos identificar las funcionalidades de nuestra solución.<br> **Jair Velasquez Pizarro:**<br>**TB1:** En esta primera entrega me reuní con mi equipo para poder identificar las necesidades de nuestros segmentos objetivos y encontrar las funcionalidades que necesita nuestra solución.<br> **Jeferson Smith Cabrera Camizan:**<br>**TB1:** En esta entrega, planifiqué junto con mi equipo el flujo de trabajo para levantar toda la información de nuestro sistema Warusmart. Propuse dividir las tareas en fases: exploración no estructurada, identificación de eventos críticos, creación de Commands, definición de Policies, Read Models, External Systems y Aggregates. Además, coordiné la integración de las relaciones entre bounded contexts mediante Context Mapping, siguiendo los patrones de DDD como Shared Kernel, ACL, Customer/Supplier y Conformist. | Durante esta entrega, el equipo trabajó de manera coordinada para analizar el entorno y definir claramente el alcance del proyecto. Se realizaron comparaciones de soluciones tecnológicas de otras empresas, identificando oportunidades y amenazas para la organización, además de delimitar los bounded context necesarios para enfocar los esfuerzos. La planificación y cumplimiento de tareas asignadas, así como la colaboración constante, permitieron identificar correctamente las necesidades de los usuarios y establecer las funcionalidades esenciales para la solución planteada. El compromiso y la participación activa de todos los integrantes fueron claves para lograr los objetivos propuestos. |

# Capítulo I: Introducción.

## 1.1 **Startup Profile.**

### 1.1.1   Descripción del startup

WaruSmart es una startup peruana creada por estudiantes de la Universidad Peruana de Ciencias Aplicadas (UPC) que desarrolla soluciones IoT para optimizar el riego en el sector agrícola mediante sensores de humedad, temperatura, clima, entre otros. Permitiendo a los agricultores gestionar el riego de forma automática o manual, visualizar datos en tiempo real a través de una app móvil y web, recibir alertas por condiciones críticas y acceder a un historial de datos por parcela, con un modelo de negocio basado en la venta de kits IoT y suscripciones para funciones avanzadas.

### 1.1.2   Perfiles de integrantes del equipo

| Perfil | Foto |
|--------|------|
| Nombre: Fernando Daniel Quispe Condori<br />Carrera: Ingeniería de Software<br />Código: U20221C628<br />Descripción: Soy Fernando Daniel Quispe Condori, tengo 20 años y curso la carrera de Ingeniería de Software. Cuento con las habilidades técnicas para apoyar a mi equipo en el desarrollo de nuestra solución IoT en el contexto actual, así mismo cuento con habilidades para la gestión de equipos y colaborar efectivamente como un equipo. | <img src="Assets/team/fernando-quispe.jpg" width="160"/> |
| Nombre: Anderson Walter Macedo Calsina<br />Carrera: Ingeniería de Software<br />Código: U20201C179<br />Descripción: Soy Anderson Walter Macedo Calsina, tengo 22 años y actualmente estoy estudiando Ingeniería de Software en la UPC. Me gusta colaborar con mis compañeros y contribuir en proyectos conjuntos. Estoy dispuesto a contribuir a mi equipo en el desarrollo del proyecto con los conocimientos que he ido adquiriendo. | <img src="Assets/team/anderson-macedo.jpg" width="160"/> |
| Nombre: Christopher Sebastian More Rondon<br />Carrera: Ingeniería de Software<br />Código: U202212199<br />Descripción: Soy estudiante del séptimo ciclo de Ingeniería de Software, actualmente tengo 20 años. Soy un estudiante que colabora constantemente en el desarrollo de los proyectos, así como dar soluciones creativas a los problemas que surgen durante la creación de estos. Siempre me esfuerzo por entregar un buen trabajo. | <img src="Assets/team/christopher-more.jpg" width="160"/> |
| Nombre: Jair Velasquez Pizarro<br />Carrera: Ingeniería de Software<br />Código: U202218114<br />Descripción: Estoy cursando el séptimo ciclo de la carrera de Ingeniería de Software. Manejo los lenguajes de TypeScript, Java, JavaScript a nivel intermedio, cuento con experiencia en desarrollo FullStack como también habilidades de trabajo en equipo para colaborar de forma efectiva. | <img src="Assets/team/jair-velasquez.jpeg" width="160"/> |
| Nombre: Carlos Daniel Pingus Rodriguez<br />Carrera: Ingeniería de Software<br />Código: U202113280<br />Descripción: Soy estudiante de la carrera de Ingeniería de Software. Me gusta la tecnología y cómo esta misma ha cambiado significativamente en mi tiempo de vida. Me considero alguien responsable y comprometido con los proyectos; trato de estar a la par con mis compañeros y compartir con ellos mis conocimientos en ciertos temas específicos. | <img src="https://res.cloudinary.com/dydklnicb/image/upload/v1745581562/foto_carlos.jpg" width="160"/> |
| Nombre: Jeferson Smith Cabrera Camizan<br />Carrera: Ingeniería de Software<br />Código: U20211C211<br />Descripción: Estudiante universitario de la carrera de Ingeniería de Software. Me gusta trabajar en conjunto para el desarrollo del proyecto. Cuento con conocimientos en lenguajes HTML, CSS, JS, C++ y Agile Project Management. | <img src="https://res.cloudinary.com/drkelnilg/image/upload/v1745628789/imagen_2025-04-25_195308443_hzznhf.png" width="160"/> |
| Nombre: Victor Raul Herrera Castillo<br />Carrera: Ingeniería de Software<br />Código: U20201E188<br />Descripción: Soy un estudiante de la carrera de Ingeniería de Software, apasionado por la tecnología y sus oportunidades en el ámbito de la ciencia. Me gusta leer y enseñar a otras personas los conocimientos que aprendí durante el desarrollo de mi carrera. | <img src="https://res.cloudinary.com/djia8bsvr/image/upload/v1712333792/Name_pacjmt.jpg" width="160"/> |

## 1.2 **Solution Profile.**

### 1.2.1   Antecedentes y problemática

##### Antecedentes

En el contexto actual peruano, la agricultura enfrenta desafíos significativos debido al cambio climático, la escasez de agua y la necesidad de aumentar la productividad para satisfacer la creciente demanda de alimentos. Según la FAO, el sector agrícola consume aproximadamente el 70% del agua dulce disponible a nivel mundial, lo que resalta la importancia de optimizar el uso de este recurso. En Perú, donde la agricultura es una actividad económica clave, muchos agricultores aún dependen de métodos tradicionales de riego que no son eficientes y generan desperdicio de agua. Además, el acceso limitado a tecnologías avanzadas dificulta la adopción de prácticas de agricultura inteligente, especialmente en comunidades rurales.

##### Problemática

La problemática principal radica en la falta de herramientas accesibles y efectivas para gestionar el riego de manera eficiente en los campos de cultivo. Esto genera un uso excesivo de agua, costos elevados y una menor productividad agrícola. **Los agricultores necesitan soluciones tecnológicas que les permitan monitorear en tiempo real las condiciones del suelo y el clima, automatizar el riego y recibir alertas ante situaciones críticas.** Sin embargo, las opciones disponibles en el mercado suelen ser costosas o complejas, lo que limita su adopción por parte de pequeños y medianos agricultores. Esta brecha tecnológica afecta no solo la sostenibilidad del sector agrícola, sino también la seguridad alimentaria y el desarrollo económico de las comunidades rurales.

##### Aplicación de las 5 W’s y 2 H’s

-**Who**: Los actores clave involucrados son los agricultores individuales, y los pertenecientes a cooperativas agrarias. Estos grupos han sido identificados en estudios del Ministerio de Agricultura de Perú y del Instituto Nacional de Innovación Agraria como pilares fundamentales para la adopción de tecnologías que impulsen la transformación digital y la eficiencia en el manejo de recursos hídricos. https://www.gob.pe/institucion/midagri/noticias/815784-midagri-inicia-la-transformacion-digital-de-la-agricultura-familiar

-**What**: La propuesta se centra en la optimización del riego a través de una solución IoT accesible y eficiente. Investigaciones publicadas por la FAO y estudios sobre agricultura inteligente en América Latina resaltan la capacidad de estas tecnologías para transformar prácticas tradicionales en métodos de riego más precisos, contribuyendo a una gestión sostenible y a una mayor productividad. https://www.fao.org/family-farming/detail/es/c/1612596/

-**Where**: La implementación se orienta hacia campos de cultivo en Perú, particularmente en zonas rurales donde el acceso a tecnologías avanzadas es limitado. Informes del Banco Mundial y análisis de desarrollo regional destacan que estas áreas requieren intervención tecnológica para mejorar la eficiencia en el uso de recursos y enfrentar desafíos climáticos.

-**When**: La necesidad de esta solución es urgente en el contexto actual marcado por el cambio climático y la creciente demanda de alimentos. Reportes del IPCC y estudios de la FAO subrayan que el momento presente es crítico para implementar soluciones innovadoras que mitiguen el impacto ambiental y aseguren la producción alimentaria a largo plazo.

-**Why**: La motivación principal es reducir el desperdicio de agua, aumentar la productividad agrícola y promover la sostenibilidad en el sector. Comparativas de técnicas de riego y análisis del Ministerio de Agricultura evidencian cómo una gestión más inteligente del agua puede generar beneficios económicos y medioambientales para los agricultores y la sociedad en general.

-**How**: La solución propuesta utiliza sensores IoT para medir variables críticas como la humedad del suelo, temperatura y condiciones climáticas, combinados con un sistema de automatización del riego y una plataforma digital para monitoreo en tiempo real. Casos de éxito en el ámbito del smart farming y estudios técnicos en publicaciones especializadas demuestran la viabilidad y eficacia de esta integración tecnológica.

-**How Much**: El enfoque de monetización se basa en la venta de kits IoT y la oferta de suscripciones accesibles para acceder a funciones avanzadas del sistema. Modelos de negocio analizados en reportes de financiamiento agrícola y tendencias de inversiones en AgTech confirman que esta estructura permite un equilibrio entre financiación inicial y sostenibilidad económica a través de ingresos recurrentes.

### 1.2.2 Lean UX Process

#### 1.2.2.1 Lean UX Problem Statements

A continuación se presentan los statements del proceso Lean UX donde se incluyen aspectos como domain, customer segments, pain points, gap, visión/strategy e initial segment.

WaruSmart, nuestra herramienta de riego automatizado, fue diseñada para ofrecer a los agricultores, una solución para el control del riego, automatizando este proceso a través de soluciones IoT de manera eficiente y sencilla. El objetivo es garantizar un proceso agrícola automatizado, evitando las fallas humanas que puedan existir, y de esta manera ofrecer servicios de visualización de una data organizada y precisa sobre la gestión de sus cultivos para la toma de mejores decisiones.

La adopción de las tecnologías IoT en la agricultura puede ser un desafío debido a la desconfianza o falta de experiencia en el sector entre los agricultores. A pesar de esto, estudios muestran que quienes utilizan herramientas digitales para gestionar sus cultivos tienden a lograr mejores resultados, como mayores rendimientos y menor desperdicio de recursos. Por lo tanto, nuestro desafío es: **¿Cómo podemos automatizar el proceso de riego agrícola, superando las barreras de confianza y asegurando que los agricultores vean beneficios tangibles, como una mayor productividad y eficiencia?**

Para abordar esta pregunta, necesitamos centrarnos en las siguientes directrices:

- **Enfoque centrado en el cliente:** La solución debe ser fácil de usar y entender para agricultores con cualquier nivel de experiencia tecnológica, siempre priorizando el feedback y mejoras que nuestros clientes puedan brindarnos.
- **Alcance claro:** Nos centraremos en la automatización del riego de cultivos con tecnologías IoT, excluyendo la gestión operativa (cantidad de cultivos, tipos, productos usados, etc.).
- **Medidas de éxito:** El éxito se medirá por la reducción de tiempo en el proceso de riego y la mejora en la cantidad de producción y calidad de producto, recopilando datos que nos permitan visualizar el estado de mejora de los cultivos de nuestros clientes.

#### 1.2.2.2 Lean UX Assumptions

##### **Business Assumptions:**

1. **Creemos que nuestros usuarios necesitan** una gestión automatizada e inteligente del riego de sus cultivos, permitiendo monitorear condiciones ambientales y ajustar el riego en tiempo real.
2. **Estas necesidades se pueden satisfacer con** el desarrollo de WaruSmart, una solución IoT integrada con sensores y una interfaz web que garantice el registro preciso y la automatización del riego.
3. **Nuestros clientes iniciales serán** agricultores que buscan modernizar sus métodos tradicionales de riego, desde pequeños productores hasta empresas agrícolas en expansión, cooperativas y ONG's.
4. **El valor más importante que quiere un cliente de nuestros servicios es** la seguridad de que sus cultivos reciben la cantidad óptima de agua en el momento justo, reduciendo desperdicios y aumentando la productividad.
5. **El cliente también va a obtener** datos en tiempo real, alertas automáticas y análisis estadísticos del desempeño de sus cultivos, facilitando decisiones informadas para la optimización de recursos.
6. **Vamos a obtener la mayoría de los clientes mediante** alianzas estratégicas con asociaciones agrícolas, demostraciones en campo y campañas dirigidas en foros y redes sociales especializadas en tecnología agrícola.
7. **Vamos a obtener ingresos mediante** un modelo de suscripción escalonado que ofrezca planes básicos y avanzados, complementado con la venta de kits de sensores IoT y dispositivos de automatización.
8. **Nuestra competencia en el mercado será** soluciones tradicionales de riego manual y otras plataformas digitales con menor integración IoT, análisis en tiempo real y/o que contengan otras tecnologías
9. **Vamos a tener ventaja frente a nuestra competencia debido a** la integración completa de sensores precisos, análisis predictivo y una interfaz intuitiva, accesible tanto para agricultores novatos como experimentados.
10. **El mayor riesgo del producto es** no lograr que el sector agrícola, usualmente reacio a cambios, confíe en nuevas tecnologías. Este reto se mitigará mediante soporte técnico continuo y capacitaciones prácticas.
11. **Lo resolveremos realizando** pruebas de campo, incorporando feedback de los usuarios y actualizando la plataforma de manera iterativa para garantizar un sistema robusto, confiable y adaptable a las necesidades reales de los agricultores.

##### **User Assumptions**

**¿Quién es el usuario?**
El usuario de WaruSmart es un agricultor que busca modernizar y optimizar el riego de sus cultivos. Este segmento abarca tanto a agricultores tradicionales que desean incursionar en la digitalización, como a productores profesionales(cooperativas, entre otros) que quieren maximizar la eficiencia del uso del agua.

**¿Qué problema tiene nuestro producto que resolver?**
El principal reto es la gestión manual del riego, que propicia ineficiencias y errores en la asignación de recursos hídricos. WaruSmart aborda este problema ofreciendo automatización, monitoreo en tiempo real y alertas predictivas para asegurar un riego óptimo y evitar la pérdida de agua en base a sensores de calidad del aire, temperatura y calidad del suelo.

**¿Qué características son importantes?**Es crucial que la plataforma tenga:

- Integración de sensores IoT para monitoreo en tiempo real.
- Funcionalidades de alerta y notificaciones ante condiciones críticas.
- Herramientas de análisis y visualización de datos históricos para la toma de decisiones.
- Un ecosistema amigable con el usuario agrícola, fácil de entender y manejar.

**¿Dónde encaja nuestro producto en su trabajo o vida?**
WaruSmart se integra en las labores diarias del agricultor, facilitando la supervisión remota y el control automatizado del riego, lo que permite dedicar más tiempo a otras tareas esenciales y optimizar la producción así como la calidad agrícola.

**¿Cuándo y cómo es usado nuestro producto?**
El sistema se utiliza durante el ciclo completo del cultivo. Los sensores envían datos continuamente, permitiendo ajustes inmediatos al riego y un control constante de las condiciones ambientales, desde la preparación del terreno hasta la cosecha.

**¿Cómo debe verse nuestro producto y cómo debe comportarse?**
El sistema WaruSmart es un producto de confianza, respaldado por datos precisos. La aplicación ofrecerá una interfaz web robusta y responsiva, que facilitará una navegación intuitiva y garantizará la integridad de cada registro y alerta. Así se asegura una experiencia de usuario de alta calidad y la provisión de datos confiables para análisis avanzados.

##### **Feature Assumptions**

- **Creemos que** la integración de análisis predictivo basado en datos históricos permitirá a los agricultores anticipar las necesidades de riego y optimizar recursos de manera proactiva.
- **Creemos que** la incorporación de notificaciones y alertas automáticas incrementará la efectividad del monitoreo, evitando situaciones de riego excesivo o insuficiente.
- **Creemos que** la posibilidad de visualizar gráficos y tendencias en tiempo real empoderará a los usuarios para tomar decisiones informadas sobre el manejo de sus cultivos.

#### 1.2.2.3 Lean UX Hypothesis Statements

##### Lean UX Hypothesis Statements

**Hypothesis Statement 01:**
**Creemos** que automatizar el riego mediante sensores IoT aumentará la eficiencia en el uso del agua, beneficiando tanto a agricultores tradicionales como modernos.
**Sabremos** que hemos tenido éxito cuando se registre una reducción del consumo de agua en al menos un 20% y una mejora significativa en la productividad de los cultivos en un 30%.

**Hypothesis Statement 02:**
**Creemos** que una interfaz limpia e intuitiva facilitará la adopción del sistema al eliminar barreras tecnológicas para usuarios de distintos niveles de experiencia.
**Sabremos** que hemos tenido éxito cuando al menos el 70% de los usuarios califiquen la interfaz como "muy fácil de usar" en las encuestas de satisfacción.

**Hypothesis Statement 03:**
**Creemos** que la integración de alertas en tiempo real y análisis predictivo reducirá errores manuales y optimizará la productividad de los cultivos.
**Sabremos** que hemos tenido éxito cuando se observe una disminución del 30% en la incidencia de errores durante el riego.

**Hypothesis Statement 04:**
**Hipotetizamos** que el modelo de negocio basado en suscripciones y venta de kits IoT es viable y sostenible, permitiendo la expansión y mejora continua de la plataforma.
**Sabremos** que hemos tenido éxito cuando se registre un crecimiento mensual en ingresos del 15% y se establezcan alianzas estratégicas que impulsen la adopción del sistema.

#### 1.2.2.4 Lean UX Canvas.

A continuación se presenta el Lean UX Canvas realizado para nuestra solución:

Lean UX Canvas:

![Lean UX Canvas](Assets/lean-ux-canvas/lean-ux-canvas-warusmart.png)

### 1.3 **Segmentos Objetivos.**

#### Agricultores Individuales

- Representan productores que gestionan sus cultivos de manera autónoma.
- Buscan soluciones tecnológicas para automatizar y optimizar el riego, reduciendo desperdicios y mejorando la productividad.
- Valoran interfaces simples, alertas en tiempo real y herramientas de análisis que faciliten la toma de decisiones.
- Requieren soporte técnico y capacitaciones que faciliten la transición hacia tecnologías IoT.

#### Cooperativas Agrarias

- Agrupaciones de agricultores que comparten conocimientos, gastos y ganancias.
- Interesadas en impulsar políticas públicas y proyectos de impacto social que favorezcan el desarrollo agrario.
- Buscan soluciones que permitan un monitoreo centralizado y análisis de datos para implementar estrategias de mejora en comunidades rurales.
- Actúan como facilitadoras en la difusión y adopción de innovaciones tecnológicas en el sector agrícola.

# Capítulo II: Requirements Elicitation & Analysis.

## 2.1 **Competidores.**

### 2.1.1   Análisis competitivo.

|                                                         | WaruSmart                                                                                                                                                                                                                                   | Agrobit                                                                                                                                                                              | Netafirm                                                                                                                                                                                                                                                                | Irritec                                                                                                                                                                                                 |
| ------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| PERFIL                                                  |                                                                                                                                                                                                                                             |                                                                                                                                                                                      |                                                                                                                                                                                                                                                                         |                                                                                                                                                                                                         |
| Overview                                                | Solución digital peruana enfocada en la gestión eficiente del riego para agricultores individuales y cooperativas agrarias.                                                                                                               | Plataforma integral de gestión agrícola que combina datos agronómicos y geo-espaciales para optimizar operaciones desde la siembra hasta la distribución.                        | Empresa israelí líder en soluciones de riego por goteo y fertirrigación, ofreciendo tecnologías avanzadas para maximizar la eficiencia hídrica y nutricional en cultivos a nivel mundial.                                                                          | Empresa italiana especializada en sistemas de riego y fertirrigación, proporcionando soluciones sostenibles y eficientes para la agricultura moderna.                                                  |
| Ventaja competitiva ¿Qué valor ofrece a los clientes? | Solución accesible y adaptada a pequeños y medianos agricultores peruanos, con enfoque en facilidad de uso.                                                                                                                               | Integración de Machine Learning y Big Data para ofrecer planificación inteligente, monitoreo predictivo y trazabilidad con enfoque en sostenibilidad y eficiencia operativa.       | Tecnología de punta con sistemas como DripNet PC™, que integra monitoreo, análisis y control del riego en una sola plataforma, adaptándose a diversas condiciones agrícolas y ofreciendo recomendaciones en tiempo real basadas en modelos dinámicos de cultivos. | Amplia gama de productos de riego que combinan innovación y sostenibilidad, adaptándose a diferentes tipos de cultivos y condiciones, con un enfoque en la eficiencia del uso del agua y la energía. |
| PERFIL DE MARKETING                                     |                                                                                                                                                                                                                                             |                                                                                                                                                                                      |                                                                                                                                                                                                                                                                         |                                                                                                                                                                                                         |
| M4ercado Objetivo                                       | Agricultores individuales y cooperativas agrarias en Perú.                                                                                                                                                                                 | Empresas agrícolas que buscan digitalizar y optimizar sus procesos productivos, con un enfoque en cultivos extensivos, intensivos, frutihortícolas y forestales.                   | Agricultores de todos los tamaños a nivel global, desde pequeños productores hasta grandes explotaciones agrícolas, que buscan soluciones eficientes de riego y fertirrigación.                                                                                     | Agricultores y empresas agrícolas que requieren soluciones de riego eficientes y sostenibles, adaptadas a diversas condiciones y tipos de cultivos.                                                    |
| Estrategias de Marketing                                | Alianzas estratégicas con asociaciones agrícolas, demostraciones en campo y campañas dirigidas en redes sociales y foros especializados. Se incluirán capacitaciones prácticas y soporte técnico como parte del proceso de adopción. | Implementación de pilotos gratuitos en parcelas de agricultores locales para demostrar los beneficios del sistema. Los casos de éxito se usan como referencia en nuevas campañas. | Participación en ferias agrícolas, demostraciones en campo y alianzas con distribuidores locales. Además, ofrecen capacitaciones y soporte técnico para garantizar la correcta implementación de sus sistemas.                                                     | Presencia en ferias y eventos agrícolas, colaboraciones con distribuidores y enfoque en la sostenibilidad como valor diferencial en sus campañas de marketing.                                        |
| PERFIL DE PRODUCTO                                      |                                                                                                                                                                                                                                             |                                                                                                                                                                                      |                                                                                                                                                                                                                                                                         |                                                                                                                                                                                                         |
| Productos & Servicios                                   | Kits IoT para riego, plataforma web y móvil para monitoreo y control, alertas y análisis de datos.                                                                                                                                        | Plataforma digital que integra planificación, monitoreo y análisis de datos para optimizar la producción agrícola.                                                               | Sistemas de riego por goteo, fertirrigación y soluciones digitales como DripNet PC™ para el monitoreo y control del riego.                                                                                                                                            | Sistemas de riego por goteo, microaspersión y soluciones de fertirrigación adaptadas a diferentes cultivos y condiciones agrícolas.                                                                  |
| Precios & Costos                                        | Modelo de suscripción escalonado con kits IoT accesibles para pequeños y medianos agricultores.                                                                                                                                           | Modelo de suscripción basado en el tamaño y necesidades de la operación agrícola.                                                                                                | Precios variables según el tamaño y complejidad del sistema de riego requerido, con opciones personalizadas para diferentes tipos de agricultores.                                                                                                                    | Precios competitivos con opciones personalizadas según las necesidades del cliente y el tipo de cultivo.                                                                                               |
| Canales de distribución (Web y/o Móvil)               | Plataforma web y aplicación móvil para Android e iOS.                                                                                                                                                                                     | Plataforma web y aplicación móvil con funcionalidades online y offline para facilitar el trabajo en campo.                                                                         | Distribuidores autorizados, ventas directas y presencia en línea a través de su sitio web oficial.                                                                                                                                                                    | Distribuidores autorizados y ventas directas a través de su red comercial y sitio web oficial.                                                                                                         |
| ANALISIS SWOT                                           |                                                                                                                                                                                                                                             |                                                                                                                                                                                      |                                                                                                                                                                                                                                                                         |                                                                                                                                                                                                         |
| Fortalezas                                              | Adaptación al contexto local, facilidad de uso, soporte técnico cercano.                                                                                                                                                                  | Integración de tecnologías avanzadas, enfoque en sostenibilidad y amplia experiencia en el sector agrícola.                                                                       | Liderazgo en innovación tecnológica, amplia experiencia global y soluciones adaptadas a diferentes condiciones agrícolas.                                                                                                                                            | Amplia gama de productos, enfoque en sostenibilidad y presencia internacional en el mercado de sistemas de riego.                                                                                       |
| Debilidades                                             | Limitada experiencia en el mercado, recursos limitados para expansión.                                                                                                                                                                     | Dependencia de la conectividad y posibles barreras tecnológicas en zonas rurales.                                                                                                   | Costos iniciales elevados para pequeños agricultores y necesidad de capacitación para el uso de tecnologías avanzadas.                                                                                                                                               | Menor presencia en algunos mercados emergentes y necesidad de adaptación a diferentes normativas locales.                                                                                              |
| Oportunidades                                           | Creciente demanda de soluciones tecnológicas en la agricultura peruana, apoyo gubernamental.                                                                                                                                               | Expansión en mercados emergentes y creciente interés en la digitalización del sector agrícola.                                                                                   | Aumento de la conciencia sobre la eficiencia hídrica y la necesidad de soluciones sostenibles en la agricultura.                                                                                                                                                       | Creciente demanda de sistemas de riego eficientes y sostenibles en diversas regiones del mundo.                                                                                                         |
| Amenazas                                                | Competencia de grandes empresas, resistencia al cambio por parte de agricultores tradicionales.                                                                                                                                             | Competencia de plataformas similares y posibles barreras de entrada en nuevos mercados.                                                                                              | Competencia creciente en el mercado de tecnologías de riego y cambios en las regulaciones ambientales.                                                                                                                                                                 | Fluctuaciones en los precios de los insumos y competencia de nuevas tecnologías emergentes.                                                                                                            |

### 2.1.2   Estrategias y tácticas frente a competidores.

**AFRONTAR LAS FORTALEZAS (de la competencia):**

- *Diferenciación por enfoque local:* Mientras Netafim e Irritec operan a nivel global, WaruSmart puede destacarse por su conocimiento profundo del contexto agrícola peruano, ofreciendo soluciones adaptadas a las realidades locales.
- *Atención personalizada:* Brindar soporte técnico cercano y capacitaciones prácticas ayuda a compensar la experiencia tecnológica de competidores como Agrobit.

**APROVECHAR LAS DEBILIDADES (de la competencia):**

- *Accesibilidad económica:* Frente a los altos costos de implementación de tecnologías avanzadas como las de Netafim e Irritec, WaruSmart puede posicionarse como una opción más asequible para pequeños y medianos agricultores.
- *Facilidad de uso:* La simplicidad en el diseño de la plataforma permite a WaruSmart destacarse frente a herramientas más complejas como las de Agrobit, facilitando la adopción en zonas rurales con menos experiencia tecnológica.

**OPORTUNIDADES Y AMENAZAS DE LA COMPETENCIA:**

- *Oportunidades:*

  - Establecer alianzas con cooperativas agrícolas y entidades gubernamentales para fortalecer su red de apoyo y validación.
  - Innovar continuamente en nuevas funcionalidades adaptadas al contexto peruano, como monitoreo offline, alertas por SMS, o integración con fuentes de datos locales (clima, suelos, etc.).
- *Amenazas:*

  - Entrada de nuevos competidores con soluciones tecnológicas más sofisticadas o con mayores recursos financieros.
  - Cambios en políticas gubernamentales que puedan afectar la inversión en innovación agrícola o restringir el uso de ciertas tecnologías.

## 2.2 **Entrevistas**

### 2.2.1   Diseño de entrevistas.

A continuacion se mostrara las preguntas que se le realizaron a los entrevistados en busca de obtener la mejor informacion posible para nuestra solucion

<h4>PREGUNTAS GENERALES:</h4>
<p>1. Presentese con su nombre, lugar de residencia y edad </p>
<p>2. ¿Suele hacer uso de la tecnología en el día a día? </p>
<p>3. ¿Tiene dificultades al usar aparatos digitales?</p>

<h4>PREGUNTAS PARA AGRICULTORES INDIVIDUALES:</h4>
<p>4. ¿De que manera lleva el registros de los riegos a sus cultivos?</p>
<p>5. ¿Que datos considera mas relevantes para el cuidado de sus cultivo?</p>
<p>6. ¿En alguna ocasion ha tenido problemas con el registro del riego a sus cultivos?. Si es asi, ¿le ha provocado perdidas economica o de tiempo?</p>
<p>7. ¿Alguna vez ha experimentado problemas para regar sus plantaciones?. Si es asi, ¿que suele hacer en esas situaciones?</p>
<p>8. (Comentar la propuesta) ¿Estaria interesado en este sistema para ayudarle con el riego? ¿Por qué?</p>
<p>9. ¿Cuanto estaria dispuesto a pagar por el servicio?</p>
<p>10. ¿Cree que esta clase de herramientas podrían facilitar el trabajo a otros agricultores?</p>

<h4>PREGUNTAS PARA MIEMBROS DE COOPERATIVAS AGRARIAS:</h4>
<p>4. ¿Como registran las necesidades de los cultivos de la cooperativa?</p>
<p>5. ¿Los miembros suelen tener problemas para la gestion de sus cultivos?</p>
<p>6. ¿De que manera se organizan para conseguir los materiales necesarios con los que cuidar los cultivos?</p>
<p>7. ¿Han tenido perdidas por las dificultades de organizar tantos cultivos?</p>
<p>8. ¿Suelen usar herramientas para facilitar el cuidado de cultivos?. Si es asi, ¿cuales?</p>
<p>9. (Comentar la propuesta) ¿Cree que este sistema ayudaria a facilitar su trabajo?</p>
<p>10. ¿Cuanto estarian dispuestos a pagar por el sistema?</p>

### 2.2.2   Registro de entrevistas.

**Segmento1: Agricultores individuales**

Entrevista 1: Moisés Luque

Edad: 47

Departamento: Aucallama, Huaral

![Entrevista WaruSmart Moises](Assets/interviews/Entrevista-WaruSmart-Moises.png)

Enlace: https://upcedupe-my.sharepoint.com/:v:/g/personal/u20201c179_upc_edu_pe/EXuW4XXkLIhItSs9_jN5i7MBJRmzug7Giqo9J9O6CYVrsA?e=r5ytuc&nav=eyJyZWZlcnJhbEluZm8iOnsicmVmZXJyYWxBcHAiOiJTdHJlYW1XZWJBcHAiLCJyZWZlcnJhbFZpZXciOiJTaGFyZURpYWxvZy1MaW5rIiwicmVmZXJyYWxBcHBQbGF0Zm9ybSI6IldlYiIsInJlZmVycmFsTW9kZSI6InZpZXcifX0%3D

Resumen:
Moisés Luque, agricultor de 47 años residente en Aucallama, comenta que utiliza su celular a diario, aunque en ocasiones tiene dificultades para manejarlo. Para llevar el registro de los riegos de sus cultivos, solía anotar las fechas y horas en un cuaderno, aunque reconoce que no siempre era constante con este hábito. Considera que los datos más importantes para el cuidado de sus cultivos son la cantidad de agua, el clima, el tipo de cultivo y el estado de la tierra. Ha tenido problemas en el pasado por no registrar adecuadamente los riegos, lo que le llevaba a regar de más o de menos, afectando el cultivo. También ha enfrentado dificultades técnicas, como la falta de agua o fallas en el sistema de riego, obligándolo a regar manualmente con ayuda, lo cual era más lento y menos eficiente. Al conocer la propuesta de WaruSmart, expresó interés, especialmente porque le permitiría organizar mejor los datos y recibir alertas sobre cuándo y cuánto regar. Afirmó que estaría dispuesto a pagar por el servicio si el precio es accesible y el sistema funciona bien, sugiriendo incluso una cuota mensual mínima. Finalmente, cree que esta herramienta también sería de gran ayuda para otros agricultores, ya que muchos aún trabajan de manera manual y tienen dificultades con el uso de tecnología.

Entrevista 2: Walter Cayrampoma

Edad: 43

Departamento: Moche, La Libertad

![Entrevista WaruSmart Walter](Assets/interviews/Entrevista-WaruSmart-Walter.png)

Enlace: https://upcedupe-my.sharepoint.com/:v:/g/personal/u20201c179_upc_edu_pe/EfSCQqBucNNMpnczYwtjK2AB8iY3CavfgXVMY2675ielZw?e=c58mG1&nav=eyJyZWZlcnJhbEluZm8iOnsicmVmZXJyYWxBcHAiOiJTdHJlYW1XZWJBcHAiLCJyZWZlcnJhbFZpZXciOiJTaGFyZURpYWxvZy1MaW5rIiwicmVmZXJyYWxBcHBQbGF0Zm9ybSI6IldlYiIsInJlZmVycmFsTW9kZSI6InZpZXcifX0%3D

Resumen:
Walter Cayrampoma, agricultor de 43 años natural de Moche, La Libertad, trabaja en el rubro agrícola desde hace varios años. Menciona que usa con frecuencia su celular, sobre todo para comunicarse y ver videos en YouTube sobre agricultura. Aunque al principio tuvo dificultades con la tecnología, actualmente se siente cómodo usándola, aunque a veces aún recurre a sus hijos para resolver dudas. Lleva el registro de riegos en un cuaderno, anotando datos como el momento del riego, el área trabajada y el consumo de agua. Considera que los datos más importantes para el cuidado de sus cultivos son el clima, el tipo de suelo, la frecuencia de riego y la presencia de plagas. Ha tenido problemas con el registro del riego, como olvidar regar ciertas partes o hacerlo dos veces, lo que genera desperdicio de agua o plantas mal cuidadas. También ha enfrentado dificultades técnicas, como baja presión de agua o fallas en la bomba. Al conocer la propuesta de WaruSmart, le pareció interesante porque le permitiría tener un mejor control, ahorrar agua y tiempo. Indicó que estaría dispuesto a pagar por el servicio si realmente le conviene, y cree que esta herramienta también podría facilitar el trabajo de otros agricultores que no llevan un control exacto.


Entrevista 3: Aldair Maita

Edad: 27 años

Departamento: La Joya, Arequipa

![Entrevista WaruSmart Aldair](Assets/interviews/Entrevista-WaruSmart-Aldair.png)

Enlace: https://upcedupe-my.sharepoint.com/:v:/g/personal/u20201e188_upc_edu_pe/EaHsj5gxkQtIupivm2DdogABfLdsQrgF3KhtgPVz9f-5zg?e=PU45Ar&nav=eyJyZWZlcnJhbEluZm8iOnsicmVmZXJyYWxBcHAiOiJTdHJlYW1XZWJBcHAiLCJyZWZlcnJhbFZpZXciOiJTaGFyZURpYWxvZy1MaW5rIiwicmVmZXJyYWxBcHBQbGF0Zm9ybSI6IldlYiIsInJlZmVycmFsTW9kZSI6InZpZXcifX0%3D

Resumen: Aldair, de 27 años, nos comenta que usa su celular para mirar redes sociales en su dia a dia, no tiene dificultades para manejarlo. Menciona que lleva sus registros de los riegos de manera manual en su propio terreno, desde un cuaderno, hasta un celular para tomar los apuntes necesarios. Considera que los datos mas importantes es ver los ciclos de los riegos el clima y el suelo, dependiendo que pueden haber. A veces ha tenido problemas con sus cultivos, y a veces se le olvida regar o dar mantenimiento a sus cultivos, emplea mucho tiempo en dichas actividades. Tiene problemas de agua en su comunidad, y le es complicado a el y sus vecinos, porque es necesario este recurso para los cultivos. Le interesaria los beneficios que puede ofrecer WaruSmart, que le puedo agilizar y facilitar el riego en su campo, y estaria dispuesto a pagar si le resulta verdaderamente util. Ademas señala que esta herramienta puede ser muy util para los demas agricultores menos experiementados que necesitan esta ayuda, e incluso a los mas experimentados a agilizar su trabajo.



**Segmento 2: Cooperativas Agrarias**

Entrevista 1: Alexis Patazca

Edad: 26

Departamento: Tumán, Chiclayo

![Entrevista WaruSmart Alexis](Assets/interviews/Entrevista-WaruSmart-Alexis.png)

Enlace a la entrevista:
https://upcedupe-my.sharepoint.com/:v:/g/personal/u20201c179_upc_edu_pe/Eew00ixSHLFDvgsPnLMhqOcBbEDKzovC0kNLTlTFV6ShiA?e=yB1bfC&nav=eyJyZWZlcnJhbEluZm8iOnsicmVmZXJyYWxBcHAiOiJTdHJlYW1XZWJBcHAiLCJyZWZlcnJhbFZpZXciOiJTaGFyZURpYWxvZy1MaW5rIiwicmVmZXJyYWxBcHBQbGF0Zm9ybSI6IldlYiIsInJlZmVycmFsTW9kZSI6InZpZXcifX0%3D

Resumen:
Alexis Patazca, de 26 años, trabaja en zonas agrícolas de Tumán, Chiclayo. Usa tecnología diariamente sin dificultad. Representa a una cooperativa agraria donde aún predomina la gestión manual por falta de conocimientos tecnológicos entre otros miembros. La cooperativa no tiene una plataforma centralizada, lo que genera errores de coordinación y pérdidas. Él se encarga de ciertas gestiones y comenta que organizan la compra de materiales de forma periódica con proveedores comunes, cada miembro tiene un rol específico. Utilizan algunas apps para el clima, pero no cuentan con un sistema integral. Al conocer la propuesta de WaruSmart, se mostró interesado, destacando que ayudaría a reducir pérdidas, optimizar el riego y centralizar la información. Considera que los miembros de la cooperativa también estarían interesados si se les capacita adecuadamente. Sobre el precio, sugiere que podría contemplarse una cuota mensual entre 100 y 300 soles, dependiendo de la organización y roles internos.

Entrevista 2: Adela Vilca

Edad: 52

Departamento: Juli, Puno

![Entrevista WaruSmart Adela](Assets/interviews/Entrevista-WaruSmart-Adela.png)

(Assets/interviews/Entrevista-WaruSmart-Adela.png)

Enlace: https://upcedupe-my.sharepoint.com/:v:/g/personal/u20201c179_upc_edu_pe/Efdrr4fxqvFIpcdZQHXo-cwBal4KaEm_gcR8nz-guqqFAA?e=SYEZQ1&nav=eyJyZWZlcnJhbEluZm8iOnsicmVmZXJyYWxBcHAiOiJTdHJlYW1XZWJBcHAiLCJyZWZlcnJhbFZpZXciOiJTaGFyZURpYWxvZy1MaW5rIiwicmVmZXJyYWxBcHBQbGF0Zm9ybSI6IldlYiIsInJlZmVycmFsTW9kZSI6InZpZXcifX0%3D

Resumen:
Adela Vilca, una mujer de 52 años que vive en Juli, Puno, es miembro de una cooperativa agraria. Usa tecnología de forma básica, principalmente el celular para comunicarse por WhatsApp y ver videos de agricultura, aunque presenta dificultades con algunas aplicaciones y suele recibir ayuda de sus hijos. En su cooperativa registran las necesidades de los cultivos en cuadernos y las discuten en reuniones. Mencionó que los miembros enfrentan problemas en la gestión, sobre todo cuando hay fenómenos climáticos como lluvias o sequías, ya que no siempre saben qué necesita cada cultivo. Para organizar la compra de materiales, se reúnen y hacen listas para comprar en grupo. Han tenido pérdidas por desorganización o retrasos en el cuidado de los cultivos. Usan herramientas básicas como bombas manuales y mangueras, pero no cuentan con tecnología avanzada. Al conocer la propuesta de WaruSmart, Adela expresó que le parecería útil, especialmente si el sistema brinda alertas para regar. Estaría dispuesta a pagar entre 50 y 100 soles, siempre que realmente les facilite el trabajo.



Entrevista 3:  Fabrizio Mori

Edad: 24 años

![Interview2](Assets/interviews/screenshot_fabrizio_mori.png)

Enlace: https://upcedupe-my.sharepoint.com/:v:/g/personal/u202212199_upc_edu_pe/EQJ9VAEAlDRKtV-VMyun3isBah1thfQJ_2VMx9JMb9Ac4g?e=ScuGHq&nav=eyJyZWZlcnJhbEluZm8iOnsicmVmZXJyYWxBcHAiOiJTdHJlYW1XZWJBcHAiLCJyZWZlcnJhbFZpZXciOiJTaGFyZURpYWxvZy1MaW5rIiwicmVmZXJyYWxBcHBQbGF0Zm9ybSI6IldlYiIsInJlZmVycmFsTW9kZSI6InZpZXcifX0%3D

Resumen:
Fabrizio Mori comenta que utiliza tecnología, aunque no de forma diaria, y reconoce que algunos dispositivos le resultan complejos. En su comunidad, cada agricultor gestiona sus cultivos manualmente, lo que a veces dificulta la organización y puede llevar a pérdidas. Para adquirir materiales, cada uno calcula lo necesario y comparten los gastos. Ha enfrentado pérdidas debido a la falta de coordinación y menciona que sí usa herramientas y técnicas para facilitar el trabajo. Al conocer la propuesta de WaruSmart para detectar la humedad y condiciones del suelo y así optimizar el riego, expresó interés, indicando que sería de gran ayuda si funciona correctamente. Además, estaría dispuesto a pagar por este sistema si contribuye al cuidado eficiente de los cultivos.

### 2.2.3   Análisis de entrevistas.

**Análisis del segmento de agricultores individuales**

Los entrevistados de este segmento tienen experiencia directa y continua en la agricultura. El 100% menciona que, aunque usan dispositivos móviles, enfrentan dificultades tecnológicas ocasionales, especialmente con herramientas digitales complejas, evidenciando una brecha digital leve pero con predisposición a aprender y adaptarse. El registro manual de los cultivos es común, todos llevan el control de riegos en cuadernos, aunque esta práctica es inconstante y propensa a errores como riego duplicado o faltante, lo que afecta el rendimiento de sus cultivos por exceso o falta de agua y mala gestión. Respecto a la información clave para sus cultivos, mencionan principalmente la cantidad y frecuencia de riego, condiciones del clima, tipo de suelo y el cultivo. Han tenido problemas técnicos frecuentes en sus sistemas de riego, como baja presión o bombas defectuosas, lo que genera retrasos y la necesidad de regar manualmente. Frente a la propuesta de WaruSmart, el 100% ha mostrado alto interés y consideran que un sistema automatizado que detecte humedad y alerte sobre riegos sería muy útil para organizar sus cultivos, ahorrar recursos y evitar errores. El 100% está dispuesto a pagar si el costo es accesible y el sistema funciona confiablemente, sugiriendo desde cuotas mensuales simbólicas hasta evaluación previa del servicio. Finalmente, coinciden en que otros agricultores de su comunidad también se beneficiarían de esta solución, ya que muchos dependen de métodos tradicionales y comparten limitaciones tecnológicas y organizativas.

**Analisis del segmento de Cooperativas Agrarias**

En este segmento los entrevistados pertenecen a cooperativas agrarias en diferentes comunidades, el 100 % utiliza tecnología aunque con distintos niveles de habilidad: dos personas (66 %) manejan su celular y algunas apps sin dificultad diaria, mientras que una persona (33 %) presenta dificultades con algunas aplicaciones y depende de ayuda familiar para usarlas. La gestión del riego y los cultivos es mayormente manual y descentralizada, lo que genera problemas de coordinación y pérdidas económicas, situación reconocida por todos los entrevistados. Los tres coinciden en que la falta de una plataforma centralizada provoca errores en la compra de insumos y en el seguimiento del riego. Además, el 66 % utiliza aplicaciones básicas para consultar el clima o comunicarse, pero ninguna cuenta con un sistema integral para gestionar cultivos. Al conocer la propuesta de WaruSmart, el 100 % mostró interés, destacando beneficios como la centralización de la información, optimización del riego y reducción de pérdidas. Dos de ellos (66 %) mencionaron que la capacitación será clave para que los miembros adopten la tecnología. En cuanto a la disposición a pagar, los rangos varían desde los 50 a 300 soles mensuales según el tamaño y necesidades de cada cooperativa. En resumen, este segmento evidencia la necesidad de soluciones digitales integrales, accesibles y con soporte adecuado para mejorar la gestión agrícola cooperativa, especialmente en riego y compras, con un alto interés en adoptar tecnologías que faciliten el trabajo y reduzcan pérdidas.


## 2.3 **Needfinding.**

### 2.3.1   User Personas.

Representacion ficticia de un usuario perteneciente a cada segmento objetivo, la cual nos muestra informacion sobre el contexto en el que vive.

**SEGMENTO AGRICULTORES:**

Podemos identificar que es un trabajador que ama su trabajo, por lo que desea encontrar su eficacia mediante diversas
herramientas. A pesar de no tener mucho conocimiento en aparatos digitales, está dispuesto a usarlos para la agricultura.

Enlace: https://uxpressia.com/w/laUMU/p/rVOfE
<div></div>
<img src="Assets/needfinding/user_persona_1_2.png">


**SEGMENTO COOPERATIVAS:**

Podemos observar como el usuario desea apoyar a los miembros de su cooperativa, por lo que busca convencer a todos de que
una herramienta tecnológica puede ayudarlos a ser más eficases.

Enlace: https://uxpressia.com/w/laUMU/p/XGV1z
<div></div>
<img src="Assets/needfinding/user_persona_2_2.png">

### 2.3.2   User Task Matrix.

Lista de actividades realizadas por el usuario para cumplir con su objetivo, junto a la importancia y frecuencia de dicha actividad. Para este cuadro, se coloca al usuario en el contexto del cuidado de sus cultivos

| Tareas                                      | Agricultores Importancia | Agricultores Frecuencia | Cooperativas Importancia | Cooperativas Frecuencia |
| ------------------------------------------- | :----------------------: | :---------------------: | :----------------------: | :---------------------: |
| Realizar el riego de los cultivos           |           Alta           |          Alta          |           Alta           |          Alta          |
| Escuchar o indagar recomendaciones          |           Alta           |          Media          |           Alta           |          Media          |
| Verificar humedad del cultivo               |           Alta           |          Media          |           Alta           |          Alta          |
| Conocimiento de problemas en los cultivos   |           Alta           |          Alta          |           Alta           |          Alta          |
| Determinar etapa del desarrollo del cultivo |           Alta           |          Alta          |          Media          |          Media          |
| Revisión de calidad en la cosecha          |           Alta           |          Media          |           Alta           |          Alta          |
| Revisar el registro de los cultivos         |           Alta           |          Alta          |          Media          |          Media          |

Podemos identificar que ambos segmentos objetivos tienen necesidades similares para las tareas. También podemos notar que el agricultor independiente suele darle más importancia
al registro del cultivo, esto debido a que es un único trabajador.

### 2.3.3   User Journey Mapping.

Grafico que muestra el viaje del usuario para solucionar su problematica, lo cual nos sirve para identificar el como cambia su estado de ánimo durante este proceso,
así como también muestra las necesidades que van surgiendo.

**SEGMENTO AGRICULTORES:**

Podemos identificar como el usuario va alegrandose conforme conoce más sobre nuestra solución, sin embargo, también muestra que necesita 
de una landing page que lo mantenga bien informado sobre las funciones,

Enlace: https://uxpressia.com/w/laUMU/m/xWrem
<div></div>
<img src="Assets/needfinding/journey_map_1_2.png">

**SEGMENTO COOPERATIVAS:**

Si bien el usuario agradece el usar la herramienta, también es necesario que nuestra solución sea fácil de usar para efitar frustraciones por parte del usuario

Enlace: https://uxpressia.com/w/laUMU/m/l3kWu
<div></div>
<img src="Assets/needfinding/journey_map_2_2.png">

### 2.3.4   Empathy Mapping.

Grafico realizado para visualizar la problematica del usuario junto con lo que piensa al respecto

**SEGMENTO AGRICULTORES:**

El usuario se encuentra frustrado debido a que pierde dinero por las dificultades de cuidar a sus cultivos, al mismo tiempo que desea encontrar una solucion a este problema

Enlace: https://uxpressia.com/w/laUMU/p/29x5e
<div></div>
<img src="Assets/needfinding/empathy_map_1_2.png">

**SEGMENTO COOPERATIVAS:**

El usuario se encuentra frustrado por los cultivos perdios, al mismo tiempo que siente incertidumbre sobre como se  adaptaran sus companeros a esta nueva teconolgia
<div></div>

Enlace: https://uxpressia.com/w/laUMU/p/Mh4C4
<img src="Assets/needfinding/empathy_map_2_2.png">

### 2.3.5   As-Is Scenario Mapping.

Tabla que muestra las principales actividades del usuario, junto con el como reacciona a estas antes de contar con nuestra solucion

**SEGMENTO AGRICULTORES:**

El agricultor encuentra dificultades para cuidar sus cultivos con las tecnicas que posee, por lo que pierde varios debido a la complejidad de cuidat tantos.
<img src="Assets/needfinding/As-Is-agricultor.PNG">
Herramienta: Miro

**SEGMENTO COOPERATIVAS:**

Los miembros de la cooperativa se encuentran con dificultades en el cuidado de sus cultivos, lo que provoca que gasten mucho dinero o no ganene demasiado, y el resto de miembros tambien se vea afectado.
<img src="Assets/needfinding/As-Is-cooperativa.PNG">
Herramienta: Miro

[Link al Miro para visualizar los diagramas As-Is Scenario Mapping](https://miro.com/app/board/uXjVI9w10sk=/?share_link_id=975896572769)

## 2.4 **Ubiquitous Language.**

* **Irrigation System (Sistema de Riego)**: Conjunto de dispositivos y tecnologías que permiten distribuir agua a los cultivos de forma controlada y eficiente.
* **Water Consumption (Consumo de Agua)**: Cantidad de agua utilizada en los procesos de riego de los cultivos, relacionada con el uso eficiente del recurso hídrico.
* **Soil Moisture (Humedad del Suelo)**: Nivel de humedad presente en el suelo, fundamental para determinar el momento adecuado para regar.
* **Smart Irrigation (Riego Inteligente)**: Técnica que emplea sensores y controladores automáticos para optimizar el uso del agua según condiciones específicas del suelo y clima.
* **IoT Sensor (Sensor IoT)**: Dispositivo conectado que recopila datos como temperatura, humedad y otras variables ambientales en tiempo real para apoyar decisiones agrícolas.
* **Climate Data (Datos Climáticos)**: Información sobre el estado del clima, como la temperatura o precipitaciones, utilizada para ajustar el riego según las condiciones ambientales.
* **Water Efficiency (Eficiencia del Agua)**: Relación entre la cantidad de agua utilizada y los beneficios obtenidos en el cultivo; se busca maximizarla para evitar el desperdicio del recurso.
* **Agricultural Cooperative (Cooperativa Agraria)**: Grupo de agricultores que se organiza para mejorar su producción, compartir recursos y facilitar la adopción de nuevas tecnologías.
* **Irrigation Management (Gestión de Riego)**: Conjunto de decisiones y acciones que permiten planificar, monitorear y controlar el riego en los campos agrícolas para mejorar su eficiencia.
* **Automated Control System (Sistema de Control Automatizado)**: Sistema que permite programar y controlar de manera automática el funcionamiento del riego, mejorando la precisión y reduciendo la intervención manual.
* **Water Scarcity (Escasez de Agua)**: Situación en la que la disponibilidad de agua es insuficiente para satisfacer la demanda agrícola, afectando directamente la productividad.

# Capítulo III: Requirements Specification.

## 3.1 **To-Be Scenario Mapping.**

Tabla que muestra las principales actividades del usuario, junto con el como reacciona a estas luego de utilizar nuestra solucion

[Link al Miro para visualizar los diagramas As-Is Scenario Mapping](https://miro.com/app/board/uXjVI9w10sk=/?share_link_id=975896572769)

**SEGMENTO AGRICULTORES:**

<img src="Assets/needfinding/To-Be-agricultor.PNG">
Herramienta: Miro

<br>
<br>

**SEGMENTO COOPERATIVAS:**

<img src="Assets/needfinding/To-Be-cooperativa.PNG">
Herramienta: Miro

## 3.2 **User Stories.**

| Epic/Story ID                                                                                                                                                                                                                                                                                                           | Título                                                      | Descripción                                                                                                                                                                                                                                                      | Criterio de aceptación                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | Epic ID |
| :---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :----------------------------------------------------------- | :---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :-----: |
| <p>**Epic 1: Landing Page informativa** </p><p>**Como** visitante interesado (agricultor, cooperativa o público en general)<br>**Quiero** acceder a una página web informativa <br>**Para** conocer qué hace la solución, cómo me beneficia y cómo puedo acceder </p> |                                                              |                                                                                                                                                                                                                                                                   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |        |
 | E1-US01                                                                                                                                                                                                                                                                                                                | Navegación entre secciones                                  | <p>**Como** visitante del sitio web </p><p>**Quiero** contar con una barra de navegación accesible </p><p>**Para** navegar rapidamente entre las secciones informativas de la landing page </p>                                | <p>**Escenario 1: Exploracion de la Landing** </p><p>**Dado que** el visitante está explorando la landing page <br>**Cuando** selecciona una opción de la barra de navegación </p><p>**Entonces** es llevado directamente a la sección correspondiente (cómo funciona, beneficios, testimonios, contacto) </p><p></p><p>**Escenario 2: Volver al Inicio** </p><p>**Dado que** el visitante desea volver al inicio </p><p>**Cuando** hace clic en el logotipo o en la opción "Inicio" de la barra </p><p>**Entonces** es redirigido a la parte superior de la página </p><p> </p>                                                               |    1    |
 | E1-US02                                                                                                                                                                                                                                                                                                                | Conocer cómo funciona la solución                          | <p>**Como** visitante interesado en optimizar el riego </p><p>**Quiero** acceder a una sección que explique cómo funciona la solución IoT </p><p>**Para** entender cómo puede ayudarme a gestionar mejor mis cultivos </p>  | <p>**Escenario 1: Información del funcionamiento general** </p><p>**Dado que** el visitante se encuentra en la landing page </p><p>**Cuando** accede a la sección de "¿Cómo funciona?"</p><p>**Entonces** se le muestra información clara sobre el funcionamiento general del sistema (aplicación + sensores)</p><p></p><p>**Escenario 2: Uso de la tecnología** </p><p>**Dado que** el visitante busca información sobre el uso de la tecnología </p><p>**Cuando** revisa la explicación </p><p>**Entonces** comprende que incluye sensores, monitoreo remoto y automatización del riego </p>                                                 |    1    |
 | E1-US03                                                                                                                                                                                                                                                                                                                | Visualizar beneficios segmentados                            | <p>**Como** visitante del segmento agricultor o cooperativa </p><p>**Quiero** conocer los beneficios específicos de la solución según mi perfil </p><p>**Para** evaluar si es útil para mi actividad agrícola </p>         | <p>**Escenario 1: Visualización beneficios agricultor** </p><p>**Dado que** un visitante del segmento agricultor explora la página </p><p>**Cuando** visualiza los beneficios </p><p>**Entonces** reconoce que puede reducir riesgos por riego ineficiente </p><p></p><p>**Escenario 2: Visualización beneficios cooperativa** </p><p>**Dado que** un visitante del segmento cooperativa explora la página </p><p>**Cuando** visualiza los beneficios </p><p>**Entonces** reconoce que puede reducir costos y aumentar su productividad </p><p></p>                                                                                                 |    1    |
 | E1-US04                                                                                                                                                                                                                                                                                                                | Sección testimonios de usuarios                             | <p>**Como** visitante del sitio web </p><p>**Quiero** leer testimonios de agricultores o cooperativas que usan la solución </p><p>**Para** tener confianza en su efectividad </p>                                              | <p>**Escenario 1: Visualización seccion de testimonios** </p><p>**Dado que** el visitante está explorando el sitio </p><p>**Cuando** accede a la sección de testimonios </p><p>**Entonces** puede leer al menos dos experiencias reales con resultados medibles </p>                                                                                                                                                                                                                                                                                                                                                                                                                             |    1    |
 | E1-US05                                                                                                                                                                                                                                                                                                                | Sección contactarse                                         | <p>**Como** visitante interesado en la solución </p><p>**Quiero** tener la opción de contactarme o solicitar acceso </p><p>**Para** obtener más información o comenzar a usar el sistema </p>                               | <p>**Escenario 1: Visualización de la seccion contacto** </p><p>**Dado que** el visitante quiere más detalles sobre precios o implementación </p><p>**Cuando** accede a la sección de contacto </p><p>**Entonces** puede enviar su información y mensaje para ser contactado </p>                                                                                                                                                                                                                                                                                                                                                                                                              |    1    |
 | <p>**Epic 2: Monitoreo en tiempo real de campos** </p><p>**Como** agricultor o cooperativa <br>**Quiero** visualizar el estado actual del cultivo y sus condiciones ambientales <br>**Para** tomar decisiones informadas y prevenir riesgos </p><p></p>                   |                                                              |                                                                                                                                                                                                                                                                   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |        |
 | E2-US06                                                                                                                                                                                                                                                                                                                | Visualización de temperatura y humedad del suelo            | <p>**Como** agricultor o cooperativa </p><p>**Quiero** visualizar en tiempo real la temperatura y humedad del suelo </p><p>**Para** tomar decisiones sobre el riego y prevención de enfermedades </p>                                        | <p>**Escenario 1: Datos visibles** </p><p>**Dado que** el usuario accede al panel de monitoreo </p><p>**Cuando** hay conexión con los sensores </p><p>**Entonces** se muestran los valores actualizados de temperatura y humedad del suelo </p><p></p><p>**Escenario 2: Error en la visualización** </p><p>**Dado que** el usuario intenta ver los datos </p><p>**Cuando** ocurre un error de conexión con el sensor </p><p>**Entonces** se muestra un mensaje de alerta indicando que no hay datos disponibles </p><p></p><p></p><p></p><p></p>                                                                                               |    2    |
 | E2-US07                                                                                                                                                                                                                                                                                                                | Visualización de humedad ambiental y temperatura del aire   | <p>**Como** agricultor o cooperativa </p><p>**Quiero** consultar en tiempo real la humedad ambiental y la temperatura del aire </p><p>**Para** identificar condiciones climáticas que afectan el rendimiento del cultivo </p>                | <p>**Escenario 1: Datos climáticos en tiempo real** </p><p>**Dado que** el usuario está en el panel de monitoreo </p><p>**Cuando** el sistema recibe datos del sensor meteorológico </p><p>**Entonces** se actualizan los valores de humedad y temperatura del aire </p><p></p><p>**Escenario 2: Falta de datos climáticos** </p><p>**Dado que** el sensor meteorológico está inactivo </p><p>**Cuando** el usuario intenta ver los datos </p><p>**Entonces** se notifica al usuario que no se han recibido datos recientes </p>                                                                                                                    |    2    |
 | E2-US08                                                                                                                                                                                                                                                                                                                | Vista general del estado del cultivo                         | <p>**Como** agricultor </p><p>**Quiero** ver una vista general del estado del cultivo en un panel <br>**Para** tener una rápida evaluación del estado de mis campos </p>                                                      | <p>**Escenario 1: Panel con resumen de condiciones** </p><p>**Dado que** el usuario accede al panel principal </p><p>**Cuando** el sistema obtiene los datos de sensores </p><p>**Entonces** se muestra un resumen con los principales indicadores del cultivo </p><p></p><p>**Escenario 2: Visualización de múltiples campos** </p><p>**Dado que** el usuario tiene más de un campo registrado </p><p>**Cuando** accede al panel </p><p>**Entonces** puede cambiar entre los campos y ver el estado de cada uno </p><p></p><p></p>                                                                                                                |    2    |
 | E2-US09                                                                                                                                                                                                                                                                                                                | Alertas por condiciones anómalas                            | <p>**Como** agricultor </p><p>**Quiero** recibir alertas cuando los valores de humedad o temperatura estén fuera de rango </p><p>**Para** tomar acciones preventivas rápidamente </p>                                         | <p>**Escenario 1: Generación de alerta por exceso de temperatura** </p><p>**Dado que** la temperatura del aire supera el umbral configurado </p><p>**Cuando** el sensor detecta ese valor </p><p>**Entonces** el sistema genera una alerta en el panel y la envía por notificación </p><p></p><p>**Escenario 2: Generación de alerta por baja humedad del suelo** </p><p>**Dado que** la humedad del suelo está por debajo del límite mínimo </p><p>**Cuando** se detecta esa condición <br>**Entonces** se muestra una alerta con una recomendación de riego </p>                                                                               |    2    |
 | E2-US10                                                                                                                                                                                                                                                                                                               | Registro histórico de condiciones ambientales               | <p>**Como** agricultor o cooperativa </p><p>**Quiero** acceder al historial de condiciones climáticas y del suelo </p><p>**Para** analizar patrones y mejorar mi planificación agrícola </p>                                               | <p>**Escenario 1: Consulta de historial por fecha** </p><p>**Dado que** el usuario desea revisar datos anteriores </p><p>**Cuando** selecciona un rango de fechas </p><p>**Entonces** el sistema muestra los registros históricos del cultivo </p><p></p><p>**Escenario 2: Visualización gráfica de tendencias** </p><p>**Dado que** el usuario accede al historial de datos </p><p>**Cuando** se selecciona un parámetro (ej. humedad)</p><p>**Entonces** se muestra un gráfico con la evolución del parámetro en el tiempo </p>                                                                                                                  |    2    |
E2-US11                                                                                                                                                                                                                                                                                                                | Visualización consolidada de estado de cultivos para cooperativas          | <p>**Como** cooperativa que gestiona varios agricultores </p><p>**Quiero** visualizar en un panel el estado actual de los cultivos de todos los agricultores que gestiono </p><p>**Para** supervisar la salud general de los cultivos y detectar áreas que requieren intervención </p>                                        | <p>**Escenario 1: Panel consolidado con estado de todos los cultivos** </p><p>**Dado que** la cooperativa accede al panel de monitoreo </p><p>**Cuando** el sistema recibe datos en tiempo real de los sensores de todos los agricultores asociados </p><p>**Entonces** se muestra un resumen con indicadores (temperatura, humedad y alertas) agrupados por campo y agricultor. </p><p></p><p>**Escenario 2: Filtro y búsqueda por agricultor o campo** </p><p>**Dado que** la cooperativa quiere revisar un agricultor o campo específico </p><p>**Cuando** utiliza filtros o búsqueda en el panel </p><p>**Entonces** se actualiza la vista mostrando solo los cultivos seleccionados. </p><p></p><p></p><p></p><p></p>                                                                                               |    2    |
E2-US12                                                                                                                                                                                                                                                                                                                | Gestión y revisión de alertas para cooperativas          | <p>**Como** cooperativa que gestiona varios agricultores </p><p>**Quiero** recibir y revisar alertas generadas en cualquiera de los cultivos bajo mi gestión </p><p>**Para** coordinar con los agricultores las acciones correctivas necesarias y prevenir daños mayores </p>                                        | <p>**Escenario 1: Recepción de alertas múltiples** </p><p>**Dado que** la cooperativa tiene varios campos asociados </p><p>**Cuando** uno o más sensores detectan condiciones anómalas en cualquiera de los campos </p><p>**Entonces** el sistema genera alertas visibles en un panel centralizado con detalle de ubicación, tipo de alerta y prioridad. </p><p></p><p>**Escenario 2: Confirmación y seguimiento de alertas** </p><p>**Dado que** que la cooperativa revisa una alerta recibida </p><p>**Cuando** marca la alerta como atendida o en seguimiento </p><p>**Entonces** el sistema registra el estado para seguimiento y reporte </p><p></p><p></p><p></p><p></p>                                                                                               |    2    |
 | <p>**Epic 3: Automatización y control del riego** </p><p>**Como** cooperativa o agicultor <br>**Quiero** automatizar el riego en base a condiciones monitoreadas <br>**Para** optimizar el uso de agua y reducir el desperdicio </p>                                                    |                                                              |                                                                                                                                                                                                                                                                   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |        |
 | E3-US13                                                                                                                                                                                                                                                                                                                | Activación automática del riego por baja humedad del suelo | <p>**Como** agricultor  </p><p>**Quiero** que el sistema active automáticamente el riego cuando la humedad del suelo sea baja </p><p>**Para** asegurar que los cultivos reciban el agua necesaria sin intervención manual </p> | <p>**Escenario 1: Activación automática por humedad baja** </p><p>**Dado que** la humedad del suelo está por debajo del umbral definido </p><p>**Cuando** el sensor detecta dicha condición <br>**Entonces** el sistema activa el riego automáticamente </p><p></p><p>**Escenario 2: Verificación de activación automática** </p><p>**Dado que** el riego ha sido activado automáticamente </p><p>**Cuando** el agricultor revisa el historial de eventos </p><p>**Entonces** puede ver el registro de activación con fecha, hora y duración </p>                                                                                              |    3    |
 | E3-US14                                                                                                                                                                                                                                                                                                                | Configuración manual de umbrales para riego automático     | <p>**Como** agricultor o cooperativa </p><p>**Quiero** establecer umbrales personalizados para la humedad del suelo </p><p>**Para** adaptar el sistema de riego automático a las necesidades específicas de mis cultivos </p>               | <p>**Escenario 1: Guardado de umbrales personalizados** <br>**Dado que** el usuario ingresa nuevos valores de umbral <br>**Cuando** guarda la configuración <br>**Entonces** el sistema registra los valores y los aplica al monitoreo </p><p></p><p>**Escenario 2: Validación de umbrales ingresados** </p><p>**Dado que** el usuario establece umbrales fuera del rango permitido </p><p>**Cuando** intenta guardar la configuración <br>**Entonces** el sistema muestra un mensaje de error indicando los valores válidos </p>                                                                                                                     |    3    |
 | E3-US15                                                                                                                                                                                                                                                                                                                | Control manual del riego desde la plataforma                 | <p>**Como** agricultor o cooperativa </p><p>**Quiero** tener la opción de activar o desactivar manualmente el sistema de riego </p><p>**Para** responder a condiciones específicas no detectadas por los sensores </p>                      | <p>**Escenario 1: Activación manual del rieg**o </p><p>**Dado que** el usuario desea regar los cultivos </p><p>**Cuando** presiona el botón de activación manual </p><p>**Entonces** el sistema inicia el riego y registra la acción </p><p></p><p>**Escenario 2: Desactivación manual del riego** </p><p>**Dado que** el riego está en curso </p><p>**Cuando** el usuario presiona el botón de desactivación </p><p>**Entonces** el sistema detiene el riego y actualiza el estado del sistema </p>                                                                                                                                              |    3    |
 | E3-US16                                                                                                                                                                                                                                                                                                                | Visualización del estado actual del sistema de riego        | <p>**Como** agricultor o cooperativa </p><p>**Quiero** ver si el sistema de riego está activo o inactivo en tiempo real </p><p>**Para** tener claridad sobre el estado actual sin necesidad de ir al campo </p>                              | <p>**Escenario 1: Estado del riego actualizado en tiempo real** </p><p>**Dado que** el usuario accede al panel de riego </p><p>**Cuando** el sistema está activo o inactivo </p><p>**Entonces** se muestra el estado actual con una indicación clara </p><p></p><p>**Escenario 2: Actualización automática del estado** </p><p>**Dado que** el estado del sistema cambia por activación o desactivación </p><p>**Cuando** ocurre el cambio </p><p>**Entonces** el panel se actualiza sin necesidad de recargar la página </p>                                                                                                                      |    3    |
 | E3-US17                                                                                                                                                                                                                                                                                                                | Notificaciones de riego iniciado o detenido                  | <p>**Como** agricultor </p><p>**Quiero** recibir notificaciones cuando el sistema de riego se inicie o se detenga </p><p>**Para** estar informado de las acciones realizadas, incluso si no estoy conectado </p>                | <p>**Escenario 1: Notificación al iniciar riego automático** </p><p>**Dado que** el sistema activa el riego automáticamente </p><p>**Cuando** se inicia el proceso </p><p>**Entonces** el usuario recibe una notificación con los detalles del evento </p><p></p><p>**Escenario 2: Notificación al detener el riego** </p><p>**Dado que** el riego ha sido detenido (automática o manualmente)</p><p>**Cuando** ocurre la desactivación </p><p>**Entonces** el usuario recibe una notificación confirmando que el riego ha sido detenido </p>                                                                                                     |    3    |
 | <p>**Epic 4: Panel de análisis y reportes** </p><p>**Como** agricultor o cooperativa <br>**Quiero** revisar reportes sobre consumo de agua, alertas y productividad <br>**Para** evaluar decisiones pasadas y planificar mejoras </p>                                      |                                                              |                                                                                                                                                                                                                                                                   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |        |
 | E4-US18                                                                                                                                                                                                                                                                                                                | Visualización de reportes de consumo de agua                | <p>**Como** agricultor o cooperativa </p><p>**Quiero** acceder a reportes sobre el consumo de agua de mis cultivos </p><p>**Para** evaluar la eficiencia hídrica en diferentes periodos </p>                                                 | <p>**Escenario 1: Acceso al reporte mensual de consumo** </p><p>**Dado que** el usuario accede al panel de reportes </p><p>**Cuando** selecciona un mes específico </p><p>**Entonces** el sistema muestra el total de litros de agua utilizados por cultivo y por día </p><p>**Escenario 2: Comparación de consumo entre periodos** </p><p>**Dado que** el usuario selecciona dos periodos distintos </p><p>**Cuando** activa la opción de comparación </p><p>**Entonces** el sistema muestra la diferencia de consumo entre esos periodos </p>                                                                                                        |    4    |
 | E4-US19                                                                                                                                                                                                                                                                                                                | Visualización de alertas generadas en un periodo            | <p>**Como** agricultor o cooperativa </p><p>**Quiero** revisar las alertas registradas en el sistema </p><p>**Para** identificar eventos críticos que afectaron mis cultivos </p>                                                            | <p>**Escenario 1: Consulta de alertas por fecha** </p><p>**Dado que** el usuario selecciona un rango de fechas </p><p>**Cuando** solicita el reporte de alertas </p><p>**Entonces** el sistema muestra una lista con las alertas registradas y su tipo </p><p>**Escenario 2: Detalle de una alerta específica** </p><p>**Dado que** el usuario hace clic en una alerta </p><p>**Cuando** accede a su detalle </p><p>**Entonces** el sistema muestra la hora exacta, causa, y acción tomada (si la hubo)</p><p></p>                                                                                                                                      |    4    |
 | E4-US20                                                                                                                                                                                                                                                                                                                | Reporte de productividad por cultivo                         | <p>**Como** agricultor o cooperativa </p><p>**Quiero** ver un reporte que muestre el rendimiento de cada tipo de cultivo </p><p>**Para** tomar decisiones informadas sobre qué sembrar la próxima temporada </p>                            | <p>**Escenario 1: Rendimiento de cultivo por hectárea** </p><p>**Dado que** el usuario accede al reporte de productividad </p><p>**Cuando** visualiza los datos </p><p>**Entonces** el sistema muestra el rendimiento en toneladas por hectárea </p><p>**Escenario 2: Comparación de productividad histórica** </p><p>**Dado que** el usuario selecciona varias campañas anteriores </p><p>**Cuando** compara los rendimientos </p><p>**Entonces** el sistema muestra una gráfica comparativa por tipo de cultivo </p>                                                                                                                                |    4    |
 | E4-US21                                                                                                                                                                                                                                                                                                                | Exportación de reportes en formatos descargables            | <p>**Como** cooperativa </p><p>**Quiero** descargar los reportes en formato PDF o Excel </p><p>**Para** archivarlos o compartirlos fácilmente con otros miembros de la cooperativa </p>                                         | <p>**Escenario 1: Descarga en formato PDF** </p><p>**Dado que** el usuario visualiza un reporte </p><p>**Cuando** selecciona la opción de exportar como PDF </p><p>**Entonces** el sistema genera y descarga el archivo en ese formato </p><p></p><p>**Escenario 2: Descarga en formato Excel** </p><p>**Dado que** el usuario visualiza un reporte </p><p>**Cuando** selecciona la opción de exportar como Excel </p><p>**Entonces** el sistema genera y descarga el archivo .xlsx con los datos estructurados </p>                                                                                                                                    |    4    |
 | E4-US22                                                                                                                                                                                                                                                                                                                | Visualización de tendencias y recomendaciones               | <p>**Como** agricultor o cooperativa </p><p>**Quiero** visualizar gráficas con tendencias históricas y recomendaciones automáticas </p><p>**Para** ajustar mis prácticas agrícolas basándome en datos reales </p>                       | <p>**Escenario 1: Gráfica de tendencia de consumo de agua** </p><p>**Dado que** el usuario accede al panel de tendencias </p><p>**Cuando** selecciona un rango de tiempo </p><p>**Entonces** el sistema muestra una gráfica con la tendencia del consumo diario </p><p>**Escenario 2: Recomendaciones automáticas según rendimiento** </p><p>**Dado que** el sistema ha analizado los datos de productividad </p><p>**Cuando** el usuario consulta recomendaciones </p><p>**Entonces** el sistema sugiere ajustes de cultivo o riego basados en el rendimiento observado </p>                                                                           |    4    |
 | <p>**Epic 5: Gestión y creación de recursos agrícolas** </p><p>**Como** cooperativa o agicultor <br>**Quiero** poder crear y administrar parcelas, agregar cultivos a las parcelas y gestionar la incorporación de agricultores <br>**Para** organizar mejor la información y el control sobre los campos y usuarios a mi cargo </p>                                            |                                                              |                                                                                                                                                                                                                                                                   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |        |
 | E5-US23                                                                                                                                                                                                                                                                                                                | Creación de parcelas agrícolas              | <p>**Como** cooperativa o agricultor </p><p>**Quiero** registrar nuevas parcelas agrícolas con detalles como ubicación, tamaño y características </p><p>**Para** gestionar y monitorear adecuadamente cada parcela </p>                          | <p>**Escenario 1: Creación exitosa de parcela** </p><p>**Dado que** el usuario ingresa a la sección de gestión de parcelas </p><p>**Cuando** completa el formulario con la información requerida y confirma </p><p>**Entonces** se guarda la parcela y se muestra en el panel de gestión </p><p></p><p>**Escenario 2: Error por datos incompletos** </p><p>**Dado que** el usuario deja campos obligatorios vacíos </p><p>**Cuando** intenta guardar la parcela </p><p>**Entonces** el sistema muestra mensajes de validación indicando qué falta </p> |    5    |
 | E5-US24                                                                                                                                                                                                                                                                                                                | Agregar cultivos a una parcela          | <p>**Como** cooperativa o agricultor </p><p>**Quiero** asignar uno o varios cultivos a una parcela registrada </p><p>**Para** hacer seguimiento específico del estado y crecimiento de cada cultivo </p>    | <p>**Escenario 1: Selección y asignación de cultivos** </p><p>**Dado que** el usuario accede a la parcela deseada <br>**Cuando** agrega un cultivo desde la lista disponible </p><p>**Entonces** el cultivo queda asociado a la parcela y puede monitorearse </p><p></p><p>**Escenario 2: Gestión de cultivos múltiples** </p><p>**Dado que** a parcela tiene varios cultivos </p><p>**Cuando** el usuario visualiza la parcela </p><p>**Entonces** puede ver el listado y estado de cada cultivo asociado </p>                                   |    5    |
  | E5-US25                                                                                                                                                                                                                                                                                                                | Crear o invitar a agricultores a la cooperativa          | <p>**Como** cooperativa </p><p>**Quiero** registrar nuevos agricultores o enviarles invitaciones para que se unan a la cooperativa </p><p>**Para** ampliar el grupo y facilitar la gestión colaborativa de los cultivos </p>    | <p>**Escenario 1: Registro manual de agricultor** </p><p>**Dado que** la cooperativa ingresa los datos del agricultor <br>**Cuando** confirma el registro </p><p>**Entonces** el agricultor queda agregado y puede acceder a la plataforma </p><p></p><p>**Escenario 2: Invitación por correo electrónico** </p><p>**Dado que** la cooperativa desea invitar a un agricultor externo </p><p>**Cuando** envía una invitación por email con un enlace de acceso </p><p>**Entonces** el agricultor recibe la invitación y puede registrarse o unirse </p>                                   |    5    |
 | <p>**Epic 6: Infraestructura técnica y APIs** </p><p>**Como** developer <br>**Quiero** implementar servicios backend y APIs RESTful <br>**Para** permitir el funcionamiento de los dispositivos, apps y reportes del sistema </p>                                            |                                                              |                                                                                                                                                                                                                                                                   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |        |
 | E6-TS01                                                                                                                                                                                                                                                                                                                | Exponer API REST para obtener datos de sensores              | <p>**Como** developer </p><p>**Quiero** implementar un endpoint REST para consultar los datos registrados por sensores </p><p>**Para** que las aplicaciones cliente puedan mostrar datos en tiempo real </p>                          | <p>**Escenario 1: Consulta exitosa de datos de sensores** </p><p>**Dado que** el cliente realiza una petición GET al endpoint /api/sensors/data con un token válido </p><p>**Cuando** la petición incluye parámetros válidos como fecha y tipo de sensor </p><p>**Entonces** la API devuelve un array de datos con timestamp, valor y unidad correspondiente </p><p></p><p>**Escenario 2: Petición con token inválido o expirado** </p><p>**Dado que** el cliente usa un token inválido </p><p>**Cuando** realiza la solicitud al endpoint </p><p>**Entonces** el sistema responde con un código 401 y un mensaje de autenticación fallida </p> |    5    |
 | E6-TS02                                                                                                                                                                                                                                                                                                                | Servicio de almacenamiento de registros de sensores          | <p>**Como** developer </p><p>**Quiero** implementar un servicio que almacene periódicamente los datos enviados por sensores </p><p>**Para** asegurar que la información se persista correctamente en la base de datos </p>    | <p>**Escenario 1: Almacenamiento exitoso de datos** </p><p>**Dado que** un sensor envía datos a través del endpoint POST /api/sensors/data <br>**Cuando** los datos están bien formados y autenticados </p><p>**Entonces** el sistema guarda los registros correctamente en la base de datos y responde con 201 </p><p></p><p>**Escenario 2: Validación de estructura de datos inválida** </p><p>**Dado que** un sensor envía un JSON con campos faltantes </p><p>**Cuando** el backend valida la estructura </p><p>**Entonces** responde con un error 400 y detalla los campos que faltan o son incorrectos </p>                                   |    5    |
 | E6-TS03                                                                                                                                                                                                                                                                                                                | Endpoint para reportes consolidados                          | <p>**Como** developer </p><p>**Quiero** implementar un endpoint que devuelva un reporte consolidado de consumo, alertas y productividad </p><p>**Para** alimentar los paneles de análisis del frontend </p>                      | <p>**Escenario 1: Reporte consolidado por campo** </p><p>**Dado que** el frontend hace una petición GET a /api/reports/summary?fieldId=12 </p><p>**Cuando** el campo existe y hay datos disponibles </p><p>**Entonces** el backend responde con un objeto JSON que contiene estadísticas resumidas de consumo, alertas y producción </p><p></p><p>**Escenario 2: Solicitud de reporte con campo inexistente** </p><p>**Dado que** el parámetro fieldId no corresponde a un campo válido </p><p>**Cuando** se realiza la solicitud </p><p>**Entonces** el sistema devuelve un 404 con el mensaje “Campo no encontrado”</p>                          |    5    |
 | E6-TS04                                                                                                                                                                                                                                                                                                               | Middleware para autenticacion y autorizacion de APIs         | <p>**Como** developer </p><p>**Quiero** implementar middleware para autenticar usuarios y validar permisos </p><p>**Para** asegurar que solo usuarios autorizados accedan a los endpoints </p>                                  | <p>**Escenario 1: Usuario autorizado accede al endpoint** </p><p>**Dado que** el middleware valida correctamente el token JWT del usuario </p><p>**Cuando** el usuario accede a un recurso privado </p><p>**Entonces** se le permite continuar con la ejecución del endpoint </p><p></p><p>**Escenario 2: Usuario sin permisos accede a un recurso restringido** </p><p>**Dado que** el token JWT pertenece a un usuario sin los permisos necesarios </p><p>**Cuando** intenta acceder a un endpoint restringido </p><p>**Entonces** el sistema responde con 403 “Acceso denegado”</p>                                                                 |    5    |
 | E6-TS05                                                                                                                                                                                                                                                                                                                | Servicio de integracion con dispositivos IoT                 | <p>**Como** developer </p><p>**Quiero** implementar un servicio que reciba datos desde dispositivos IoT vía MQTT y los procese </p><p>**Para** integrarlos con el sistema general y persistir su información </p>                   | <p>**Escenario 1: Recepción de datos MQTT exitos**a </p><p>**Dado que** un dispositivo IoT publica datos en un topic MQTT configurado </p><p>**Cuando** el servicio MQTT los recibe </p><p>**Entonces** procesa y guarda los datos correctamente en la base de datos </p><p></p><p>**Escenario 2: Error en el procesamiento de datos del dispositivo** </p><p>**Dado que** los datos recibidos por MQTT tienen formato inválido </p><p>**Cuando** el servicio intenta procesarlos </p><p>**Entonces** registra el error y envía una notificación al sistema de monitoreo </p><p></p>                                                                |    5    |

## 3.3 **Impact Mapping.**

**Segmento agricultor**

<img src="./assets/chapter-III/WaruSmart-impact-mapping-agricultor.png" alt="Impact map del segmento agricultor">

**Segmento cooperativa**

<img src="./assets/chapter-III/Segmento Cooperativa.png" alt="Impact map del segmento cooperativa">

## 3.4 **Product Backlog.**

<img src="./assets/chapter-III/Product-backlog.PNG" alt="Product backlog de la aplicación WebMaster">

Enlace al tablero de Trello: https://trello.com/b/K9h167PW/warusmart

<table border="1">
  <thead>
    <tr>
      <th>User story ID</th>
      <th>Título</th>
      <th>Story Points (1 / 2 / 3 / 5 / 8)</th>
      <th>Sprint</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>E1-US01</td>
      <td>Navegación entre secciones</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <td>E1-US03</td>
      <td>Visualizar beneficios segmentados</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <td>E1-US02</td>
      <td>Conocer cómo funciona la solución</td>
      <td>2</td>
      <td>1</td>
    </tr>
    <tr>
      <td>E1-US05</td>
      <td>Sección contactarse</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <td>E1-US04</td>
      <td>Sección testimonios de usuarios</td>
      <td>2</td>
      <td>1</td>
    </tr>
    <tr>
      <td>E5-US23</td>
      <td>Creación de parcelas agrícolas</td>
      <td>3</td>
      <td>1</td>
    </tr>
    <tr>
      <td>E5-US24</td>
      <td>Agregar cultivos a una parcela</td>
      <td>2</td>
      <td>1</td>
    </tr>
    <tr>
      <td>E5-US25</td>
      <td>Crear o invitar a agricultores a la cooperativa</td>
      <td>2</td>
      <td>1</td>
    </tr>
    <tr>
      <td>E2-US07</td>
      <td>Visualización de humedad ambiental y temperatura del aire</td>
      <td>3</td>
      <td>2</td>
    </tr>
    <tr>
      <td>E2-US06</td>
      <td>Visualización de temperatura y humedad del suelo</td>
      <td>3</td>
      <td>2</td>
    </tr>
    <tr>
      <td>E2-US10</td>
      <td>Registro histórico de condiciones ambientales</td>
      <td>5</td>
      <td>2</td>
    </tr>
    <tr>
      <td>E2-US08</td>
      <td>Vista general del estado del cultivo</td>
      <td>3</td>
      <td>2</td>
    </tr>
    <tr>
      <td>E2-US11</td>
      <td>Visualización consolidada de estado de cultivos para cooperativas</td>
      <td>5</td>
      <td>2</td>
    </tr>
    <tr>
      <td>E3-US15</td>
      <td>Control manual del riego desde la plataforma</td>
      <td>5</td>
      <td>2</td>
    </tr>
    <tr>
      <td>E3-US301</td>
      <td>Activación automática del riego por baja humedad del suelo</td>
      <td>5</td>
      <td>3</td>
    </tr>
    <tr>
      <td>E4-US18</td>
      <td>Visualización de reportes de consumo de agua</td>
      <td>5</td>
      <td>3</td>
    </tr>
    <tr>
      <td>E4-US19</td>
      <td>Visualización de alertas generadas en un periodo</td>
      <td>5</td>
      <td>3</td>
    </tr>
    <tr>
      <td>E6-TS01</td>
      <td>Exponer API REST para obtener datos de sensores</td>
      <td>3</td>
      <td>3</td>
    </tr>
    <tr>
      <td>E6-TS02</td>
      <td>Servicio de almacenamiento de registros de sensores</td>
      <td>5</td>
      <td>3</td>
    </tr>
    <tr>
      <td>E6-TS04</td>
      <td>Middleware para autenticacion y autorizacion de APIs</td>
      <td>3</td>
      <td>3</td>
    </tr>
    <tr>
      <td>E6-TS03</td>
      <td>Endpoint para reportes consolidados</td>
      <td>3</td>
      <td>3</td>
    </tr>
    <tr>
      <td>E4-US20</td>
      <td>Reporte de productividad por cultivo</td>
      <td>3</td>
      <td>3</td>
    </tr>
    <tr>
      <td>E4-US21</td>
      <td>Exportación de reportes en formatos descargables</td>
      <td>3</td>
      <td>3</td>
    </tr>
    <tr>
      <td>E6-TS05</td>
      <td>Servicio de integracion con dispositivos IoT</td>
      <td>5</td>
      <td>4</td>
    </tr>
    <tr>
      <td>E3-US13</td>
      <td>Activación automática del riego por baja humedad del suelo</td>
      <td>5</td>
      <td>4</td>
    </tr>
    <tr>
      <td>E2-US09</td>
      <td>Alertas por condiciones anómalas</td>
      <td>5</td>
      <td>4</td>
    </tr>
    <tr>
      <td>E2-US12</td>
      <td>Gestión y revisión de alertas para cooperativas</td>
      <td>5</td>
      <td>4</td>
    </tr>
    <tr>
      <td>E4-US22</td>
      <td>Visualización de tendencias y recomendaciones</td>
      <td>5</td>
      <td>4</td>
    </tr>
    <tr>
      <td>E3-US14</td>
      <td>Configuración manual de umbrales para riego automático</td>
      <td>3</td>
      <td>4</td>
    </tr>
        <tr>
      <td>E3-US16</td>
      <td>Visualización del estado actual del sistema de riego</td>
      <td>5</td>
      <td>4</td>
    </tr>
        <tr>
      <td>E3-US17</td>
      <td>Notificaciones de riego iniciado o detenido</td>
      <td>5</td>
      <td>4</td>
    </tr>
  </tbody>
</table>

# Capítulo IV: Solution Software Design

## 4.1 StrategicLevel Domain-Driven Design

### 4.1.1 EventStorming

EventStorming es una técnica colaborativa e iterativa de modelado que permite explorar en profundidad una problemática compleja y de gran escala, facilitando la identificación de la mayor cantidad de detalles y desafíos posibles.

![Image](https://res.cloudinary.com/drkelnilg/image/upload/v1745652955/imagen_2025-04-26_023555063_odbatw.png "Bounden Contexts")

**Enlace del miro:** https://miro.com/app/board/uXjVI9vdzpc=/

#### 4.1.1.1 Candidate Contex Discovery

**Step 1: Unstructured Exploration**

En la primera etapa del EventStorming, se realiza una sesión de exploración libre donde se buscan todos los eventos relevantes del dominio del negocio. Es importante expresar estos eventos como acciones que ya sucedieron, describiendo hechos que ocurrieron dentro del sistema o proceso.

![Texto alternativo](https://res.cloudinary.com/drkelnilg/image/upload/v1745653109/imagen_2025-04-26_023829144_clrqmp.png "Unstructured Exploration")

Realizamos una lluvia de ideas para identificar todos los eventos, datos y acciones relevantes que el sistema IoT para la gestión de riego en cultivos debería manejar utilizando sensores de humedad, temperatura y aplicaciones web. Se incluyeron eventos relacionados con la activación de sensores ambientales y el monitoreo de condiciones del suelo, como la detección de niveles críticos de humedad y cambios de temperatura, para garantizar el adecuado control del riego. También se consideraron acciones del sistema, como el envío de alertas a los agricultores, la generación de recomendaciones de riego y la configuración de zonas de irrigación.

**Step 2: Timelines**

En este segundo paso, se revisan los eventos de dominio generados y se organizan en el orden en que ocurren dentro del dominio. Primero, se debe construir un happy path, es decir, un escenario en el que todo funciona correctamente y el proceso comercial es exitoso. Una vez que se ha completado este camino ideal, se pueden agregar escenarios alternativos que contemplen variaciones, fallos, o situaciones excepcionales.

![Texto alternativo](https://res.cloudinary.com/drkelnilg/image/upload/v1745653325/imagen_2025-04-26_024204586_atrn9i.png "Timelines")
![Texto alternativo](https://res.cloudinary.com/drkelnilg/image/upload/v1745653338/imagen_2025-04-26_024218423_jluuq0.png "Timelines")

Hemos organizado la información generada en la fase de exploración no estructurada mediante flujos de eventos específicos, identificando así cómo debería reaccionar el sistema ante distintas situaciones relacionadas con el monitoreo ambiental y la gestión del riego agrícola. Cada flujo visualiza un conjunto de eventos y acciones correlacionadas, desde la activación de sensores de humedad y temperatura hasta la generación de recomendaciones de riego y el envío de alertas a los agricultores. Se detallan diferentes escenarios como la detección de niveles críticos de humedad, cambios inusuales en la temperatura o interrupciones en los sensores. Además, se incluye la actualización de datos en distintas plataformas (nube, aplicaciones móviles y web) y la generación de reportes diarios sobre las condiciones ambientales y las actividades de riego.

**Step 3: Paint Points**

Después de organizar los eventos en una línea de tiempo, aprovechamos esta vista general para identificar puntos de interés a lo largo del proceso. Estos puntos de interés pueden incluir cuellos de botella, pasos manuales que podrían ser automatizados

![Texto alternativo](https://res.cloudinary.com/drkelnilg/image/upload/v1745653522/imagen_2025-04-26_024521737_cacqab.png "Paint Points")
![Texto alternativo](https://res.cloudinary.com/drkelnilg/image/upload/v1745653536/imagen_2025-04-26_024535775_yy2gi8.png "Paint Points")
![Texto alternativo](https://res.cloudinary.com/drkelnilg/image/upload/v1745653547/imagen_2025-04-26_024547412_s0oyxi.png "Paint Points")

Hemos identificado y documentado los puntos críticos y decisiones clave en cada flujo de eventos. Estos flujos se detallan con preguntas esenciales que deben ser resueltas para garantizar el correcto funcionamiento del sistema, como la manera de detectar un nivel crítico de humedad, la validación de cambios anómalos de temperatura o la confirmación de una condición ambiental normal. Además, se analiza cómo se registran y actualizan los datos en la nube, y cómo se generan alertas y recomendaciones en caso de condiciones desfavorables para el cultivo.

**Step 4: Pivotal Points**

En esta etapa, se identifican los puntos de pivote, que son eventos o acciones que pueden cambiar el rumbo del proceso. Estos puntos son cruciales para entender cómo el sistema puede adaptarse a diferentes situaciones y cómo se pueden tomar decisiones en función de los datos recopilados.

![Texto alternativo](https://res.cloudinary.com/drkelnilg/image/upload/v1745653767/imagen_2025-04-26_024926114_uasjco.png "Pivotal Points")
![Texto alternativo](https://res.cloudinary.com/drkelnilg/image/upload/v1745653787/imagen_2025-04-26_024946366_jg4kyp.png "Pivotal Points")
![Texto alternativo](https://res.cloudinary.com/drkelnilg/image/upload/v1745653800/imagen_2025-04-26_024959774_bwrlpz.png "Pivotal Points")

Hemos identificado los puntos críticos (pivotal points) que son esenciales para la correcta operación y toma de decisiones del sistema IoT de gestión de riego agrícola. Estos puntos representan momentos donde se requiere validar decisiones importantes para asegurar que el sistema actúe de manera adecuada frente a las condiciones ambientales detectadas. Por ejemplo, se definieron puntos de verificación como la detección de niveles críticos de humedad, la confirmación de variaciones anómalas de temperatura, la actualización de datos en la nube y la generación automática de recomendaciones de riego o alertas a los agricultores.

**Step 5: Commands**

En esta etapa, se definen los comandos que el sistema debe ejecutar en respuesta a los eventos y puntos de pivote identificados. Estos comandos son acciones específicas que el sistema debe llevar a cabo para garantizar un funcionamiento eficiente y efectivo.

![Texto alternativo](https://res.cloudinary.com/drkelnilg/image/upload/v1745654093/imagen_2025-04-26_025452427_pktjqq.png "Commands")
![Texto alternativo](https://res.cloudinary.com/drkelnilg/image/upload/v1745654050/imagen_2025-04-26_025409445_btxntk.png "Commands")
![Texto alternativo](https://res.cloudinary.com/drkelnilg/image/upload/v1745654063/imagen_2025-04-26_025422647_ob79tc.png "Commands")
![Texto alternativo](https://res.cloudinary.com/drkelnilg/image/upload/v1745654081/imagen_2025-04-26_025441065_t2sqdr.png "Commands")

Estructuramos las funcionalidades y acciones clave del sistema IoT para la gestión de riego agrícola, identificando los actores involucrados y sus interacciones con el sistema. Se definieron procesos específicos para la activación de sensores de humedad y temperatura, la recolección de datos ambientales, su visualización en paneles de control y su almacenamiento en la base de datos en la nube. Asimismo, se detallaron los flujos para la creación y modificación de zonas de riego, la programación de sistemas de irrigación, la generación de alertas en caso de condiciones críticas y la emisión de recomendaciones automáticas de riego.

**Step 6: Policies**

En esta etapa, se definen las políticas que rigen el comportamiento del sistema y cómo se deben manejar diferentes situaciones. Estas políticas son reglas o directrices que guían la toma de decisiones dentro del sistema.

![Texto alternativo](https://res.cloudinary.com/drkelnilg/image/upload/v1745654414/imagen_2025-04-26_030013904_clyrbd.png "Policies")
![Texto alternativo](https://res.cloudinary.com/drkelnilg/image/upload/v1745654304/imagen_2025-04-26_025823941_ju4tj9.png "Policies")
![Texto alternativo](https://res.cloudinary.com/drkelnilg/image/upload/v1745654320/imagen_2025-04-26_025839659_pgpand.png "Policies")
![Texto alternativo](https://res.cloudinary.com/drkelnilg/image/upload/v1745654371/imagen_2025-04-26_025930296_aefomp.png "Policies")

Definimos y organizamos las políticas de activación de sensores, recolección y envío de datos ambientales, generación de alertas y administración de usuarios y suscripciones. Se establecieron los eventos que disparan acciones automáticas como la activación de sensores de humedad y temperatura, la detección de condiciones críticas en los cultivos, la generación de recomendaciones de riego y el envío de notificaciones a los agricultores. También se estructuraron las políticas para gestionar fallos de sensores, sincronización de datos con plataformas en la nube y actualizaciones de programación de riego en función de las condiciones detectadas.

**Step 7: Read Models**

En esta etapa, se definen los modelos de lectura que el sistema utilizará para presentar la información a los usuarios. Estos modelos son representaciones de los datos que se mostrarán en las interfaces de usuario y deben ser diseñados para facilitar la comprensión y el análisis de la información.

![Texto alternativo](https://res.cloudinary.com/drkelnilg/image/upload/v1745654694/imagen_2025-04-26_030440434_ymqj8d.png "Read Models")
![Texto alternativo](https://res.cloudinary.com/drkelnilg/image/upload/v1745654699/imagen_2025-04-26_030458571_ocu4ur.png "Read Models")
![Texto alternativo](https://res.cloudinary.com/drkelnilg/image/upload/v1745654736/imagen_2025-04-26_030535541_dee5a3.png "Read Models")

Identificamos los modelos de lectura (Read Models) necesarios para presentar la información recolectada a partir de los eventos y comandos ya establecidos. Cada Read Model fue definido en función de las necesidades de consulta específicas del sistema, permitiendo estructurar vistas claras y actualizadas de datos críticos como las condiciones ambientales, el estado de los cultivos, las programaciones de riego y las alertas generadas. Estos modelos incluyen aspectos como la visualización histórica de humedad y temperatura, el registro de recomendaciones de riego, la lista de sensores activos o desconectados, y el seguimiento de reportes diarios sincronizados con la nube. Además, se estructuraron modelos para la gestión de usuarios y suscripciones, detallando qué información debe mostrarse y cómo debe actualizarse en función de los cambios en el sistema.

**Step 8: External Systems**

En esta etapa, se identifican los sistemas externos con los que el sistema debe interactuar. Estos sistemas pueden incluir bases de datos, servicios web, aplicaciones móviles y otros componentes que son necesarios para el funcionamiento del sistema.

![Texto alternativo](https://res.cloudinary.com/drkelnilg/image/upload/v1745654906/imagen_2025-04-26_030812443_tsvirm.png "External Systems")
![Texto alternativo](https://res.cloudinary.com/drkelnilg/image/upload/v1745654917/imagen_2025-04-26_030828644_mz7qly.png "External Systems")
![Texto alternativo](https://res.cloudinary.com/drkelnilg/image/upload/v1745654921/imagen_2025-04-26_030840432_k4hozz.png "External Systems")

Incorporamos eventos relacionados con la activación de sensores y el inicio de la recolección de datos ambientales, representados dentro del flujo general. Además, se añadieron interacciones específicas con diferentes sistemas externos, como plataformas IoT para la gestión de sensores de humedad y temperatura, servicios de almacenamiento en la nube, gateways de notificaciones y pasarelas de pago para la administración de suscripciones. Se destacaron políticas automáticas para la recolección y envío de datos, así como la generación de alertas ante condiciones críticas.

**Step 9: Aggregates**

En esta etapa, se definen los agregados que representan las entidades principales del sistema. Estos agregados son grupos de entidades y objetos de valor que están relacionados entre sí y que deben ser tratados como una unidad coherente.

![Texto alternativo](https://res.cloudinary.com/drkelnilg/image/upload/v1745655247/imagen_2025-04-26_031405592_b4ytqs.png "Aggregates")
![Texto alternativo](https://res.cloudinary.com/drkelnilg/image/upload/v1745655267/imagen_2025-04-26_031426575_yfahjp.png "Aggregates")
![Texto alternativo](https://res.cloudinary.com/drkelnilg/image/upload/v1745655327/imagen_2025-04-26_031458054_thycab.png "Aggregates")
![Texto alternativo](https://res.cloudinary.com/drkelnilg/image/upload/v1745655294/imagen_2025-04-26_031446744_tk3kz2.png "Aggregates")

Cada diagrama inicia con la activación de los sensores y la recolección de datos ambientales correspondientes (humedad y temperatura), procediendo a la detección de condiciones normales o críticas en los cultivos. Si se detecta una anomalía, se sigue una política de recolección de datos y de generación de alertas, que conlleva la emisión de recomendaciones de riego o notificaciones de alerta hacia los agricultores a través de distintas plataformas (web, aplicación móvil). Además, se introdujo el flujo de inicio de sesión y gestión de cuentas para configurar el sistema y asociar usuarios a sus cultivos, facilitando la personalización de configuraciones de sensores, zonas de riego y el control de notificaciones. Cada flujo de eventos y comandos está agrupado bajo agregados específicos, que encapsulan de manera consistente la evolución de los datos ambientales, las programaciones de riego, las alertas y la administración de usuarios, permitiendo mantener la integridad y coherencia del sistema en cada una de sus interacciones principales.

**Step 10: Bounded Contexts**

Finalmente, se identifican los contextos delimitados (bounded contexts) que representan áreas específicas del dominio donde se aplican ciertas reglas y políticas. Estos contextos ayudan a organizar el sistema en módulos más manejables y comprensibles.

![Texto alternativo](https://res.cloudinary.com/drkelnilg/image/upload/v1745660482/imagen_2025-04-26_044121439_tftyyv.png "Bounded Contexts")

Identificamos y agrupamos los eventos del sistema Warusmart en distintos Bounded Contexts para delimitar áreas funcionales específicas dentro del dominio agrícola. Identification and Authentication Management se encarga de la autenticación, el inicio de sesión, la asignación de roles y la gestión de cuentas de usuarios, asegurando el acceso seguro y la asociación entre agricultores y cultivos. Subscriptions and Payments administra todo el ciclo de vida de las suscripciones, desde la activación hasta la renovación o cancelación, incluyendo la interacción con plataformas de pago externas como PayPal. Crops Management (Notif) abarca el registro y actualización de cultivos, la asignación de sensores a zonas agrícolas, y la emisión de alertas y notificaciones ante condiciones ambientales críticas. Irrigation Management gestiona la configuración de zonas de riego, la programación y ejecución (manual o automática) del sistema de irrigación, y el seguimiento del historial de riego. Finalmente, Data Analytics Management se enfoca en el procesamiento de datos provenientes de los sensores, la visualización de información histórica, la generación de recomendaciones de riego, el envío de reportes y la sincronización de datos en la nube. Esta estructuración por contextos permite mantener una arquitectura modular, escalable y alineada con los principios de diseño orientado al dominio, facilitando el desarrollo y mantenimiento del sistema.

#### 4.1.1.2 Domain Message Flows Modeling

A continuación se presentan los Domain Message Flows Modeling elaborados en la herramienta de Miro, esto nos permite ver los flujos de mensajes emitidos por distintos colaboradores en nuestro sistema resaltando los escenarios de mayor relevancia.

Escenario 1: Añadir un nuevo cultivo y configurar su monitoreo

![Scenario1](Assets\diagram-flow-messages\Scenario1-DiagramFLow.png)

Escenario 2: Detección de baja humedad del suelo y activación automática del riego.

![Scenario2](Assets\diagram-flow-messages\Scenario2-DiagramFlow.png)

Escenario 3: Generación diaria de reportes de cultivos y riego.

![Scenario3](Assets\diagram-flow-messages\Scenario3-DiagramFlow.png)

Escenario 4: Notificación de bajo rendimiento de cultivos.

![Scenario4](Assets\diagram-flow-messages\Scenario4-DiagramFlow.png)

Escenario 5: Configuración o actualización de reglas de riego automático.

![Scenario5](Assets\diagram-flow-messages\Scenario5-DiagramFlow.png)

#### 4.1.1.3 Bounded Context Canvases

![Texto alternativo](https://res.cloudinary.com/drkelnilg/image/upload/v1745655714/imagen_2025-04-26_032134504_on17gs.png "Bounded Contexts Canvases")

Este canvas define el contexto de IAM (Identity and Access Management) como responsable de la gestión segura de usuarios en el sistema, incluyendo registro, autenticación y actualización de perfiles. Delimita claramente sus comunicaciones entrantes (registro, autenticación, vinculación) y salientes (actualización y eliminación de cuentas), que impactan en sistemas como la gestión de suscripciones. Además, establece un lenguaje ubicuo para evitar ambigüedades y resalta decisiones clave como la política de autenticación.

![Texto alternativo](https://res.cloudinary.com/drkelnilg/image/upload/v1745655735/imagen_2025-04-26_032156831_llint2.png "Bounded Contexts Canvases")

Aqui se define el contexto de Suscriptions and Payments como responsable de gestionar el acceso de los usuarios a los productos de la solución y procesar los pagos correspondientes. Establece claramente sus comunicaciones entrantes (inicio de suscripción, cambios y actualizaciones de planes) y salientes (suspensión, cambio o actualización de planes), que afectan a módulos clave como la gestión de cultivos, riego y análisis de datos.

![Texto alternativo](https://res.cloudinary.com/drkelnilg/image/upload/v1745655739/imagen_2025-04-26_032218127_zkpvp1.png "Bounded Contexts Canvases")

Crops Management actua como el núcleo que permite a los usuarios gestionar sus cultivos a lo largo de todo el ciclo productivo, garantizando un seguimiento detallado y organizado. Establece interacciones entrantes desde los propios agricultores para registrar, actualizar o crear áreas de cultivo, y salidas que configuran la conectividad con sensores IoT, asignan sensores a cultivos o notifican eventos importantes.

![Texto alternativo](https://res.cloudinary.com/drkelnilg/image/upload/v1745655784/imagen_2025-04-26_032246309_vqevhg.png "Bounded Contexts Canvases")

Irrigation Management es esencial para la gestión automatizada de riego en los cultivos, permitiendo a los usuarios controlar y supervisar los sistemas IoT que regulan la irrigación según condiciones específicas. Establece comunicaciones entrantes desde sensores IoT y la gestión de cultivos para configurar, activar o adaptar el riego, y salidas que informan a otros módulos sobre el estado crítico de datos o eventos relevantes como suspensión y reanudación del riego.

![Texto alternativo](https://res.cloudinary.com/drkelnilg/image/upload/v1745655819/imagen_2025-04-26_032305580_wunor9.png "Bounded Contexts Canvases")

Aqui se define el contexto de Data Analytics Management como el encargado de procesar y transformar los datos provenientes de los módulos de riego y gestión de cultivos para generar información útil y reportes precisos para los usuarios. Gestiona comunicaciones entrantes que reflejan eventos como la visualización de paneles de datos y la generación de reportes diarios, y comunicaciones salientes que entregan reportes e indicadores de bajo rendimiento a los agricultores.

**Enlace del miro:** https://miro.com/app/board/uXjVI9vdzpc=/

### 4.1.2 Context Mapping

Durante esta etapa, el equipo llevó a cabo un análisis reflexivo y colaborativo para evidenciar las relaciones estructurales entre los Bounded Contexts identificados en Warusmart:

- **Identification and Authentication Management**
- **Subscriptions and Payments**
- **Crops Management (Notif)**
- **Irrigation Management**
- **Data Analytics Management**

A partir de los eventos, comandos, políticas y agregados definidos en cada contexto, se construyeron varios context maps candidatos que permitieron visualizar cómo interactúan y dependen entre sí estas áreas funcionales.

## Análisis de Alternativas de Diseño

- **¿Qué pasaría si movemos la funcionalidad de generación de recomendaciones de riego de Data Analytics Management a Irrigation Management?**Se evaluó que esta decisión podría simplificar la reacción inmediata del riego, pero aumentaría el acoplamiento y dificultaría mantener reglas de análisis independientes.
- **¿Qué pasaría si descomponemos Crops Management (Notif) y movemos las alertas de sensores a un contexto aparte llamado Alert Management?**Se analizó la posibilidad, pero se descartó debido al incremento de complejidad en la integración entre sensores, cultivos y zonas de riego.
- **¿Qué pasaría si partimos Data Analytics Management en dos bounded contexts: uno para la generación de gráficos históricos y otro para la emisión de recomendaciones?**Esta fragmentación fue desestimada en esta fase inicial, priorizando la cohesión de los análisis de datos en un solo contexto para reducir la complejidad operativa.
- **¿Qué pasaría si tomamos la gestión de sincronización en la nube de Data Analytics Management y la usamos como un servicio compartido entre Crops Management y Data Analytics?**Se identificó que esto podría optimizar recursos en el futuro, pero para esta versión inicial se decidió mantener la sincronización dentro de Data Analytics para evitar una dependencia técnica innecesaria.
- **¿Qué pasaría si duplicamos la lógica de asignación de sensores en Crops Management para permitir la lectura directa desde Data Analytics Management?**Esta opción fue rechazada, ya que aumentaría la redundancia y podría provocar inconsistencias en el mapeo de sensores y zonas de cultivo.
- **¿Qué pasaría si creamos un shared service para el modelo de usuario que comparten Identification and Authentication Management y Subscriptions and Payments?**Se concluyó que, en lugar de crear un shared service separado, se aplicaría el patrón Shared Kernel, compartiendo de manera controlada la entidad Usuario entre estos contextos.
- **¿Qué pasaría si aislamos la gestión de zonas de riego de Irrigation Management y la movemos a Crops Management?**
  Se consideró que esta opción podría reducir la flexibilidad de configuración de riego, por lo que se mantuvo la gestión de zonas dentro del contexto de riego.

Tras la discusión de todas estas alternativas, se llegó a la mejor aproximación para el contexto de Warusmart, respetando tanto los límites funcionales del negocio como la necesidad de escalabilidad y bajo acoplamiento entre componentes.

Es importante resaltar que durante este proceso el equipo aplicó los patrones de relaciones entre Bounded Contexts establecidos en Domain-Driven Design, tales como:

- **Anti-Corruption Layer** entre *Subscriptions and Payments* y *Identification and Authentication Management*, para proteger las reglas de autenticación frente a las integraciones con pasarelas de pago.
- **Shared Kernel** entre *Identification and Authentication Management* y los demás contextos, para compartir el modelo de Usuario de forma segura.
- **Customer/Supplier** entre *Crops Management (Notif)* y *Irrigation Management*, donde Irrigation depende de la definición de zonas agrícolas configuradas en Crops.
- **Conformist** entre *Data Analytics Management* y los demás contextos, adaptándose a los eventos de cultivo, riego y suscripción sin modificar su lógica de negocio.

![Texto alternativo](https://res.cloudinary.com/drkelnilg/image/upload/v1745658385/imagen_2025-04-26_040623655_cytcps.png "Bounded Contexts Canvases")

### 4.1.3 Software Architecture
Para la definición de nuestra arquitectura de software hicimos uso del Diagrama C4 model y la herramienta Structurizr.
#### 4.1.3.1 Software Architecture System Landscape Diagram

#### 4.1.3.2 Software Architecture Context Level Diagrams
<p>
  <img src="https://res.cloudinary.com/dydklnicb/image/upload/v1745674155/WaruSmartContext_f7hfik.png">
</p>

#### 4.1.3.2 Software Architecture Container Level Diagrams
<p>
  <img src="https://res.cloudinary.com/dydklnicb/image/upload/v1745674155/WaruSmartContainers_d6yoda.png">
</p>

#### 4.1.3.2 Software Architecture Deployment Diagrams

## 4.2. Tactical-Level Domain-Driven Design

### 4.2.1. Bounded Context: IAM (Identity and Access Management)

En este apartado se describe el diseño del bounded context correspondiente al **IAM (Identity and Access Management)**, que es una parte esencial del sistema Warusmart. Este contexto se encarga de todo lo relacionado con la gestión de identidades y accesos de los usuarios que interactúan con la plataforma.

El bounded context (IAM) nos permite registrar y administrar usuarios, así como definir qué puede hacer cada uno dentro del sistema mediante roles y permisos. Gracias a este módulo, garantizamos que cada persona solo acceda a las funcionalidades que le corresponden, lo cual es fundamental para mantener la seguridad, la integridad de los datos y la correcta operación del sistema.

Este contexto también facilita futuras integraciones con servicios externos de autenticación y maneja perfiles como administradores, técnicos y agricultores, quienes tienen diferentes niveles de acceso.

---

### Diccionario de Clases

#### Clase: `User`

Esta clase representa a cada usuario que accede al sistema. Contiene sus credenciales y el rol que determina qué funcionalidades puede usar dentro de la plataforma.

| Nombre       | User                                                                                               |
| ------------ | -------------------------------------------------------------------------------------------------- |
| Relaciones   | Role, Session                                                                                      |
| Descripción | Representa a un usuario registrado con credenciales de acceso, datos personales y su rol asignado. |

##### Atributos

| Nombre   | Tipo de Dato | Visibilidad |
| -------- | ------------ | ----------- |
| Id       | int          | private     |
| Username | string       | private     |
| Password | string       | private     |
| FullName | string       | private     |
| Role     | Role         | private     |
| IsActive | boolean      | private     |

##### Métodos

- `getUserDetails()` – Devuelve la información del usuario.
- `updatePassword()` – Permite actualizar la contraseña.
- `deactivateUser()` – Desactiva la cuenta de usuario.
- `assignRole()` – Asigna un nuevo rol al usuario.

---

#### Clase: `Role`

Esta clase define los distintos roles posibles dentro del sistema, como "Administrador" o "Agricultor", y contiene los permisos asociados a cada uno.

| Nombre       | Role                                                                 |
| ------------ | -------------------------------------------------------------------- |
| Relaciones   | Permission                                                           |
| Descripción | Representa un rol del sistema con un conjunto de permisos asignados. |

##### Atributos

| Nombre      | Tipo de Dato          | Visibilidad |
| ----------- | --------------------- | ----------- |
| Id          | int                   | private     |
| Name        | string                | private     |
| Permissions | List `<Permission>` | private     |

##### Métodos

- `addPermission()` – Agrega un permiso al rol.
- `removePermission()` – Elimina un permiso del rol.
- `getPermissions()` – Devuelve la lista de permisos asociados.

#### 4.2.1.1 Domain Layer
Dentro del dominio de **Identity and Access Management (IAM)**, se encuentran entidades clave que permiten gestionar las identidades y el acceso de los usuarios dentro de nuestra plataforma Warusmart. Estas entidades desempeñan un papel fundamental en los procesos de autenticación, asignación de roles y autorización de acciones, garantizando que el acceso a las diferentes funcionalidades de la plataforma esté debidamente controlado y segmentado.
 
 El dominio IAM facilita operaciones esenciales como la creación y administración de usuarios, el cambio de contraseñas, la asignación de nuevos roles y la actualización de información personal de los usuarios. Asimismo, asegura que el sistema mantenga actualizados los datos de identidad y control de acceso, mejorando la seguridad general y la trazabilidad de las operaciones dentro de Warusmart.
 
 ---
 
 ### Aggregate Root
 
 #### Aggregate: `User`
 
 | Nombre      | User                                                                                                                  |
 | ----------- | --------------------------------------------------------------------------------------------------------------------- |
 | Descripción | Representa la raíz del agregado de identidad. Centraliza la gestión de la información del usuario y sus credenciales. |
 
 ##### Atributos
 
 - `id: String`
 - `username: String`
 - `password: String`
 - `fullName: String`
 - `role: Role`
 - `isActive: Boolean`
 
 ##### Métodos
 
 - `getUserDetails()`
 - `updatePassword()`
 - `assignRole()`
 - `deactivateUser()`
 
 ---
 
 ### Entities
 
 #### Entidad: `Role`
 
 | Nombre      | Role                                                                                                                          |
 | ----------- | ----------------------------------------------------------------------------------------------------------------------------- |
 | Descripción | Define los diferentes roles que un usuario puede tener en el sistema, cada uno asociado a un conjunto específico de permisos. |
 
 ##### Atributos
 
 - `id: String`
 - `name: String`
 - `permissions: List<Permission>`
 
 ##### Métodos
 
 - `addPermission()`
 - `removePermission()`
 - `getPermissions()`
 
 ---
 
 ### Value Objects
 
 #### Value Object: `Permission`
 
 | Nombre      | Permission                                                                           |
 | ----------- | ------------------------------------------------------------------------------------ |
 | Descripción | Representa un permiso específico que define una acción permitida dentro del sistema. |
 
 ##### Atributos
 
 - `id: String`
 - `name: String`
 - `description: String`
 
 ##### Métodos
 
 - `getPermissionDetails()`
 
 ---
 
 ### Domain Services
 
 #### Servicio de Dominio: `UserManagementService`
 
 | Nombre      | UserManagementService                                                                                    |
 | ----------- | -------------------------------------------------------------------------------------------------------- |
 | Descripción | Servicio que orquesta operaciones de alto nivel sobre usuarios, roles y permisos dentro del sistema IAM. |
 
 ##### Métodos
 
 - `registerUser(username: String, password: String, fullName: String, role: Role): User`
 - `updateUserPassword(userId: String, newPassword: String): void`
 - `assignUserRole(userId: String, role: Role): void`
 - `deactivateUser(userId: String): void`
 
 ---
 
 ### Repositories
 
 #### Repositorio: `UserRepository`
 
 | Nombre      | UserRepository                                                             |
 | ----------- | -------------------------------------------------------------------------- |
 | Descripción | Define la abstracción de persistencia para las operaciones sobre usuarios. |
 
 ##### Métodos
 
 - `getById(userId: String): User`
 - `create(user: User): void`
 - `update(user: User): void`
 - `delete(userId: String): void`
 
 ---
#### 4.2.1.2 Interface Layer
### Bounded Context: IAM

En esta sección, se describe la capa de interfaz correspondiente al dominio de **Identity and Access Management (IAM)**, la cual expone los controladores necesarios para gestionar las interacciones de los usuarios con el sistema.

Los controladores de IAM son responsables de manejar las solicitudes de creación de usuarios, autenticación, asignación de roles, actualización de contraseñas y desactivación de cuentas. Aseguran que solo usuarios autorizados puedan realizar operaciones sensibles y que la plataforma mantenga la integridad de las identidades y permisos.

El controlador principal en este contexto es el **UserController**.

---

### UserController

| Método | Descripción |
|--------|-------------|
| `getUserDetails(userId: int): UserDto` | Obtiene los detalles de un usuario específico. |
| `createUser(userData: UserDto): void` | Crea un nuevo usuario en el sistema, asignándole un rol inicial. |
| `updatePassword(userId: int, newPassword: string): void` | Actualiza la contraseña de un usuario. |
| `assignRole(userId: int, roleId: int): void` | Asigna o actualiza el rol de un usuario. |
| `deactivateUser(userId: int): void` | Desactiva una cuenta de usuario, bloqueando su acceso al sistema. |

---
#### 4.2.1.3 Application Layer
En esta sección, se presenta la **Capa de Aplicación (Application Layer)** dentro del contexto de **Identity and Access Management (IAM)** de la plataforma Warusmart.

Esta capa sirve como intermediaria entre la lógica de negocio que gestiona identidades y accesos y la infraestructura de servicios, permitiendo controlar la creación de usuarios, la actualización de contraseñas, la asignación de roles y la desactivación de usuarios de manera segura y organizada.

Los **Command Handlers** son responsables de ejecutar acciones de escritura, como registrar nuevos usuarios o modificar su información de acceso. También se incluyen **Event Handlers** para reaccionar ante eventos importantes del sistema, como la desactivación de cuentas.

---

### Command Handlers

#### UserCreationCommandHandler

| Elemento | Descripción |
|----------|-------------|
| Dependencia | `userService: UserService` |
| Método Principal | `handle(command: CreateUserCommand): User` |
| Descripción | Recibe el comando para crear un nuevo usuario en la plataforma, asignándole un rol inicial, y delega la operación al servicio de usuarios. |

---

#### PasswordUpdateCommandHandler

| Elemento | Descripción |
|----------|-------------|
| Dependencia | `userService: UserService` |
| Método Principal | `handle(command: UpdatePasswordCommand): void` |
| Descripción | Recibe el comando para actualizar la contraseña de un usuario existente, gestionando el proceso de manera segura. |

---

#### RoleAssignmentCommandHandler

| Elemento | Descripción |
|----------|-------------|
| Dependencia | `userService: UserService` |
| Método Principal | `handle(command: AssignRoleCommand): void` |
| Descripción | Gestiona la asignación o actualización de un rol a un usuario determinado. |

---

### Event Handlers

#### UserDeactivatedEventHandler

| Elemento | Descripción |
|----------|-------------|
| Dependencia | `userService: UserService` |
| Método Principal | `handle(event: UserDeactivatedEvent): void` |
| Descripción | Maneja el evento de desactivación de un usuario, realizando las actualizaciones necesarias en el sistema y restringiendo su acceso. |

---
#### 4.2.1.4 Infraestructure Layer
En esta sección, se presenta la **Capa de Infraestructura (Infrastructure Layer)** dentro del contexto de **Identity and Access Management (IAM)** de la plataforma Warusmart.

Esta capa es responsable de implementar los componentes técnicos necesarios para almacenar, consultar y administrar la información relacionada con los usuarios y sus roles en el sistema. Permite conectar la Capa de Dominio con las bases de datos o servicios de persistencia, garantizando que los datos de identidad y acceso estén correctamente gestionados.

Los principales repositorios en este contexto son:

- `UserRepository`, encargado de manejar las operaciones de almacenamiento y recuperación de usuarios.
- `RoleRepository`, encargado de gestionar los roles asignados a los usuarios.

---

### Repositorios

#### UserRepository

| Método | Descripción |
|--------|-------------|
| `findById(userId: int): User` | Recupera la información de un usuario específico mediante su identificador. |
| `findAll(): List<User>` | Obtiene la lista de todos los usuarios registrados en el sistema. |
| `save(user: User): void` | Guarda un nuevo usuario o actualiza la información de un usuario existente. |
| `deleteById(userId: int): void` | Elimina un usuario del sistema utilizando su identificador único. |

---

#### RoleRepository

| Método | Descripción |
|--------|-------------|
| `findById(roleId: int): Role` | Recupera los detalles de un rol específico. |
| `findAll(): List<Role>` | Obtiene la lista de todos los roles definidos en el sistema. |
| `save(role: Role): void` | Guarda un nuevo rol o actualiza uno existente en la base de datos. |
| `deleteById(roleId: int): void` | Elimina un rol de la base de datos utilizando su identificador único. |

---

#### 4.2.1.5 Bounded Context Software Architecture Component Level Diagrams
<p>
   <img src="https://res.cloudinary.com/dydklnicb/image/upload/v1745674156/WaruSmartIAMComponents_grbjpl.png">
 </p>

#### 4.2.1.6 Bounded Context Software Architecture Code Level Diagrams

##### 4.2.1.6.1 Bounded Context Domain Layer Class Diagrams

##### 4.2.1.6.2 Bounded Context Database Design Diagrams

### 4.2.2 Bounded Context: Subscriptions and Payments

Este contexto está enfocado en la gestión de las **suscripciones** de los usuarios y todo lo relacionado con los **pagos** dentro de la plataforma Warusmart. Se encarga de controlar los planes de servicio que puede adquirir un usuario, el historial de pagos, los estados de cada suscripción y su vigencia.
 
 El dominio de Subscriptions and Payments permite actualizar los datos de pago, verificar si una cuenta tiene una suscripción activa y llevar un control claro sobre los niveles de servicio contratados. Este módulo es clave para garantizar el funcionamiento basado en modelos de negocio escalables y segmentados por características de los usuarios (por ejemplo, cuentas gratuitas, básicas o premium).
 
 También permite automatizar la renovación de suscripciones, cancelar servicios si se detectan pagos vencidos y dar seguimiento a las fechas de pago de manera transparente tanto para usuarios como para administradores.
 
 ---
 
 ### Diccionario de Clases
 
 #### Clase: `Subscription`
 
 Esta clase representa la suscripción activa de una cuenta. Guarda información como el tipo de plan, estado y fechas importantes.
 
 | Nombre      | Subscription                                                                         |
 | ----------- | ------------------------------------------------------------------------------------ |
 | Relaciones  | SubscriptionTier, SubscriptionStatus                                                 |
 | Descripción | Representa una suscripción con detalles sobre el plan, el estado y la fecha de pago. |
 
 ##### Atributos
 
 | Nombre             | Tipo de Dato       | Visibilidad |
 | ------------------ | ------------------ | ----------- |
 | Id                 | int                | private     |
 | Tier               | SubscriptionTier   | private     |
 | PaymentDate        | Date               | private     |
 | SubscriptionStatus | SubscriptionStatus | private     |
 | LastPaidPeriod     | Date               | private     |
 
 ##### Métodos
 
 - `getSubscriptionDetails()` – Devuelve la información actual de la suscripción.
 - `updatePaymentDate()` – Actualiza la fecha del último pago.
 - `changeTier()` – Cambia el tipo de plan (ej. de Básico a Premium).
 - `updateStatus()` – Actualiza el estado de la suscripción.
 - `cancelSubscription()` – Cancela la suscripción activa.
 
 ---
 
 #### Clase: `SubscriptionTier`
 
 Define los distintos niveles de suscripción disponibles en la plataforma (por ejemplo: Básico, Avanzado, Premium).
 
 | Nombre      | SubscriptionTier                                                                          |
 | ----------- | ----------------------------------------------------------------------------------------- |
 | Relaciones  | -                                                                                         |
 | Descripción | Representa el plan al que está suscrito un usuario, con sus beneficios y costo asociados. |
 
 ##### Atributos
 
 | Nombre   | Tipo de Dato | Visibilidad |
 | -------- | ------------ | ----------- |
 | Id       | int          | private     |
 | Name     | string       | private     |
 | Price    | float        | private     |
 | Features | string[]     | private     |
 
 ##### Métodos
 
 - `getTierDetails()` – Devuelve información del plan.
 - `updateFeatures()` – Actualiza la lista de beneficios incluidos.
 - `updatePrice()` – Modifica el precio del plan.
 
 ---
 
 #### Clase: `SubscriptionStatus`
 
 Define los estados posibles de una suscripción (activa, suspendida, cancelada, vencida).
 
 | Nombre      | SubscriptionStatus                                                                               |
 | ----------- | ------------------------------------------------------------------------------------------------ |
 | Relaciones  | -                                                                                                |
 | Descripción | Indica el estado actual de una suscripción. Es usado para controlar el acceso a funcionalidades. |
 
 ##### Atributos
 
 | Nombre | Tipo de Dato | Visibilidad |
 | ------ | ------------ | ----------- |
 | Id     | int          | private     |
 | Name   | string       | private     |
 
 ##### Métodos
 
 - `isActive()` – Devuelve `true` si la suscripción está activa.
 - `markAsCancelled()` – Marca la suscripción como cancelada.
 - `markAsSuspended()` – Marca la suscripción como suspendida.
 
 #### 4.2.2.1 Domain Layer
 Dentro del dominio de **Subscriptions and Payments**, se encuentran entidades y servicios clave que permiten gestionar las suscripciones de los usuarios a los diferentes planes de la plataforma Warusmart, así como realizar el seguimiento de los pagos y cambios de estado de las mismas.
 
 Este dominio es fundamental para administrar correctamente la activación, actualización, suspensión o cancelación de las suscripciones, asegurando que los usuarios tengan acceso a los servicios contratados de acuerdo a su nivel de plan (por ejemplo: Free, Basic, Premium). Además, se encarga de mantener actualizados los registros de pagos y garantizar que las políticas de suscripción se apliquen de manera automática y segura.
 
 ---
 
 ### Aggregate Root
 
 #### Aggregate: `Subscription`
 
 | Nombre      | Subscription                                                                                                                    |
 | ----------- | ------------------------------------------------------------------------------------------------------------------------------- |
 | Descripción | Representa la raíz del agregado que maneja la suscripción de un usuario, incluyendo el plan, el estado y las fechas relevantes. |
 
 ##### Atributos
 
 - `id: String`
 - `accountId: String`
 - `tier: SubscriptionTier`
 - `status: SubscriptionStatus`
 - `startDate: Date`
 - `endDate: Date`
 
 ##### Métodos
 
 - `getSubscriptionDetails()`
 - `updateTier()`
 - `updateStatus()`
 - `updateEndDate()`
 - `cancelSubscription()`
 
 ---
 
 ### Entities
 
 #### Entidad: `Account`
 
 | Nombre      | Account                                                                                                               |
 | ----------- | --------------------------------------------------------------------------------------------------------------------- |
 | Descripción | Representa la cuenta de negocio asociada a una suscripción, incluyendo la información del negocio y su representante. |
 
 ##### Atributos
 
 - `id: String`
 - `businessName: String`
 - `businessEmail: String`
 - `representativeName: String`
 - `representativeEmail: String`
 - `createdAt: Date`
 - `updatedAt: Date`
 
 ##### Métodos
 
 - `getAccountDetails()`
 - `updateBusinessName()`
 - `updateBusinessEmail()`
 - `updateRepresentative()`
 - `cancelAccount()`
 
 ---
 
 ### Value Objects
 
 #### Value Object: `SubscriptionTier`
 
 | Nombre      | SubscriptionTier                                                                                                       |
 | ----------- | ---------------------------------------------------------------------------------------------------------------------- |
 | Descripción | Define los diferentes niveles o tipos de suscripción disponibles en la plataforma (por ejemplo: Free, Basic, Premium). |
 
 ##### Atributos
 
 - `FREE`
 - `BASIC`
 - `PREMIUM`
 
 ##### Métodos
 
 - `getTierDetails()`
 
 ---
 
 #### Value Object: `SubscriptionStatus`
 
 | Nombre      | SubscriptionStatus                                                                     |
 | ----------- | -------------------------------------------------------------------------------------- |
 | Descripción | Define el estado actual de una suscripción (por ejemplo: Activa, Cancelada, Expirada). |
 
 ##### Atributos
 
 - `ACTIVE`
 - `CANCELLED`
 - `EXPIRED`
 
 ##### Métodos
 
 - `getStatusInfo()`
 
 ---
 
 ### Domain Services
 
 #### Servicio de Dominio: `AccountManagementService`
 
 | Nombre      | AccountManagementService                                                                                                                     |
 | ----------- | -------------------------------------------------------------------------------------------------------------------------------------------- |
 | Descripción | Servicio encargado de manejar las operaciones complejas de gestión de cuentas y suscripciones, como actualizaciones de plan y cancelaciones. |
 
 ##### Métodos
 
 - `upgradeSubscription(accountId: String, tier: SubscriptionTier): void`
 - `downgradeSubscription(accountId: String, tier: SubscriptionTier): void`
 - `cancelSubscription(accountId: String): void`
 - `updateBusinessInfo(accountId: String, businessName: String, businessEmail: String): void`
 - `updateRepresentativeInfo(accountId: String, representativeName: String, representativeEmail: String): void`
 
 ---
 
 ### Repositories
 
 #### Repositorio: `SubscriptionRepository`
 
 | Nombre      | SubscriptionRepository                                                              |
 | ----------- | ----------------------------------------------------------------------------------- |
 | Descripción | Define la abstracción de persistencia para las operaciones sobre las suscripciones. |
 
 ##### Métodos
 
 - `getById(subscriptionId: String): Subscription`
 - `create(subscription: Subscription): void`
 - `update(subscription: Subscription): void`
 - `delete(subscriptionId: String): void`
 
 ---
 
 #### Repositorio: `AccountRepository`
 
 | Nombre      | AccountRepository                                                                    |
 | ----------- | ------------------------------------------------------------------------------------ |
 | Descripción | Define la abstracción de persistencia para las operaciones sobre cuentas de negocio. |
 
 ##### Métodos
 
 - `getById(accountId: String): Account`
 - `create(account: Account): void`
 - `update(account: Account): void`
 - `delete(accountId: String): void`
 
 ---

#### 4.2.2.2 Interface Layer
### Bounded Context: Subscriptions and Payments

En esta sección, se presenta la capa de interfaz correspondiente al dominio de **Subscriptions and Payments**, encargada de gestionar las operaciones relacionadas con los planes de suscripción, sus cambios de estado, y el control de los pagos realizados por los usuarios.

Los controladores de este contexto permiten visualizar el estado actual de una suscripción, realizar upgrades o downgrades entre planes, cancelar suscripciones, y procesar o validar pagos de acuerdo con las reglas definidas en la plataforma.

Los principales controladores en este contexto son el **SubscriptionController** y el **PaymentController**.

---

### SubscriptionController

| Método | Descripción |
|--------|-------------|
| `getSubscriptionDetails(subscriptionId: int): SubscriptionDto` | Obtiene los detalles de una suscripción específica. |
| `upgradeSubscription(accountId: int, newTier: SubscriptionTier): void` | Mejora el nivel de suscripción de una cuenta a un plan superior. |
| `downgradeSubscription(accountId: int, lowerTier: SubscriptionTier): void` | Reduce el nivel de suscripción de una cuenta a un plan inferior. |
| `cancelSubscription(subscriptionId: int): void` | Cancela una suscripción activa, revocando su acceso a servicios premium. |

---

### PaymentController

| Método | Descripción |
|--------|-------------|
| `getPaymentHistory(accountId: int): List<PaymentDto>` | Obtiene el historial de pagos realizados por una cuenta. |
| `processPayment(accountId: int, paymentData: PaymentDto): void` | Procesa un nuevo pago para una suscripción activa. |
| `validatePayment(paymentId: int): boolean` | Valida el estado de un pago recibido y actualiza la suscripción correspondiente. |
| `cancelPayment(paymentId: int): void` | Cancela un pago pendiente o no procesado correctamente. |

---

#### 4.2.2.3 Application Layer
En esta sección, se presenta la **Capa de Aplicación (Application Layer)** dentro del contexto de **Subscriptions and Payments** de la plataforma Warusmart.

Esta capa administra las acciones relacionadas con la gestión de suscripciones y pagos de los usuarios, garantizando que los cambios de plan, renovaciones, cancelaciones y el registro de pagos se manejen de manera ordenada y coherente con las reglas del negocio.

Los **Command Handlers** permiten realizar operaciones como crear suscripciones, actualizar planes de servicio o procesar pagos, mientras que los **Event Handlers** reaccionan a eventos de éxito o fallo de pagos para mantener la consistencia del estado del sistema.

---

### Command Handlers

#### SubscriptionCreationCommandHandler

| Elemento | Descripción |
|----------|-------------|
| Dependencia | `subscriptionService: SubscriptionService` |
| Método Principal | `handle(command: CreateSubscriptionCommand): Subscription` |
| Descripción | Maneja la creación de una nueva suscripción para una cuenta, configurando el plan inicial y la fecha de activación. |

---

#### SubscriptionUpgradeCommandHandler

| Elemento | Descripción |
|----------|-------------|
| Dependencia | `subscriptionService: SubscriptionService` |
| Método Principal | `handle(command: UpgradeSubscriptionCommand): Subscription` |
| Descripción | Gestiona el proceso de mejorar el nivel de suscripción de una cuenta a un plan superior. |

---

#### SubscriptionCancellationCommandHandler

| Elemento | Descripción |
|----------|-------------|
| Dependencia | `subscriptionService: SubscriptionService` |
| Método Principal | `handle(command: CancelSubscriptionCommand): void` |
| Descripción | Maneja la cancelación de una suscripción activa, revocando el acceso a servicios premium si corresponde. |

---

#### PaymentProcessingCommandHandler

| Elemento | Descripción |
|----------|-------------|
| Dependencia | `paymentService: PaymentService` |
| Método Principal | `handle(command: ProcessPaymentCommand): Payment` |
| Descripción | Procesa un nuevo pago realizado por un usuario, registrándolo en el sistema y actualizando el estado de la suscripción si es exitoso. |

---

### Event Handlers

#### SubscriptionCreatedEventHandler

| Elemento | Descripción |
|----------|-------------|
| Dependencia | `subscriptionService: SubscriptionService` |
| Método Principal | `handle(event: SubscriptionCreatedEvent): void` |
| Descripción | Responde al evento de creación de una suscripción inicializando parámetros como fechas de renovación y estado activo. |

---

#### PaymentSucceededEventHandler

| Elemento | Descripción |
|----------|-------------|
| Dependencia | `paymentService: PaymentService` |
| Método Principal | `handle(event: PaymentSucceededEvent): void` |
| Descripción | Maneja el evento de pago exitoso, actualizando la suscripción del usuario y registrando la transacción correctamente. |

---

#### PaymentFailedEventHandler

| Elemento | Descripción |
|----------|-------------|
| Dependencia | `paymentService: PaymentService` |
| Método Principal | `handle(event: PaymentFailedEvent): void` |
| Descripción | Maneja el evento de fallo de pago, notificando al usuario y poniendo la suscripción en estado pendiente o suspendido si es necesario. |

---
#### 4.2.2.4 Infraestructure Layer
En esta sección, se presenta la **Capa de Infraestructura (Infrastructure Layer)** dentro del contexto de **Subscriptions and Payments** de la plataforma Warusmart.

Esta capa es responsable de implementar los repositorios que gestionan la persistencia de datos de cuentas, suscripciones y pagos. Facilita la conexión entre la lógica de dominio y las bases de datos utilizadas por la plataforma, asegurando la correcta gestión de la información relacionada a los servicios contratados por los usuarios.

Los principales repositorios en este contexto son:

- `AccountRepository`, encargado de manejar la información de las cuentas de usuario.
- `SubscriptionRepository`, encargado de gestionar las suscripciones vinculadas a las cuentas.
- `PaymentRepository`, encargado de registrar y validar los pagos realizados por los usuarios.

---

### Repositorios

#### AccountRepository

| Método | Descripción |
|--------|-------------|
| `findById(accountId: int): Account` | Recupera la información de una cuenta específica utilizando su identificador. |
| `findAll(): List<Account>` | Obtiene la lista de todas las cuentas registradas en el sistema. |
| `save(account: Account): void` | Guarda o actualiza una cuenta en la base de datos. |
| `deleteById(accountId: int): void` | Elimina una cuenta de la base de datos usando su identificador. |

---

#### SubscriptionRepository

| Método | Descripción |
|--------|-------------|
| `findById(subscriptionId: int): Subscription` | Recupera la información de una suscripción específica. |
| `findAll(): List<Subscription>` | Obtiene todas las suscripciones almacenadas. |
| `save(subscription: Subscription): void` | Guarda una nueva suscripción o actualiza una existente. |
| `deleteById(subscriptionId: int): void` | Elimina una suscripción usando su identificador. |

---

#### PaymentRepository

| Método | Descripción |
|--------|-------------|
| `findById(paymentId: int): Payment` | Recupera un registro de pago específico utilizando su identificador. |
| `findAll(): List<Payment>` | Obtiene la lista de todos los pagos registrados. |
| `save(payment: Payment): void` | Guarda un nuevo registro de pago o actualiza uno existente. |
| `deleteById(paymentId: int): void` | Elimina un registro de pago utilizando su identificador único. |

---
#### 4.2.2.5 Bounded Context Softwre Architecture Component Level Diagrams
<p>
   <img src="https://res.cloudinary.com/dydklnicb/image/upload/v1745674154/WaruSmartSubscriptionsPaymentsComponents_d1wzj6.png">
 </p>

#### 4.2.2.6 Bounded Context Softwre Architecture Code Level Diagrams

##### 4.2.2.6.1 Bounded Context Domain Layer Class Diagrams

##### 4.2.2.6.2 Bounded Context Database Design Diagrams

### 4.2.3 Bounded Context: Crops Management (Notification)

#### 4.2.3.1 Domain Layer
 Dentro del dominio de **Crops Management**, se encuentran entidades y servicios clave que permiten gestionar los cultivos registrados por los usuarios dentro de la plataforma Warusmart. Este módulo es esencial para organizar toda la información agrícola, permitiendo llevar un control eficiente de qué cultivos están sembrados, en qué parcelas, con qué fechas de siembra y en qué estado de desarrollo se encuentran.
 
 El dominio facilita procesos como el registro de nuevos cultivos, la actualización del área cultivada, el cambio de estado del cultivo (por ejemplo: sembrado, creciendo, cosechado) y la reasignación de campos. También soporta la clasificación de los cultivos por tipo, lo que permite a los usuarios planificar mejor sus actividades agrícolas y analizar su productividad a lo largo del tiempo.
 
 ---
 
 ### Aggregate Root
 
 #### Aggregate: `Crop`
 
 | Nombre      | Crop                                                                                                        |
 | ----------- | ----------------------------------------------------------------------------------------------------------- |
 | Descripción | Representa la raíz del agregado que gestiona toda la información de un cultivo específico en la plataforma. |
 
 ##### Atributos
 
 - `id: String`
 - `name: String`
 - `cropType: CropType`
 - `plantingDate: Date`
 - `areaInHectares: Float`
 - `status: String`
 - `field: Field`
 - `owner: User`
 
 ##### Métodos
 
 - `getCropDetails()`
 - `updateStatus()`
 - `updateArea()`
 - `reassignField()`
 
 ---
 
 ### Entities
 
 #### Entidad: `Field`
 
 | Nombre      | Field                                                                                                      |
 | ----------- | ---------------------------------------------------------------------------------------------------------- |
 | Descripción | Representa una parcela de terreno disponible para el cultivo, incluyendo datos como su ubicación y tamaño. |
 
 ##### Atributos
 
 - `id: String`
 - `name: String`
 - `sizeInHectares: Float`
 - `location: String`
 - `owner: User`
 
 ##### Métodos
 
 - `getFieldDetails()`
 - `updateLocation()`
 - `addCrop()`
 
 ---
 
 ### Value Objects
 
 #### Value Object: `CropType`
 
 | Nombre      | CropType                                                                                                           |
 | ----------- | ------------------------------------------------------------------------------------------------------------------ |
 | Descripción | Define el tipo de cultivo (por ejemplo: maíz, papa, quinoa), incluyendo información relevante para su seguimiento. |
 
 ##### Atributos
 
 - `id: String`
 - `name: String`
 - `season: String`
 
 ##### Métodos
 
 - `getCropTypeInfo()`
 - `updateSeason()`
 
 ---
 
 ### Domain Services
 
 #### Servicio de Dominio: `CropManagementService`
 
 | Nombre      | CropManagementService                                                                                                          |
 | ----------- | ------------------------------------------------------------------------------------------------------------------------------ |
 | Descripción | Servicio que orquesta las operaciones complejas sobre cultivos, como actualizar el estado o reasignar cultivos a otros campos. |
 
 ##### Métodos
 
 - `registerCrop(name: String, cropType: CropType, plantingDate: Date, area: Float, field: Field, owner: User): Crop`
 - `updateCropStatus(cropId: String, newStatus: String): void`
 - `reassignCropField(cropId: String, newField: Field): void`
 
 ---
 
 ### Repositories
 
 #### Repositorio: `CropRepository`
 
 | Nombre      | CropRepository                                                             |
 | ----------- | -------------------------------------------------------------------------- |
 | Descripción | Define la abstracción de persistencia para las operaciones sobre cultivos. |
 
 ##### Métodos
 
 - `getById(cropId: String): Crop`
 - `create(crop: Crop): void`
 - `update(crop: Crop): void`
 - `delete(cropId: String): void`
 
 ---
 
 #### Repositorio: `FieldRepository`
 
 | Nombre      | FieldRepository                                                                               |
 | ----------- | --------------------------------------------------------------------------------------------- |
 | Descripción | Define la abstracción de persistencia para las operaciones sobre parcelas o campos agrícolas. |
 
 ##### Métodos
 
 - `getById(fieldId: String): Field`
 - `create(field: Field): void`
 - `update(field: Field): void`
 - `delete(fieldId: String): void`
 
 ---
 
#### 4.2.3.2 Interface Layer
### Bounded Context: Crops Management

En esta sección, se presenta la capa de interfaz correspondiente al dominio de **Crops Management**, responsable de gestionar todas las interacciones de los usuarios relacionadas con el registro, actualización y visualización de cultivos en la plataforma.

El controlador de este contexto facilita la creación de nuevos cultivos, la actualización de información relevante (como el área cultivada o el estado del cultivo) y la reasignación de cultivos a diferentes parcelas en caso de ser necesario.

El principal controlador en este contexto es el **CropController**.

---

### CropController

| Método | Descripción |
|--------|-------------|
| `getCropDetails(cropId: int): CropDto` | Obtiene los detalles de un cultivo específico registrado en la plataforma. |
| `registerCrop(cropData: CropDto): void` | Registra un nuevo cultivo asociado a un usuario y a un campo agrícola. |
| `updateCropStatus(cropId: int, newStatus: string): void` | Actualiza el estado de un cultivo (por ejemplo: sembrado, en desarrollo, cosechado). |
| `updateCropArea(cropId: int, newArea: float): void` | Modifica el área cultivada asociada a un cultivo. |
| `reassignCropField(cropId: int, newFieldId: int): void` | Reasigna un cultivo a un campo agrícola diferente. |

---

#### 4.2.3.3 Application Layer
En esta sección, se presenta la **Capa de Aplicación (Application Layer)** dentro del contexto de **Crops Management** de la plataforma Warusmart.

Esta capa es responsable de orquestar las operaciones relacionadas con el registro, actualización y gestión de cultivos. Actúa como intermediaria entre la lógica de negocio agrícola y la infraestructura del sistema, controlando la creación de nuevos cultivos, actualizaciones de estado y reasignaciones de campos.

Los **Command Handlers** permiten ejecutar acciones de escritura sobre los registros de cultivos, mientras que los **Event Handlers** permiten reaccionar ante cambios significativos en los datos de los cultivos.

---

### Command Handlers

#### CropRegistrationCommandHandler

| Elemento | Descripción |
|----------|-------------|
| Dependencia | `cropService: CropService` |
| Método Principal | `handle(command: RegisterCropCommand): Crop` |
| Descripción | Recibe el comando para registrar un nuevo cultivo asociado a un usuario y a un campo agrícola específico. |

---

#### CropStatusUpdateCommandHandler

| Elemento | Descripción |
|----------|-------------|
| Dependencia | `cropService: CropService` |
| Método Principal | `handle(command: UpdateCropStatusCommand): void` |
| Descripción | Permite actualizar el estado de un cultivo (por ejemplo: de sembrado a en crecimiento o a cosechado). |

---

#### CropFieldReassignmentCommandHandler

| Elemento | Descripción |
|----------|-------------|
| Dependencia | `cropService: CropService` |
| Método Principal | `handle(command: ReassignCropFieldCommand): void` |
| Descripción | Gestiona la reasignación de un cultivo a un nuevo campo agrícola dentro de la plataforma. |

---

### Event Handlers

#### CropStatusChangedEventHandler

| Elemento | Descripción |
|----------|-------------|
| Dependencia | `cropService: CropService` |
| Método Principal | `handle(event: CropStatusChangedEvent): void` |
| Descripción | Maneja eventos de cambio de estado de un cultivo para actualizar registros históricos y notificar cambios a los usuarios si es necesario. |

---
#### 4.2.3.4 Infraestructure Layer
En esta sección, se presenta la **Capa de Infraestructura (Infrastructure Layer)** dentro del contexto de **Crops Management** de la plataforma Warusmart.

Esta capa proporciona los componentes técnicos necesarios para la persistencia y consulta de la información relacionada con los cultivos y los campos agrícolas. Permite que la lógica de dominio interactúe con bases de datos o sistemas externos de manera eficiente y segura.

Los principales repositorios en este contexto son:

- `CropRepository`, encargado de gestionar los registros de cultivos.
- `FieldRepository`, encargado de manejar la información de los campos o parcelas agrícolas.

---

### Repositorios

#### CropRepository

| Método | Descripción |
|--------|-------------|
| `findById(cropId: int): Crop` | Recupera la información de un cultivo específico utilizando su identificador. |
| `findAll(): List<Crop>` | Obtiene la lista de todos los cultivos registrados en la plataforma. |
| `save(crop: Crop): void` | Guarda un nuevo cultivo o actualiza un cultivo existente en la base de datos. |
| `deleteById(cropId: int): void` | Elimina un cultivo utilizando su identificador único. |

---

#### FieldRepository

| Método | Descripción |
|--------|-------------|
| `findById(fieldId: int): Field` | Recupera los datos de una parcela o campo agrícola específico. |
| `findAll(): List<Field>` | Obtiene la lista de todos los campos agrícolas registrados en la plataforma. |
| `save(field: Field): void` | Guarda o actualiza la información de un campo agrícola. |
| `deleteById(fieldId: int): void` | Elimina un campo agrícola de la base de datos utilizando su identificador. |

---
#### 4.2.3.5 Bounded Context Softwre Architecture Component Level Diagrams
<p>
   <img src="https://res.cloudinary.com/dydklnicb/image/upload/v1745674155/WaruSmartCropsManagementComponents_iyktxz.png">
 </p>
 
 #### 4.2.3.6 Bounded Context Softwre Architecture Code Level Diagrams
 
 ##### 4.2.3.6.1 Bounded Context Domain Layer Class Diagrams
 
 ##### 4.2.3.6.2 Bounded Context Database Design Diagrams
 <p>
   <img src="https://res.cloudinary.com/dydklnicb/image/upload/v1745677247/CropManagement_vgvwwo.jpg">
 </p>
 
 ### 4.2.4 Bounded Context: Irrigation Management
 
 #### 4.2.4.1 Domain Layer
 Dentro del dominio de **Irrigation Management**, se encuentran entidades y servicios clave que permiten planificar, programar y registrar las actividades de riego agrícola en la plataforma Warusmart. Este contexto tiene como objetivo optimizar el uso del agua, asegurar el cumplimiento de planes de riego, y mejorar la productividad de los cultivos.
 
 El dominio facilita operaciones como la creación de planes de riego personalizados según el cultivo o campo, la programación automática de sesiones de riego, la reasignación de riegos según cambios en el clima o las condiciones del terreno, y el registro de eventos reales de riego (manuales o automatizados). Además, puede integrarse con sensores de humedad para activar o ajustar los riegos dinámicamente.
 
 ---
 
 ### Aggregate Root
 
 #### Aggregate: `IrrigationPlan`
 
 | Nombre      | IrrigationPlan                                                                                                                        |
 | ----------- | ------------------------------------------------------------------------------------------------------------------------------------- |
 | Descripción | Representa el plan general de riego asociado a un cultivo o campo, especificando la cantidad de agua, frecuencia y duración de riego. |
 
 ##### Atributos
 
 - `id: String`
 - `field: Field`
 - `crop: Crop`
 - `waterAmount: Float`
 - `frequency: String`
 - `startDate: Date`
 - `endDate: Date`
 
 ##### Métodos
 
 - `getPlanDetails()`
 - `updateFrequency()`
 - `adjustWaterAmount()`
 - `changeCropOrField()`
 
 ---
 
 ### Entities
 
 #### Entidad: `IrrigationSchedule`
 
 | Nombre      | IrrigationSchedule                                                                                  |
 | ----------- | --------------------------------------------------------------------------------------------------- |
 | Descripción | Representa cada sesión programada de riego dentro de un plan, incluyendo fecha y duración esperada. |
 
 ##### Atributos
 
 - `id: String`
 - `irrigationPlan: IrrigationPlan`
 - `scheduledDate: Date`
 - `durationInMinutes: Int`
 
 ##### Métodos
 
 - `getScheduleDetails()`
 - `reschedule()`
 - `cancelSchedule()`
 
 ---
 
 #### Entidad: `IrrigationEvent`
 
 | Nombre      | IrrigationEvent                                                                                                                          |
 | ----------- | ---------------------------------------------------------------------------------------------------------------------------------------- |
 | Descripción | Representa el registro de un evento de riego realizado, ya sea programado o manual, indicando volumen de agua aplicado y tiempos reales. |
 
 ##### Atributos
 
 - `id: String`
 - `irrigationSchedule: IrrigationSchedule`
 - `realStartDate: Date`
 - `realEndDate: Date`
 - `volumeApplied: Float`
 
 ##### Métodos
 
 - `getEventDetails()`
 - `validateIrrigation()`
 
 ---
 
 ### Value Objects
 
 (No se consideran value objects específicos en este contexto, ya que las entidades principales cubren los elementos necesarios.)
 
 ---
 
 ### Domain Services
 
 #### Servicio de Dominio: `IrrigationManagementService`
 
 | Nombre      | IrrigationManagementService                                                                                                         |
 | ----------- | ----------------------------------------------------------------------------------------------------------------------------------- |
 | Descripción | Servicio que coordina operaciones complejas sobre la gestión de riegos, incluyendo ajustes de programación y validación de eventos. |
 
 ##### Métodos
 
 - `createIrrigationPlan(field: Field, crop: Crop, waterAmount: Float, frequency: String, startDate: Date, endDate: Date): IrrigationPlan`
 - `scheduleIrrigation(irrigationPlanId: String, scheduledDate: Date, duration: Int): IrrigationSchedule`
 - `recordIrrigationEvent(scheduleId: String, realStartDate: Date, realEndDate: Date, volumeApplied: Float): IrrigationEvent`
 - `rescheduleIrrigation(scheduleId: String, newDate: Date): void`
 
 ---
 
 ### Repositories
 
 #### Repositorio: `IrrigationPlanRepository`
 
 | Nombre      | IrrigationPlanRepository                                                          |
 | ----------- | --------------------------------------------------------------------------------- |
 | Descripción | Define la abstracción de persistencia para las operaciones sobre planes de riego. |
 
 ##### Métodos
 
 - `getById(irrigationPlanId: String): IrrigationPlan`
 - `create(irrigationPlan: IrrigationPlan): void`
 - `update(irrigationPlan: IrrigationPlan): void`
 - `delete(irrigationPlanId: String): void`
 
 ---
 
 #### Repositorio: `IrrigationEventRepository`
 
 | Nombre      | IrrigationEventRepository                                                                |
 | ----------- | ---------------------------------------------------------------------------------------- |
 | Descripción | Define la abstracción de persistencia para los registros de eventos de riego realizados. |
 
 ##### Métodos
 
 - `getById(eventId: String): IrrigationEvent`
 - `create(event: IrrigationEvent): void`
 - `update(event: IrrigationEvent): void`
 - `delete(eventId: String): void`
 
 ---
#### 4.2.4.2 Interface Layer

### Bounded Context: Irrigation Management

En esta sección, se describe la capa de interfaz correspondiente al dominio de **Irrigation Management**, encargada de permitir a los usuarios gestionar la planificación, programación y registro de actividades de riego para sus cultivos.

El controlador de este contexto facilita operaciones como la creación de planes de riego, la programación de sesiones de riego específicas y el registro de eventos reales de riego, optimizando así el uso de recursos hídricos y mejorando el rendimiento de los cultivos.

El principal controlador en este contexto es el **IrrigationController**.

---

### IrrigationController

| Método | Descripción |
|--------|-------------|
| `getIrrigationPlanDetails(planId: int): IrrigationPlanDto` | Obtiene los detalles de un plan de riego específico. |
| `createIrrigationPlan(planData: IrrigationPlanDto): void` | Crea un nuevo plan de riego asociado a un cultivo o campo. |
| `scheduleIrrigation(planId: int, scheduleData: IrrigationScheduleDto): void` | Programa una nueva sesión de riego dentro de un plan existente. |
| `recordIrrigationEvent(scheduleId: int, eventData: IrrigationEventDto): void` | Registra un evento de riego realizado (automático o manual). |
| `rescheduleIrrigation(scheduleId: int, newScheduledDate: Date): void` | Reprograma una sesión de riego ya agendada. |

---
#### 4.2.4.3 Application Layer
En esta sección, se presenta la **Capa de Aplicación (Application Layer)** dentro del contexto de **Irrigation Management** de la plataforma Warusmart.

Esta capa gestiona las operaciones relacionadas con la planificación, programación y ejecución de riegos agrícolas. Actúa como intermediaria entre la lógica de negocio del manejo del agua y la infraestructura, asegurando que las acciones de riego se programen, registren y validen correctamente.

Los **Command Handlers** permiten ejecutar acciones de escritura sobre planes y eventos de riego, mientras que los **Event Handlers** permiten reaccionar a cambios en las condiciones programadas o eventos de ejecución reales.

---

### Command Handlers

#### IrrigationPlanCreationCommandHandler

| Elemento | Descripción |
|----------|-------------|
| Dependencia | `irrigationService: IrrigationService` |
| Método Principal | `handle(command: CreateIrrigationPlanCommand): IrrigationPlan` |
| Descripción | Recibe el comando para crear un nuevo plan de riego asociado a un cultivo o campo agrícola. |

---

#### IrrigationSchedulingCommandHandler

| Elemento | Descripción |
|----------|-------------|
| Dependencia | `irrigationService: IrrigationService` |
| Método Principal | `handle(command: ScheduleIrrigationCommand): IrrigationSchedule` |
| Descripción | Programa una nueva sesión de riego para un plan existente, estableciendo fecha y duración. |

---

#### IrrigationEventRecordingCommandHandler

| Elemento | Descripción |
|----------|-------------|
| Dependencia | `irrigationService: IrrigationService` |
| Método Principal | `handle(command: RecordIrrigationEventCommand): IrrigationEvent` |
| Descripción | Registra la realización de un evento de riego, indicando tiempos y volumen de agua utilizado. |

---

### Event Handlers

#### IrrigationScheduleChangedEventHandler

| Elemento | Descripción |
|----------|-------------|
| Dependencia | `irrigationService: IrrigationService` |
| Método Principal | `handle(event: IrrigationScheduleChangedEvent): void` |
| Descripción | Maneja los cambios en las programaciones de riego (por ejemplo, reprogramaciones por condiciones climáticas o disponibilidad de agua). |

---
#### 4.2.4.4 Infraestructure Layer
En esta sección, se presenta la **Capa de Infraestructura (Infrastructure Layer)** dentro del contexto de **Irrigation Management** de la plataforma Warusmart.

Esta capa es responsable de implementar los repositorios que gestionan la persistencia de los planes de riego, las programaciones de sesiones de riego y los eventos de riego realizados. Facilita la conexión entre la lógica de dominio del riego agrícola y la base de datos.

Los principales repositorios en este contexto son:

- `IrrigationPlanRepository`, encargado de almacenar y recuperar los planes de riego creados.
- `IrrigationScheduleRepository`, encargado de gestionar las programaciones de sesiones de riego.
- `IrrigationEventRepository`, encargado de registrar los eventos de riego ejecutados.

---

### Repositorios

#### IrrigationPlanRepository

| Método | Descripción |
|--------|-------------|
| `findById(planId: int): IrrigationPlan` | Recupera la información de un plan de riego específico. |
| `findAll(): List<IrrigationPlan>` | Obtiene la lista de todos los planes de riego registrados en el sistema. |
| `save(plan: IrrigationPlan): void` | Guarda un nuevo plan de riego o actualiza uno existente. |
| `deleteById(planId: int): void` | Elimina un plan de riego utilizando su identificador único. |

---

#### IrrigationScheduleRepository

| Método | Descripción |
|--------|-------------|
| `findById(scheduleId: int): IrrigationSchedule` | Recupera la programación de una sesión de riego específica. |
| `findAll(): List<IrrigationSchedule>` | Obtiene todas las programaciones de sesiones de riego registradas. |
| `save(schedule: IrrigationSchedule): void` | Guarda o actualiza una programación de riego. |
| `deleteById(scheduleId: int): void` | Elimina una programación de riego mediante su identificador. |

---

#### IrrigationEventRepository

| Método | Descripción |
|--------|-------------|
| `findById(eventId: int): IrrigationEvent` | Recupera un evento de riego realizado. |
| `findAll(): List<IrrigationEvent>` | Obtiene todos los eventos de riego registrados. |
| `save(event: IrrigationEvent): void` | Guarda un nuevo evento de riego o actualiza uno existente. |
| `deleteById(eventId: int): void` | Elimina un evento de riego utilizando su identificador único. |

---

#### 4.2.4.5 Bounded Context Softwre Architecture Component Level Diagrams
<p>
   <img src="https://res.cloudinary.com/dydklnicb/image/upload/v1745674156/WaruSmartIrrigationManagementComponents_nbo4c1.png">
 </p>
 
 #### 4.2.4.6 Bounded Context Software Architecture Code Level Diagrams
 
 ##### 4.2.4.6.1 Bounded Context Domain Layer Class Diagrams
 
 ##### 4.2.4.6.2 Bounded Context Database Design Diagrams
 <p>
   <img src="https://res.cloudinary.com/dydklnicb/image/upload/v1745677247/IrrigationManagement_h8cwzv.jpg">
 </p>
 
 ### 4.2.5 Bounded Context: Crops Reports Management
 ## Diccionario de Clases
 
 ### Clase: `CropReport`
 
 Representa un reporte generado para un cultivo, que contiene información relevante sobre su estado, área cultivada, producción estimada y observaciones registradas.
 
 | Nombre      | CropReport                                                                                                          |
 | ----------- | ------------------------------------------------------------------------------------------------------------------- |
 | Relaciones  | Crop                                                                                                                |
 | Descripción | Reporte agrícola individual asociado a un cultivo específico, utilizado para el monitoreo y análisis de resultados. |
 
 ##### Atributos
 
 | Nombre         | Tipo de Dato | Visibilidad |
 | -------------- | ------------ | ----------- |
 | Id             | int          | private     |
 | Crop           | Crop         | private     |
 | ReportDate     | Date         | private     |
 | AreaReported   | float        | private     |
 | StatusReported | string       | private     |
 | YieldEstimate  | float        | private     |
 | Observations   | string       | private     |
 
 ##### Métodos
 
 - `getReportDetails()`
 - `updateYieldEstimate()`
 - `addObservation()`
 
 ---
 
 ### Clase: `HistoricalReport`
 
 Representa un reporte de tipo histórico, que agrupa resultados agrícolas de un campo a lo largo de una temporada o año agrícola completo.
 
 | Nombre      | HistoricalReport                                                                                |
 | ----------- | ----------------------------------------------------------------------------------------------- |
 | Relaciones  | Field                                                                                           |
 | Descripción | Reporte agregado que resume el comportamiento productivo de un campo en un periodo determinado. |
 
 ##### Atributos
 
 | Nombre       | Tipo de Dato | Visibilidad |
 | ------------ | ------------ | ----------- |
 | Id           | int          | private     |
 | Field        | Field        | private     |
 | Year         | int          | private     |
 | TotalArea    | float        | private     |
 | TotalYield   | float        | private     |
 | SummaryNotes | string       | private     |
 
 ##### Métodos
 
 - `getHistoricalDetails()`
 - `updateSummaryNotes()`
 
 ---
 
 #### 4.2.5.1 Domain Layer
 Dentro del dominio de **Crops Reports Management**, se encuentran las entidades y servicios que permiten generar, administrar y consultar reportes detallados sobre el estado, rendimiento y evolución de los cultivos en la plataforma Warusmart. Este contexto es fundamental para proporcionar a los usuarios información valiosa basada en los datos de sus cultivos y ayudarlos a tomar decisiones estratégicas.
 
 El dominio facilita la creación automática o manual de reportes por cultivo, campo o periodo de tiempo, permitiendo visualizar indicadores como área sembrada, fecha de siembra, estado actual del cultivo, volumen de producción estimado o real, y comparaciones entre campañas agrícolas. También soporta historiales de reportes para análisis a largo plazo.
 
 ---
 
 ### Aggregate Root
 
 #### Aggregate: `CropReport`
 
 | Nombre      | CropReport                                                                                                       |
 | ----------- | ---------------------------------------------------------------------------------------------------------------- |
 | Descripción | Representa el reporte generado para un cultivo o conjunto de cultivos, incluyendo métricas agrícolas relevantes. |
 
 ##### Atributos
 
 - `id: String`
 - `crop: Crop`
 - `reportDate: Date`
 - `areaReported: Float`
 - `statusReported: String`
 - `yieldEstimate: Float`
 - `observations: String`
 
 ##### Métodos
 
 - `getReportDetails()`
 - `updateYieldEstimate()`
 - `addObservation()`
 
 ---
 
 ### Entities
 
 #### Entidad: `HistoricalReport`
 
 | Nombre      | HistoricalReport                                                                                                               |
 | ----------- | ------------------------------------------------------------------------------------------------------------------------------ |
 | Descripción | Representa un reporte histórico agregado que permite comparar datos de cultivos a lo largo de distintas temporadas o campañas. |
 
 ##### Atributos
 
 - `id: String`
 - `field: Field`
 - `year: Int`
 - `totalArea: Float`
 - `totalYield: Float`
 - `summaryNotes: String`
 
 ##### Métodos
 
 - `getHistoricalDetails()`
 - `updateSummaryNotes()`
 
 ---
 
 ### Value Objects
 
 (No se consideran value objects específicos en este contexto, ya que los reportes son entidades completas.)
 
 ---
 
 ### Domain Services
 
 #### Servicio de Dominio: `CropReportService`
 
 | Nombre      | CropReportService                                                                                                                          |
 | ----------- | ------------------------------------------------------------------------------------------------------------------------------------------ |
 | Descripción | Servicio que maneja la generación de reportes agrícolas, tanto individuales como históricos, basados en los cultivos y campos registrados. |
 
 ##### Métodos
 
 - `generateCropReport(cropId: String, reportDate: Date, area: Float, status: String, yieldEstimate: Float): CropReport`
 - `generateHistoricalReport(fieldId: String, year: Int, totalArea: Float, totalYield: Float, summaryNotes: String): HistoricalReport`
 - `updateCropYield(cropReportId: String, newYieldEstimate: Float): void`
 - `addObservationToReport(cropReportId: String, observation: String): void`
 
 ---
 
 ### Repositories
 
 #### Repositorio: `CropReportRepository`
 
 | Nombre      | CropReportRepository                                                           |
 | ----------- | ------------------------------------------------------------------------------ |
 | Descripción | Define la abstracción de persistencia para los reportes de cultivos generados. |
 
 ##### Métodos
 
 - `getById(reportId: String): CropReport`
 - `create(report: CropReport): void`
 - `update(report: CropReport): void`
 - `delete(reportId: String): void`
 
 ---
 
 #### Repositorio: `HistoricalReportRepository`
 
 | Nombre      | HistoricalReportRepository                                                    |
 | ----------- | ----------------------------------------------------------------------------- |
 | Descripción | Define la abstracción de persistencia para los reportes históricos agrícolas. |
 
 ##### Métodos
 
 - `getById(historicalReportId: String): HistoricalReport`
 - `create(historicalReport: HistoricalReport): void`
 - `update(historicalReport: HistoricalReport): void`
 - `delete(historicalReportId: String): void`
 
 ---
#### 4.2.5.2 Interface Layer
### Bounded Context: Crops Reports Management

En esta sección, se presenta la capa de interfaz correspondiente al dominio de **Crops Reports Management**, encargada de gestionar la generación, actualización y consulta de reportes agrícolas en la plataforma.

El controlador de este contexto permite a los usuarios generar reportes individuales de cultivos, consultar históricos de rendimiento agrícola y actualizar estimaciones de producción o notas de observaciones, facilitando así el análisis de desempeño y la toma de decisiones estratégicas.

El principal controlador en este contexto es el **CropReportController**.

---

### CropReportController

| Método | Descripción |
|--------|-------------|
| `getCropReportDetails(reportId: int): CropReportDto` | Obtiene los detalles de un reporte agrícola específico. |
| `generateCropReport(cropId: int, reportData: CropReportDto): void` | Genera un nuevo reporte asociado a un cultivo registrado. |
| `updateYieldEstimate(reportId: int, newYield: float): void` | Actualiza la estimación de rendimiento de un cultivo en un reporte existente. |
| `addObservationToReport(reportId: int, observation: string): void` | Agrega una nueva observación o comentario a un reporte agrícola. |
| `generateHistoricalReport(fieldId: int, historicalData: HistoricalReportDto): void` | Crea un reporte histórico agrícola basado en múltiples campañas o temporadas de un campo. |

---
#### 4.2.5.3 Application Layer
En esta sección, se presenta la **Capa de Aplicación (Application Layer)** dentro del contexto de **Crops Reports Management** de la plataforma Warusmart.

Esta capa intermedia gestiona las operaciones necesarias para generar, actualizar y consultar reportes agrícolas tanto a nivel de cultivo individual como de campo histórico. Coordina la generación de informes automáticos o manuales y asegura que la información registrada esté actualizada para apoyar el análisis agrícola.

Los **Command Handlers** permiten ejecutar acciones como crear reportes de cultivos o actualizar estimaciones de rendimiento, mientras que los **Event Handlers** reaccionan a cambios significativos en los cultivos que puedan requerir actualizaciones en los reportes.

---

### Command Handlers

#### CropReportGenerationCommandHandler

| Elemento | Descripción |
|----------|-------------|
| Dependencia | `cropReportService: CropReportService` |
| Método Principal | `handle(command: GenerateCropReportCommand): CropReport` |
| Descripción | Recibe el comando para generar un nuevo reporte de cultivo con datos actualizados sobre área, estado y rendimiento. |

---

#### HistoricalReportGenerationCommandHandler

| Elemento | Descripción |
|----------|-------------|
| Dependencia | `cropReportService: CropReportService` |
| Método Principal | `handle(command: GenerateHistoricalReportCommand): HistoricalReport` |
| Descripción | Genera un reporte histórico de productividad agrícola para un campo en un año o temporada específicos. |

---

#### YieldEstimateUpdateCommandHandler

| Elemento | Descripción |
|----------|-------------|
| Dependencia | `cropReportService: CropReportService` |
| Método Principal | `handle(command: UpdateYieldEstimateCommand): void` |
| Descripción | Actualiza la estimación de producción (rendimiento) dentro de un reporte agrícola existente. |

---

### Event Handlers

#### CropStatusUpdatedEventHandler

| Elemento | Descripción |
|----------|-------------|
| Dependencia | `cropReportService: CropReportService` |
| Método Principal | `handle(event: CropStatusUpdatedEvent): void` |
| Descripción | Maneja eventos de cambio de estado en cultivos, actualizando automáticamente la información relevante en los reportes vinculados. |

---
#### 4.2.5.4 Infraestructure Layer
En esta sección, se presenta la **Capa de Infraestructura (Infrastructure Layer)** dentro del contexto de **Crops Reports Management** de la plataforma Warusmart.

Esta capa se encarga de implementar los repositorios necesarios para la persistencia y consulta de reportes agrícolas tanto a nivel de cultivos individuales como a nivel histórico de campos agrícolas. Facilita la conexión entre la lógica de negocio de reportes y la base de datos del sistema.

Los principales repositorios en este contexto son:

- `CropReportRepository`, encargado de manejar los reportes individuales de cultivos.
- `HistoricalReportRepository`, encargado de gestionar los reportes históricos de producción agrícola.

---

### Repositorios
 
 #### CropReportRepository
 
 | Método                                | Descripción                                                           |
 | ------------------------------------- | --------------------------------------------------------------------- |
 | `findById(reportId: int): CropReport` | Recupera la información de un reporte agrícola individual específico. |
 | `findAll(): List<CropReport>`         | Obtiene todos los reportes agrícolas generados en la plataforma.      |
 | `save(report: CropReport): void`      | Guarda o actualiza un reporte de cultivo.                             |
 | `deleteById(reportId: int): void`     | Elimina un reporte agrícola utilizando su identificador único.        |
 
 ---
 
 #### HistoricalReportRepository
 
 | Método                                                | Descripción                                                   |
 | ----------------------------------------------------- | ------------------------------------------------------------- |
 | `findById(historicalReportId: int): HistoricalReport` | Recupera la información de un reporte histórico de campo.     |
 | `findAll(): List<HistoricalReport>`                   | Obtiene todos los reportes históricos almacenados.            |
 | `save(historicalReport: HistoricalReport): void`      | Guarda o actualiza un reporte histórico agrícola.             |
 | `deleteById(historicalReportId: int): void`           | Elimina un reporte histórico mediante su identificador único. |
 
 ---

#### 4.2.5.5 Bounded Context Software Architecture Component Level Diagrams
<p>
   <img src="https://res.cloudinary.com/dydklnicb/image/upload/v1745674155/WaruSmartCropsReportsManagementComponents_uxvryf.png">
 </p>
 
#### 4.2.5.6 Bounded Context Softwre Architecture Code Level Diagrams

#### 4.2.5.6.1 Bounded Context Domain Layer Class Diagrams

#### 4.2.5.6.2 Bounded Context Database Design Diagrams
<p>
   <img src="https://res.cloudinary.com/dydklnicb/image/upload/v1745677247/CropsReportsManagement_feeifk.jpg">
 </p>

# Capítulo V: Solution UI/UX Design

## 5.1 Style Guidelines

Esta sección establece las pautas visuales y funcionales necesarias para garantizar que todos los entregables del proyecto mantengan coherencia estética y comunicativa. Este repositorio incluye activos visuales, fuentes, paletas de colores y principios de diseño compartidos, con el objetivo de conservar una imagen consistente en las plataformas.

### 5.1.1 General Style Guidelines

**Brand Overview:**  
Nuestra startup, Codex, surge como una respuesta a los desafíos de la agricultura moderna en el Perú, centrando sus esfuerzos en la transformación digital del riego agrícola mediante tecnologías IoT accesibles. Codex busca impactar positivamente en la vida de los agricultores al brindarles herramientas inteligentes y automatizadas para optimizar el uso del agua, reducir desperdicios y mejorar la productividad de los cultivos.

Con esta visión en mente, desarrollamos WaruSmart, una solución tecnológica que combina sensores IoT, análisis predictivo y una interfaz intuitiva para facilitar el control y monitoreo del riego agrícola en tiempo real. Nuestra propuesta se orienta tanto a pequeños agricultores como a cooperativas y ONG del sector agrícola.

**Misión**  
Ofrecer soluciones tecnológicas accesibles y eficientes para automatizar el riego agrícola, promoviendo una agricultura sostenible, moderna y de fácil adopción para todos los agricultores peruanos.

**Visión**  
Ser reconocidos como la plataforma líder en soluciones de riego inteligente en el Perú, destacando por nuestra innovación, impacto social y contribución a la seguridad alimentaria mediante el uso responsable del agua y tecnologías de precisión.

**Logotipo de la startup (Codex):**  
<img src="/Assets/Style-Guidelines/logotipo-codex.png" alt="Logo Codex" width="50%"/>

**Logotipo del producto (WaruSmart):**  
<img src="/Assets/Style-Guidelines/logotipo-warusmart.png" alt="Logo WaruSmart" width="50%"/>

**Brand Name**  
El nombre WaruSmart surge de la combinación entre la palabra "waru waru" —una técnica ancestral andina de cultivo— y el concepto de "smart", evocando modernidad y tecnología. Esta fusión refleja nuestra intención de integrar prácticas tradicionales con innovación digital, ofreciendo a los agricultores una herramienta confiable, eficiente y culturalmente cercana. WaruSmart representa el puente entre el conocimiento ancestral y la agricultura del futuro.

**Colors**  
Los colores elegidos para WaruSmart se inspiran en la psicología del color, buscando transmitir familiaridad, sostenibilidad y conexión con la agricultura. El verde representa crecimiento, naturaleza y frescura, mientras que los tonos marrones evocan la tierra y el trabajo agrícola. Estos colores refuerzan la identidad visual de la plataforma y facilitan la navegación al ser agradables a la vista.

En los wireframes, se emplean tonos de gris que permiten una visualización preliminar clara y estructurada del diseño.

![Paleta de colores](/Assets/Style-Guidelines/colores.png)

**Typography**  
La tipografía juega un rol fundamental en la experiencia de usuario. Para WaruSmart, se eligió la fuente Poppins, ya que ofrece una estética moderna y minimalista. Se utilizan estilos Medium, Regular, SemiBold y Bold, asegurando jerarquías visuales claras y legibilidad en distintos dispositivos.

Esta elección garantiza coherencia en todos los niveles de la aplicación, desde títulos hasta mensajes de alerta, manteniendo una imagen profesional y amigable.

![Tipografía](/Assets/Style-Guidelines/tipografia.png)

**Spacing**  
El espaciado uniforme y bien definido es esencial para una experiencia de usuario fluida y ordenada. En WaruSmart, se establece una guía de márgenes y paddings coherente, que se adapta responsivamente a diferentes tamaños de pantalla (desktop, tablet y mobile).

Esta estrategia mejora la legibilidad, evita sobrecarga visual y facilita la interacción, permitiendo que los usuarios se concentren en la información relevante sin distracciones.

**Tone and Language**  
El tono de comunicación de WaruSmart se caracteriza por ser formal pero cercano, sereno, claro y respetuoso. Nuestro lenguaje busca generar confianza y profesionalismo sin recurrir a tecnicismos excesivos, facilitando así la comprensión por parte de usuarios con distintos niveles de familiaridad tecnológica.

### 5.1.2 Web, Mobile and IoT Guidelines

**Web Interface Guidelines**  
La interfaz web de WaruSmart ha sido diseñada bajo un enfoque minimalista, claro y centrado en el usuario. El objetivo es facilitar la adopción del sistema por parte de agricultores con distintos niveles de experiencia tecnológica, priorizando la comprensión intuitiva de las funciones clave del sistema.

* **Imágenes:** Se emplean imágenes contextuales que refuercen la función de cada sección, como ilustraciones agrícolas o iconografía que represente sensores y cultivos. Se prioriza la calidad visual y la coherencia con la identidad visual de la marca. El logotipo y la imagen de perfil del usuario se mantendrán visibles en la barra de navegación.
* **Botones:** Los botones siguen convenciones universales para evitar confusiones. Íconos como el tacho de basura (eliminar), el ícono de lápiz (editar) o una "X" (cerrar) permiten mantener la consistencia externa con lo que el usuario ya conoce.
* **Pop-ups:** Las ventanas emergentes (pop-ups) aparecen para confirmar acciones importantes, como programar o detener el riego. Se presentan con colores destacados, y siempre incluyen tres opciones: "Aceptar", "Cancelar" y "Cerrar" (ícono “X”), adaptándose automáticamente a la resolución del dispositivo.

**Mobile Interface Guidelines**  
La versión mobile mantiene la misma identidad visual y experiencia que la interfaz web, adaptándose a las restricciones de espacio y tamaño de pantalla.

* **Imágenes:** Se optimizan para dispositivos móviles, manteniendo su propósito informativo y estético sin interferir en la usabilidad. Se prioriza la carga rápida y el uso eficiente del espacio.
* **Botones:** Se redimensionan para facilitar su manipulación táctil, con zonas de interacción suficientemente amplias. Se mantiene el mismo set de íconos para asegurar coherencia visual entre plataformas.
* **Pop-ups:** Se adaptan al tamaño del dispositivo, evitando bloquear contenido importante. Su aparición se limita a momentos clave y su diseño asegura legibilidad y claridad en la interacción.

**IoT Interface Guidelines**  
En el caso de WaruSmart, el dispositivo IoT está actualmente en fase de diseño conceptual. Dado que el sistema está enfocado en la automatización del riego mediante sensores de humedad y variables ambientales, toda la interacción del usuario se realiza a través de las interfaces web y mobile. El dispositivo solo incorpora un botón físico de encendido y apagado, pensado para facilitar su activación manual en el campo sin necesidad de conexión digital.


## 5.2 Information Architecture

WatuSmart está pensada para ser utilizada por usuarios con poca experiencia con aparatos digitales, debido a esto, la información debe ser mostrada de forma intuitiva, asegurándose de 
que visualmente, el usuario pueda saber que es lo que se encuentra visualizando.

### 5.2.1 Organization Systems

En WaruSmart, los distintos cultivos monitoreados se organizaran de forma secuencial, según las fase de desarrollo, esto con el objetivo de que el usuario pueda localizar con facilidad 
los cultivos a recolectar. Cuando desee ver información sobre los últimos riegos, estos se mostrarán en orden cronológico a partir del más reciente.

Las distintas opciones de la aplicación se verán organizadas se forma secuencial según la fase de desarrollo a la que está relacionada

Finalmente, al visualizar la información de un cultivo en específico, esta se ordenará de forma jerarquica, priorizando las características según la importancia.

### 5.2.2 Labeling Systems

Las distintas secciones de la aplicación cuentan con un título encargado de explicar al usuario que se encuentra viendo.

Dentro de cada sección, cada apartado cuenta con un subtítulo propio el cual explica lo que el usuario está visualizando, estos subtítulos no deben ser iguales a los títulos de la sección.

Al visualizar los últimos riegos, cada uno mostrará la fecha y hora en que se realizó.

### 5.2.3 SEO and Meta Tags

**Title**

```html
    <title>WaruSmartLandingPage</title>
```

**Charset**

```html
    <meta charset="UTF-8">
```

**Description**

```html
    <meta name="description" content="WaruSmart is an IOT solution for crop irrigation"/>
```

**Keywords**

```html
    <meta name="keywords" content="riego, cuidado, agricultores, tecnología, cultivos"/>
```
**Copyright and Author**

```html
    <meta name="author" content="Codex"/>
    <meta name="copyright" content="Copyright Codex team" />
```

**ASO**

APP Title: WaruSmart<br>
APP keywords: Agricultura, cultivos, riego, cuidado, IOT<br>
App Subtitle: Help for your crops management<br>
App Description: Mobile application for WaruSmart, viusalize your crops data in your phone. (WaruSmart IOT service needed)<br>


### 5.2.4 Searching Systems

El sistema de búsqueda será usado principalmente para ubicar riegos y cultivos.

Para encontrar un riego en específico, el usuario puede buscar por día en el que se realizaron, esto será apoyado por la información de la fecha y hora mostradas.

En la busqueda de un cultivo, el usuario puede filtrarlos según la etapa de desarrollo, así como buscar según la fecha en que fueron plantados. En ambos casos, los 
resultados se mostrarán ordenados según la fehca en que fueron plantados, empezando por el más antiguo

### 5.2.5 Navigation Systems

En Warusmart, los usuarios pueden navegar a travez de una barra superior, la cual contiene botones que los redirigen a las distintas secciones de la aplicación. Dentro de estas, el usuario puede elegir volver 
al menú principal, como también puede usar la misma barra para viajar a otras secciones. En las secciones que lo permiten, también se podrá usar una barra de búsqueda
para fioltrar los resultados obtenidos.

## 5.3 Landing Page UI Design

### 5.3.1 Wireframe

### 5.3.2 Mock-up

## 5.4 Applications UX/UI Design

### 5.4.1 Wireframes
  
### 5.4.2 Wireflow Diagrams
  
### 5.4.3 Mock-ups
  
### 5.4.4 User Flow Diagrams

## 5.5 Applications Prototyping

# Capítulo VI: Product Implementation, Validation & Deployment

## 6.1 Software Configuration Management

### 6.1.1 Software Development Environment Configuration

### Project Management
Para la organizacion del proyecto necesitabamos una planificación en cuanto a tareas asignadas, un punto de reunión y un repositorio donde trabajaramos en conjunto cada avance del proyecto, es por esto que elegimos las siguientes herramientas:

- Centro de organización de trabajo: Github

- Planificación de tareas: Trello

- Reuniones con el equipo: Google Meet

### Requirements Management
Se utilizó Trello para la organización y registro de las tareas por hacer, las que están en proceso y las realizadas. De esta forma podemos tener control acerca del avance del proyecto y las actividades de cada uno de los miembros del equipo.

| Link de referencia   | URL                                                         |
|----------------------|-------------------------------------------------------------|
| TRELLO | [https://www.trello.com/](https://www.trello.com/) |

#### Product UX/UI Design
Se utilizó Figma para el diseño de los wireframes, mockups y el prototipo de la Web App debido a que proporciona una amplia gama de opciones, además de ser la plataforma que ofrece más herramientas para colaborar en equipo.

| Link de referencia   | URL                                                         |
|----------------------|-------------------------------------------------------------|
| FIGMA | [https://www.figma.com/](https://www.figma.com/) |

#### Software Developement
Para la implementación del proyecto se utilizaron Webstorm, VSCode y Rider como nuestros entornos de desarrollo integrados. Webstorm fue elegido por su amplia variedad de opciones para el desarrollo de aplicaciones web, mientras que VSCode facilitó la creación de documentación, especialmente a través de la vista previa. Ambos IDEs fueron esenciales para el desarrollo del proyecto. Además, se utilizó Rider como IDE debido al trabajo en el backend, ya que se empleó .NET Core para su desarrollo.

| Link de referencia   | URL                                                         |
|----------------------|-------------------------------------------------------------|
| WebStorm             | [https://www.jetbrains.com/webstorm/](https://www.jetbrains.com/webstorm/) |
| Visual Studio Code   | [https://code.visualstudio.com/docs](https://code.visualstudio.com/docs) |
| Rider                | [https://www.jetbrains.com/rider/](https://www.jetbrains.com/rider/) |


HTML(HyperText Markup Language): El lenguaje base de etiquetado para aplicaciones web sera empleado en este proyecto.

| Link de referencia   | URL                                                         |
|----------------------|-------------------------------------------------------------|
| HTML Documentation | [https://www.w3schools.com/html/html5_syntax.asp](https://www.w3schools.com/html/html5_syntax.asp) |

CSS (Cascading Style Sheets): Viene de la mano con HTML, Cascade Style Sheets maneja el diseño de las aplicaciones web.

| Link de referencia   | URL                                                         |
|----------------------|-------------------------------------------------------------|
| CSS Documentation | [https://www.w3schools.com/css/css_intro.asp](https://www.w3schools.com/css/css_intro.asp) |


Javascript: El lenguaje de programación utilizado para la landing page es de Javascript, esto porque trabaja de forma excelente con HTML y CSS para hacer animaciones llamativas.
| Link de referencia   | URL                                                         |
|----------------------|-------------------------------------------------------------|
| JavaScript Documentation | [https://developer.mozilla.org/en-US/docs/Web/JavaScript](https://developer.mozilla.org/en-US/docs/Web/JavaScript) |


C#: Un lenguaje de programación potente respaldado por .NET, ideal para el desarrollo backend debido a su integración estrecha con el framework y su rendimiento eficiente.

| Link de referencia   | URL                                                        |
|----------------------|------------------------------------------------------------|
| C# Documentation     | [https://learn.microsoft.com/en-us/dotnet/csharp/](https://learn.microsoft.com/en-us/dotnet/csharp/) |


Android Nativo: Un enfoque de desarrollo de aplicaciones móviles que utiliza Java o Kotlin para crear apps específicamente para Android, aprovechando al máximo las capacidades del sistema operativo y ofreciendo un rendimiento óptimo.

| Link de referencia   | URL                                            |
|----------------------|------------------------------------------------|
| Android Studio       | [https://developer.android.com/studio](https://developer.android.com/studio) |


**Software Testing**
Para las pruebas de software, tanto de la landing page como de la aplicación web, se utilizaron las herramientas de desarrollador de los principales navegadores web: Google Chrome, Microsoft Edge y Mozilla Firefox. Estos navegadores están disponibles de forma gratuita, tanto en sus versiones de escritorio como móviles. Las versiones de escritorio pueden instalarse desde sus sitios oficiales, mientras que las versiones móviles están disponibles en las tiendas de aplicaciones correspondientes. Además, para las pruebas unitarias del backend, se empleará MOQ.

| Link de referencia   | URL                                           |
|----------------------|-----------------------------------------------|
| Google Chrome        | [https://www.google.com.mx/chrome/](https://www.google.com.mx/chrome/) |
| Microsoft Edge       | [https://www.microsoft.com/es-es/edge](https://www.microsoft.com/es-es/edge) |
| Mozilla Firefox      | [https://www.mozilla.org/en-US/firefox/](https://www.mozilla.org/en-US/firefox/) |
| Moq                  | [https://www.nuget.org/packages/Moq](https://www.nuget.org/packages/Moq) |


**Software Deployment**

Las aplicaciones serán desplegadas en diferentes plataformas según su funcionalidad. La landing page y la aplicación web se desplegarán en Netlify. Por otro lado, la API se desplegará en Azure, aprovechando su infraestructura robusta y escalable para ofrecer un rendimiento optimizado. La base de datos también será alojada en Azure, garantizando una integración fluida y un manejo eficiente de los datos.

| Link de referencia | URL |
|--------------------|-----|
| Netlify            | [https://app.netlify.com/](https://app.netlify.com/) |
| Azure              | [https://portal.azure.com/#home](https://portal.azure.com/#home) |

**Software Documentation**

Markdown es un lenguaje de marcado ligero que permite formatear texto de manera sencilla utilizando texto plano, ideal para documentar proyectos de forma clara. Structurizr es una herramienta que facilita la creación de diagramas C4 con una sintaxis similar a un lenguaje de programación, y requiere una cuenta registrada para su uso. Por último, Vertabelo es una aplicación web colaborativa que facilita el diseño e implementación de bases de datos, compatible con una amplia variedad de motores.

| Link de referencia | URL |
|--------------------|-----|
| Markdown            | [https://markdown.es/sintaxis-markdown/](https://markdown.es/sintaxis-markdown/) |
| Structurizr              | [https://structurizr.com/](https://structurizr.com/) |
| Vertabelo              | [https://www.vertabelo.com/](https://www.vertabelo.com/) |

### 6.1.2 Source Code Management

|  |  |
|--------------------|-----|
| Link Landing Page            | [https://github.com/upc-pre-202510-1asi0572-2947-codex/WaruSmart-LandingPage](https://github.com/upc-pre-202510-1asi0572-2947-codex/WaruSmart-LandingPage) |
| Link Web Services              | [https://github.com/upc-pre-202510-1asi0572-2947-codex/Waru-Smart-WebServices](https://github.com/upc-pre-202510-1asi0572-2947-codex/Waru-Smart-WebServices) |
| Link Front Web Application              | [https://github.com/upc-pre-202510-1asi0572-2947-codex/WaruSmart-WebPlatform](https://github.com/upc-pre-202510-1asi0572-2947-codex/WaruSmart-WebPlatform) |
| Link Mobile Applications             | [https://github.com/upc-pre-202510-1asi0572-2947-codex/WaruSmart-MobileApplication](https://github.com/upc-pre-202510-1asi0572-2947-codex/WaruSmart-MobileApplication) |

#### Flujo de trabajo GitFlow
<img src="./Assets/chapter-vi/Gitflow.png" width="100%" alt="Ejemplo flujo de Gitflow"/>

Se aplicará GitFlow utilizando el artículo de Vincent Driessen, “A successful Git branching model”. A continuación se dará una explicación de cada Branch que se utiliza en el modelo GitFlow.

- MASTER: Se utilizara esta rama como la versión estable y lista para producción. Todos los cambios que se fusionan aquí ya se consideran seguros y listos para implementar.

- DEVELOP: Esta rama es donde se trabajarán nuevas características y correcciones de errores. Es la rama principal de desarrollo.

- FEATURE BRANCHES: Son ramas de características para trabajar en nuevas funciones. Cada característica tendrá su propia rama, para que se trabaje de manera aislada, luego se fusiona con la rama DEVELOP.

- RELEASE BRANCHES: Son las ramas de lanzamiento que sirven para preparar una nueva versión del software. Se corrigen errores, pruebas finales y se prepara para fusionarse con MASTER y DEVELOP.

= HOTFIX BRANCHES: Son esenciales cuando ocurren errores en la producción. Se crean directamente desde MASTER, se solucionan los problemas y se fusionan los cambios en las ramas de MASTER y DEVELOP.


Commit Conventions Para el formato de los COMMITS se aplicará lo siguiente: <type>:<description> Donde:

TYPE: Solo pueden ser 3 tipos, sea BREAKING que se relaciona con X, luego FEAT que se relaciona con Y y por último FIX que se relaciona con Z.

### 6.1.3 Source Code Style Guide & Conventions

**HTML:** https://www.w3schools.com/html/html5_syntax.asp

**Index.html**

Es la página por defecto dentro de los directorios de los servidores de cualquier sitio web que se carga siempre que se solicita un dominio y no se especifica el nombre de un archivo en específico. Y en la mayoría de los casos el propio servidor web es el que se encarga de buscar el archivo index.

**Convenciones de HTML:**

- Se debe declarar el tipo de documento en la primera línea: `<!DOCTYPE html>`
- Se recomienda usar minúsculas en las etiquetas y estructuras: `<body>` `<p>`
- Se recomienda cerrar todas las etiquetas y estructuras: `<p>This is a paragraph.</p>`
- Se recomienda usar minúsculas en los atributos: `<a href="https://www.google.com/html/"></a>`
- Se recomienda usar comillas en los valores de atributo: `<table class="striped">`
- Se debe especificar el alt, ancho y alto de las imágenes: `<img src="html5.gif" alt="HTML5" style="width:128px;height:128px">`
- Se recomienda no usar espacios a la hora de usar el signo “=”: `<link rel="stylesheet" href="styles.css">`
- Solo se debe usar líneas en blaco para facilitar la lectura de bloques de códigos grandes o lógicos.
- No se debe omitir el elemento `<title>` ya que es vital para el motor de búsqueda, así como también se recomienda que el contenido de los `<title>` sea preciso y significativo: `<title>HTML Style Guide and Coding Conventions</title>`
- No se recomienda omitir las etiquetas `<html>` y `<body>` ya que puede producir errores en navegadores antiguos y puede bloquear el software DOM y XML.
- Se debe usar el atributo lang para declarar el idioma de la página web: `<html lang="en-us">`
- Se debe utilizar el atributo meta para una interpretación adecuada e indexación correcta en los motores de búsqueda: `<meta charset="UTF-8">`

**CSS:** https://google.github.io/styleguide/htmlcssguide.html

**Style.css**

El estilo de cascada (CSS) se puede usar para estilos de texto, por ejemplo, cambiar de color y el tamaño de los encabezados, enlaces, entre otras cosas.

**Convenciones de CSS:**

- Utilizar el protocolo HTTPS para imágenes y otros archivos multimedia: `@import 'https://fonts.googleapis.com/css?family=Open+Sans'` ; Todo el código debe estar en minúsculas como nombres de elementos HTML, atributos, valores de atributo, entre otros: `color : #e5e5e5;`
- El nombre de una clase debe transmitir lo que hace de la forma más breve posible ya que de esta manera se apoya la comprensibilidad y eficiencia del código: navegación {} . autor {} Se debe separar los nombres de las clases con un guión (“-”): navegación {} . autor {}
- Se recomienda usar propiedades abreviadas cuando sea posible: `border - top : 0 ;`
- Se recomienda usar la notación hexadecimal de 3 caracteres en colores que lo permitan: `color : #ebc;`
- Se recomienda ordenar las declaraciones de propiedades y características en orden alfabético
- Se debe usar un “;” después de cada declaración: `pantalla : bloque ;`
- Se debe usar un espacio después de los “:” de cada nombre de la propiedad: `font - weight : bold ;`
- Se debe usar un espacio entre el último sector y la llave “{ “ que comienza el bloque de declaración:. vídeo {.....}
- Se debe usar las comillas simples (‘ ‘) para los atributos y valores de propiedad: `familia de fuentes : ' open sans' , arial , sans - serif ;`

**Gherkin**: https://cucumber.io/docs/gherkin/reference/

**`<usertStoryID>`.featrue** :

En este archivo de formato feature estarán las historias de usuario como características de la aplicación. Asimismo se pueden encontrar los criterios de aceptación para las diversas situaciones.

**Convenciones de Gherkin**:

- Se utiliza la palabra Feature para introducir una descripción de alto nivel de una función de software y agruparlos en escenarios relacionados
- Example o Scenario sirven para plantear una situación
- Se utiliza Given para describir el contexto inicial, When para describir un evento y Then para describir un resultado esperado y And para adicionar información. Given,When,Then y And se usan para describir un escenario
- El carácter “|” sirve para formar una tabla datos, las cuales son útiles para pasar una lista de valores a una definición de paso.

**C#:** https://learn.microsoft.com/en-us/dotnet/csharp/

**Convenciones de C#:**

- Los nombres de clases deben ser sustantivos y usar PascalCase.

Los nombres de métodos deben ser verbos y usar PascalCase.
- El nombre de las variables debe usar camelCase, comenzando en minúsculas.
- Para las sentencias if, else, for, do y while se deben usar “{ }”.
- Las constantes deben ir en mayúsculas con guiones bajos (UPPER_CASE).
- Las propiedades deben usar PascalCase.
- Los nombres de los espacios de nombres (namespaces) deben ser sustantivos en PascalCase.

**JavaScript**: https://google.github.io/styleguide/jsguide.html. 

**Convenciones de JavaScript**:

- Se debe usar Camelcase para los nombres de variables y funciones.
- Se debe usar Pascalcase para los nombres de constructores o clases.
- Se debe usar mayúsculas y guiones bajos para los nombres de la constantes, por ejemplo UPPER_CASE_WITH_UNDERSCORES..
- Se debe usar let y const para definir las variables, var debe evitarse.
- Para los comentarios de una sola línea debe usar “ // ” y para bloques de comentario se debe usar  “ /* */ ”.
Se debe incluir un punto y coma al final de cada instrucción.

**.NET Core**: [https://learn.microsoft.com/en-us/dotnet/core/](https://learn.microsoft.com/en-us/dotnet/core/)

**Convenciones de .NET Core**:

- Se deben emplear `[Controller]`, `[Service]`, `[Repository]`, `[Component]`, `Dependency Injection` para gestionar y definir los componentes dentro de una aplicación.
- Para el manejo de excepciones, se debe utilizar middleware de manejo global o controladores personalizados con `try-catch` y `ExceptionMiddleware`.
- Se debe usar `IServiceScope` para gestionar las dependencias de los servicios y su ciclo de vida.
- Para la autenticación y autorización de una aplicación, se debe usar `ASP.NET Core Identity` junto con `JWT` (JSON Web Tokens) o `OAuth`.
- Los nombres de las clases y espacios de nombres deben ser descriptivos y reflejar claramente la funcionalidad que proporcionan los componentes.


**Vue.js**: https://vuejs.org/v2/style-guide/

**Convenciones de Vue.js**:
- Usar PascalCase para nombrar componentes (`UserCard.vue`).
- Usar kebab-case para usar componentes en plantillas (`<user-card />`).
- Un componente por archivo `.vue`.
- Estructurar los archivos `.vue` con `<template>`, `<script>`, y `<style>` en ese orden.
- Usar `scoped` en estilos si solo deben afectar al componente.
- Usar camelCase para las props en JS (`userName`).
- Usar kebab-case para las props en HTML (`:user-name="..."`).
- Usar kebab-case para nombres de eventos personalizados (`@user-clicked="..."`).
- Ordenar las opciones del componente de forma consistente (`name`, `props`, `data`, `computed`, `methods`, etc.).
- Definir vistas en PascalCase (`HomeView.vue`, `AboutView.vue`).
- Importar vistas en rutas usando `() => import(...)` para lazy loading.
- Agrupar componentes por funcionalidad en carpetas (`components/`, `views/`, etc.).

**Kotlin con Android Nativo**: [https://developer.android.com/kotlin](https://developer.android.com/kotlin)

**Convenciones de Kotlin con Android Nativo**:

- Los nombres de las clases deben usar PascalCase, comenzando con mayúscula, y reflejar el propósito de la clase.
- Los nombres de los métodos deben usar camelCase, comenzando con minúscula y ser verbos descriptivos de la acción realizada.
- Las variables deben ser nombradas usando camelCase, comenzando con minúscula.
- Se deben emplear `ViewModel`, `LiveData` y `Repository` para gestionar la arquitectura de la aplicación siguiendo el patrón MVVM.
- Los recursos de la UI deben estar definidos correctamente en los archivos XML y referenciados utilizando `findViewById` o `ViewBinding`.
- La gestión de la autenticación y autorización se debe realizar utilizando librerías como Firebase Authentication o implementaciones propias con OAuth.
- Los archivos y clases deben estar organizados de forma que el código sea fácilmente mantenible y entendible, con nombres claros y funcionales.


### 6.1.4 Software Deployment Configuration

En esta seccion abordaremos el despliegue de nuestro Landing Page, Aplicacion Web y Backend API Aplication.

**1. Landing Page**

Para el despliegue de la Landing Page se utilizara Netlify https://app.netlify.com/

<img src="./Assets/chapter-vi/netlify-new-project.png">

Una vez entrando en la opcion de agregar nuevo deploy, conectamos con Github donde tenemos nuestros repositorios de desarrollo y escogemos el repositorio de WaruSmart-WebPlatform.

<img src="./Assets/chapter-vi/select-repository-1.png">

Al ser una aplicación de solo HTML no ocupa una configuración de builde con comandos personalizados.

<img src="./Assets/chapter-vi/deploy-configuration-1.png">

Luego de unos segundos se completará el builde y se te brindará un URL para poder accedr a la página web.

<img src="./Assets/chapter-vi/deploy-view-2.png">

<img src="./Assets/chapter-vi/deploy-view-3.png">

**2. Aplicación Web**

De igual forma que la Landing Page se utilizo Netlify para el despliegue de la aplicación web, teniendo que iniciar sesion en la plataforma https://app.netlify.com/

<img src="./Assets/chapter-vi/netlify-new-project.png">

Una vez entrando en la opcion de agregar nuevo deploy, conectamos con Github donde tenemos nuestros repositorios de desarrollo y escogemos el repositorio de WaruSmart-WebPlatform.

<img src="./Assets/chapter-vi/select-repository.png">

Una vez dentro debemos agregar las opciones de Buildeo para un correcta creacion del deploy del proyecto.

<img src="./Assets/chapter-vi/deploy-configuration.png">

Luego de unos minutos el buildeo se debio completar y se te brindará un URL para poder acceder a la página web.

<img src="./Assets/chapter-vi/deploy-view.png">

<img src="./Assets/chapter-vi/deploy-view-1.png">

**3. Backend API Aplication**

Se utilizo Azure para el despliegue de la aplicacion Backend Api desarrollada en Net Core. La configuracion inicial se evidencia en la siguiente captura:

<img src="./Assets/chapter-vi/backend-1.jpeg">

En la siguiente imagen se evidencia las creación tanto de los recursos de la base de datos ("waru-smart-server"), aplicacion de servicio ("waru-smart") entre otros recursos indispensables para el correcto funcionamiento del servicios API.

<img src="./Assets/chapter-vi/backend-2.jpeg">

Por último visualizamos el API una vez deployado, en la página de documentación swagger para la visualización de los Endpoints y futuro acceso mediante la aplicación web a través de los endpoints.

<img src="./Assets/chapter-vi/backend-3.jpeg">

En la siguiente captura se visualiza el Actions actualizado en nuestro repositorio de Github relacionado con el deploy.

<img src="./Assets/chapter-vi/CI-CD.jfif">


## 6.2 Landing Page, Services & Applications Implementation

### 6.2.1 Sprint 1

#### 6.2.1.1 Sprint Planning 1

#### 6.2.1.2 Aspect Leaders and Collaborators

#### 6.2.1.3 Sprint Backlog 1

#### 6.2.1.4 Development Evidence for Sprint Review

#### 6.2.1.5 Testing Suite Evidence for Sprint Review

#### 6.2.1.6 Execution Evidence for Sprint Review

#### 6.2.1.7 Services Documentation Evidence for Sprint Review

#### 6.2.1.8 Software Deployment Evidence for Sprint Review

#### 6.2.1.9 Team Collaboration Insights during Sprint

## Conclusiones
 
 - A partir del análisis realizado, se logró estructurar de manera inicial la solución **Warusmart**, orientada a la gestión inteligente del riego mediante tecnologías IoT y plataformas web. La aplicación de técnicas como **Event Storming** y **Domain-Driven Design** permitió identificar los principales eventos, actores, comandos y políticas que formarán la base del sistema, asegurando una visión coherente de su funcionamiento.
 
 - La delimitación de Bounded Contexts y la elaboración de un Context Mapping permitieron organizar adecuadamente las distintas áreas funcionales del sistema, favoreciendo la modularidad, la escalabilidad futura y la claridad de responsabilidades. Este trabajo preliminar proporciona un marco sólido para el diseño posterior de la infraestructura técnica y el desarrollo de los microservicios correspondientes.
 
 ## Recomendaciones
 
 - Se recomienda continuar con la validación y refinamiento de los eventos y bounded contexts establecidos, realizando sesiones de revisión y ajustes conforme se vayan detallando nuevas funcionalidades, para asegurar que la evolución del sistema mantenga la cohesión del modelo conceptual inicial.
 
 - Es importante planificar desde esta etapa el diseño de mecanismos robustos de monitoreo y manejo de errores tanto en sensores como en la plataforma, de manera que se garantice la fiabilidad del sistema frente a fallos de hardware o inconsistencias de datos que puedan surgir durante su implementación en entornos reales.

## Video About-the-Team

# Bibliografía

# Anexos
### Videos de Exposición
 
 | Enlace                | Entregable |
 | --------------------- | ---------- |
 | https://goo.su/8Zz305 | TB1        |
 |                       | TP         |
 |                       | TB2        |
 |                       | TF         |

### Repositorio del Frontend
https://github.com/upc-pre-202510-1asi0572-2947-codex/WaruSmart-WebPlatform

### Repositorio del Backend
https://github.com/upc-pre-202510-1asi0572-2947-codex/WaruSmart-web-services-backend
